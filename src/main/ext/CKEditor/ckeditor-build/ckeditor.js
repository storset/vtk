/*
Copyright (c) 2003-2010, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.html or http://ckeditor.com/license
*/

(function(){if(!window.CKEDITOR)window.CKEDITOR=(function(){var h={timestamp:'B1CB4XQ',version:'3.5.1',revision:'6398',_:{},status:'unloaded',basePath:(function(){var k=window.CKEDITOR_BASEPATH||'';if(!k){var l=document.getElementsByTagName('script');for(var m=0;m<l.length;m++){var n=l[m].src.match(/(^|.*[\\\/])ckeditor(?:_basic)?(?:_source)?.js(?:\?.*)?$/i);if(n){k=n[1];break;}}}if(k.indexOf(':/')==-1)if(k.indexOf('/')===0)k=location.href.match(/^.*?:\/\/[^\/]*/)[0]+k;else k=location.href.match(/^[^\?]*\/(?:)/)[0]+k;if(!k)throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return k;})(),getUrl:function(k){if(k.indexOf(':/')==-1&&k.indexOf('/')!==0)k=this.basePath+k;if(this.timestamp&&k.charAt(k.length-1)!='/'&&!/[&?]t=/.test(k))k+=(k.indexOf('?')>=0?'&':'?')+'t='+this.timestamp;return k;}},i=window.CKEDITOR_GETURL;if(i){var j=h.getUrl;h.getUrl=function(k){return i.call(h,k)||j.call(h,k);};}return h;})();var h=CKEDITOR;if(!h.event){h.event=function(){};h.event.implementOn=function(i){var j=h.event.prototype;for(var k in j){if(i[k]==undefined)i[k]=j[k];}};h.event.prototype=(function(){var i=function(k){var l=k.getPrivate&&k.getPrivate()||k._||(k._={});return l.events||(l.events={});},j=function(k){this.name=k;this.listeners=[];};j.prototype={getListenerIndex:function(k){for(var l=0,m=this.listeners;l<m.length;l++){if(m[l].fn==k)return l;}return-1;}};return{on:function(k,l,m,n,o){var p=i(this),q=p[k]||(p[k]=new j(k));if(q.getListenerIndex(l)<0){var r=q.listeners;if(!m)m=this;if(isNaN(o))o=10;var s=this,t=function(v,w,x,y){var z={name:k,sender:this,editor:v,data:w,listenerData:n,stop:x,cancel:y,removeListener:function(){s.removeListener(k,l);}};l.call(m,z);return z.data;};t.fn=l;t.priority=o;for(var u=r.length-1;u>=0;u--){if(r[u].priority<=o){r.splice(u+1,0,t);return;}}r.unshift(t);}},fire:(function(){var k=false,l=function(){k=true;},m=false,n=function(){m=true;};return function(o,p,q){var r=i(this)[o],s=k,t=m;k=m=false;if(r){var u=r.listeners;if(u.length){u=u.slice(0);for(var v=0;v<u.length;v++){var w=u[v].call(this,q,p,l,n);if(typeof w!='undefined')p=w;if(k||m)break;}}}var x=m||(typeof p=='undefined'?false:p);k=s;m=t;return x;};})(),fireOnce:function(k,l,m){var n=this.fire(k,l,m);delete i(this)[k];return n;},removeListener:function(k,l){var m=i(this)[k];if(m){var n=m.getListenerIndex(l);if(n>=0)m.listeners.splice(n,1);}},hasListeners:function(k){var l=i(this)[k];
return l&&l.listeners.length>0;}};})();}if(!h.editor){h.ELEMENT_MODE_NONE=0;h.ELEMENT_MODE_REPLACE=1;h.ELEMENT_MODE_APPENDTO=2;h.editor=function(i,j,k,l){var m=this;m._={instanceConfig:i,element:j,data:l};m.elementMode=k||0;h.event.call(m);m._init();};h.editor.replace=function(i,j){var k=i;if(typeof k!='object'){k=document.getElementById(i);if(k&&k.tagName.toLowerCase() in {style:1,script:1,base:1,link:1,meta:1,title:1})k=null;if(!k){var l=0,m=document.getElementsByName(i);while((k=m[l++])&&k.tagName.toLowerCase()!='textarea'){}}if(!k)throw '[CKEDITOR.editor.replace] The element with id or name "'+i+'" was not found.';}k.style.visibility='hidden';return new h.editor(j,k,1);};h.editor.appendTo=function(i,j,k){var l=i;if(typeof l!='object'){l=document.getElementById(i);if(!l)throw '[CKEDITOR.editor.appendTo] The element with id "'+i+'" was not found.';}return new h.editor(j,l,2,k);};h.editor.prototype={_init:function(){var i=h.editor._pending||(h.editor._pending=[]);i.push(this);},fire:function(i,j){return h.event.prototype.fire.call(this,i,j,this);},fireOnce:function(i,j){return h.event.prototype.fireOnce.call(this,i,j,this);}};h.event.implementOn(h.editor.prototype,true);}if(!h.env)h.env=(function(){var i=navigator.userAgent.toLowerCase(),j=window.opera,k={ie:/*@cc_on!@*/false,opera:!!j&&j.version,webkit:i.indexOf(' applewebkit/')>-1,air:i.indexOf(' adobeair/')>-1,mac:i.indexOf('macintosh')>-1,quirks:document.compatMode=='BackCompat',mobile:i.indexOf('mobile')>-1,isCustomDomain:function(){if(!this.ie)return false;var n=document.domain,o=window.location.hostname;return n!=o&&n!='['+o+']';}};k.gecko=navigator.product=='Gecko'&&!k.webkit&&!k.opera;var l=0;if(k.ie){l=parseFloat(i.match(/msie (\d+)/)[1]);k.ie8=!!document.documentMode;k.ie8Compat=document.documentMode==8;k.ie7Compat=l==7&&!document.documentMode||document.documentMode==7;k.ie6Compat=l<7||k.quirks;}if(k.gecko){var m=i.match(/rv:([\d\.]+)/);if(m){m=m[1].split('.');l=m[0]*10000+(m[1]||0)*100+ +(m[2]||0);}}if(k.opera)l=parseFloat(j.version());if(k.air)l=parseFloat(i.match(/ adobeair\/(\d+)/)[1]);if(k.webkit)l=parseFloat(i.match(/ applewebkit\/(\d+)/)[1]);k.version=l;k.isCompatible=!k.mobile&&(k.ie&&l>=6||k.gecko&&l>=10801||k.opera&&l>=9.5||k.air&&l>=1||k.webkit&&l>=522||false);k.cssClass='cke_browser_'+(k.ie?'ie':k.gecko?'gecko':k.opera?'opera':k.webkit?'webkit':'unknown');if(k.quirks)k.cssClass+=' cke_browser_quirks';if(k.ie){k.cssClass+=' cke_browser_ie'+(k.version<7?'6':k.version>=8?document.documentMode:'7');
if(k.quirks)k.cssClass+=' cke_browser_iequirks';}if(k.gecko&&l<10900)k.cssClass+=' cke_browser_gecko18';if(k.air)k.cssClass+=' cke_browser_air';return k;})();var i=h.env;var j=i.ie;if(h.status=='unloaded')(function(){h.event.implementOn(h);h.loadFullCore=function(){if(h.status!='basic_ready'){h.loadFullCore._load=1;return;}delete h.loadFullCore;var l=document.createElement('script');l.type='text/javascript';l.src=h.basePath+'ckeditor.js';document.getElementsByTagName('head')[0].appendChild(l);};h.loadFullCoreTimeout=0;h.replaceClass='ckeditor';h.replaceByClassEnabled=1;var k=function(l,m,n,o){if(i.isCompatible){if(h.loadFullCore)h.loadFullCore();var p=n(l,m,o);h.add(p);return p;}return null;};h.replace=function(l,m){return k(l,m,h.editor.replace);};h.appendTo=function(l,m,n){return k(l,m,h.editor.appendTo,n);};h.add=function(l){var m=this._.pending||(this._.pending=[]);m.push(l);};h.replaceAll=function(){var l=document.getElementsByTagName('textarea');for(var m=0;m<l.length;m++){var n=null,o=l[m],p=o.name;if(!o.name&&!o.id)continue;if(typeof arguments[0]=='string'){var q=new RegExp('(?:^|\\s)'+arguments[0]+'(?:$|\\s)');if(!q.test(o.className))continue;}else if(typeof arguments[0]=='function'){n={};if(arguments[0](o,n)===false)continue;}this.replace(o,n);}};(function(){var l=function(){var m=h.loadFullCore,n=h.loadFullCoreTimeout;if(h.replaceByClassEnabled)h.replaceAll(h.replaceClass);h.status='basic_ready';if(m&&m._load)m();else if(n)setTimeout(function(){if(h.loadFullCore)h.loadFullCore();},n*1000);};if(window.addEventListener)window.addEventListener('load',l,false);else if(window.attachEvent)window.attachEvent('onload',l);})();h.status='basic_loaded';})();h.dom={};var k=h.dom;(function(){var l=[];h.on('reset',function(){l=[];});h.tools={arrayCompare:function(m,n){if(!m&&!n)return true;if(!m||!n||m.length!=n.length)return false;for(var o=0;o<m.length;o++){if(m[o]!=n[o])return false;}return true;},clone:function(m){var n;if(m&&m instanceof Array){n=[];for(var o=0;o<m.length;o++)n[o]=this.clone(m[o]);return n;}if(m===null||typeof m!='object'||m instanceof String||m instanceof Number||m instanceof Boolean||m instanceof Date||m instanceof RegExp)return m;n=new m.constructor();for(var p in m){var q=m[p];n[p]=this.clone(q);}return n;},capitalize:function(m){return m.charAt(0).toUpperCase()+m.substring(1).toLowerCase();},extend:function(m){var n=arguments.length,o,p;if(typeof (o=arguments[n-1])=='boolean')n--;else if(typeof (o=arguments[n-2])=='boolean'){p=arguments[n-1];
n-=2;}for(var q=1;q<n;q++){var r=arguments[q];for(var s in r){if(o===true||m[s]==undefined)if(!p||s in p)m[s]=r[s];}}return m;},prototypedCopy:function(m){var n=function(){};n.prototype=m;return new n();},isArray:function(m){return!!m&&m instanceof Array;},isEmpty:function(m){for(var n in m){if(m.hasOwnProperty(n))return false;}return true;},cssStyleToDomStyle:(function(){var m=document.createElement('div').style,n=typeof m.cssFloat!='undefined'?'cssFloat':typeof m.styleFloat!='undefined'?'styleFloat':'float';return function(o){if(o=='float')return n;else return o.replace(/-./g,function(p){return p.substr(1).toUpperCase();});};})(),buildStyleHtml:function(m){m=[].concat(m);var n,o=[];for(var p=0;p<m.length;p++){n=m[p];if(/@import|[{}]/.test(n))o.push('<style>'+n+'</style>');else o.push('<link type="text/css" rel=stylesheet href="'+n+'">');}return o.join('');},htmlEncode:function(m){var n=function(r){var s=new k.element('span');s.setText(r);return s.getHtml();},o=n('\n').toLowerCase()=='<br>'?function(r){return n(r).replace(/<br>/gi,'\n');}:n,p=n('>')=='>'?function(r){return o(r).replace(/>/g,'&gt;');}:o,q=n('  ')=='&nbsp; '?function(r){return p(r).replace(/&nbsp;/g,' ');}:p;this.htmlEncode=q;return this.htmlEncode(m);},htmlEncodeAttr:function(m){return m.replace(/"/g,'&quot;').replace(/</g,'&lt;').replace(/>/g,'&gt;');},getNextNumber:(function(){var m=0;return function(){return++m;};})(),getNextId:function(){return 'cke_'+this.getNextNumber();},override:function(m,n){return n(m);},setTimeout:function(m,n,o,p,q){if(!q)q=window;if(!o)o=q;return q.setTimeout(function(){if(p)m.apply(o,[].concat(p));else m.apply(o);},n||0);},trim:(function(){var m=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(n){return n.replace(m,'');};})(),ltrim:(function(){var m=/^[ \t\n\r]+/g;return function(n){return n.replace(m,'');};})(),rtrim:(function(){var m=/[ \t\n\r]+$/g;return function(n){return n.replace(m,'');};})(),indexOf:Array.prototype.indexOf?function(m,n){return m.indexOf(n);}:function(m,n){for(var o=0,p=m.length;o<p;o++){if(m[o]===n)return o;}return-1;},bind:function(m,n){return function(){return m.apply(n,arguments);};},createClass:function(m){var n=m.$,o=m.base,p=m.privates||m._,q=m.proto,r=m.statics;if(p){var s=n;n=function(){var w=this;var t=w._||(w._={});for(var u in p){var v=p[u];t[u]=typeof v=='function'?h.tools.bind(v,w):v;}s.apply(w,arguments);};}if(o){n.prototype=this.prototypedCopy(o.prototype);n.prototype['constructor']=n;n.prototype.base=function(){this.base=o.prototype.base;
o.apply(this,arguments);this.base=arguments.callee;};}if(q)this.extend(n.prototype,q,true);if(r)this.extend(n,r,true);return n;},addFunction:function(m,n){return l.push(function(){return m.apply(n||this,arguments);})-1;},removeFunction:function(m){l[m]=null;},callFunction:function(m){var n=l[m];return n&&n.apply(window,Array.prototype.slice.call(arguments,1));},cssLength:(function(){var m=/^\d+(?:\.\d+)?$/;return function(n){return n+(m.test(n)?'px':'');};})(),repeat:function(m,n){return new Array(n+1).join(m);},tryThese:function(){var m;for(var n=0,o=arguments.length;n<o;n++){var p=arguments[n];try{m=p();break;}catch(q){}}return m;},genKey:function(){return Array.prototype.slice.call(arguments).join('-');}};})();var l=h.tools;h.dtd=(function(){var m=l.extend,n={isindex:1,fieldset:1},o={input:1,button:1,select:1,textarea:1,label:1},p=m({a:1},o),q=m({iframe:1},p),r={hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1},s={ins:1,del:1,script:1,style:1},t=m({b:1,acronym:1,bdo:1,'var':1,'#':1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1},s),u=m({sub:1,img:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1},t),v=m({p:1},u),w=m({iframe:1},u,o),x={img:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,'#':1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,'var':1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1},y=m({a:1},w),z={tr:1},A={'#':1},B=m({param:1},x),C=m({form:1},n,q,r,v),D={li:1},E={style:1,script:1},F={base:1,link:1,meta:1,title:1},G=m(F,E),H={head:1,body:1},I={html:1},J={address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1};return{$nonBodyContent:m(I,H,F),$block:J,$blockLimit:{body:1,div:1,td:1,th:1,caption:1,form:1},$inline:y,$body:m({script:1,style:1},J),$cdata:{script:1,style:1},$empty:{area:1,base:1,br:1,col:1,hr:1,img:1,input:1,link:1,meta:1,param:1},$listItem:{dd:1,dt:1,li:1},$list:{ul:1,ol:1,dl:1},$nonEditable:{applet:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,script:1,textarea:1,param:1},$removeEmpty:{abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},html:H,head:G,style:A,script:A,body:C,base:{},link:{},meta:{},title:A,col:{},tr:{td:1,th:1},img:{},colgroup:{col:1},noscript:C,td:C,br:{},th:C,center:C,kbd:y,button:m(v,r),basefont:{},h5:y,h4:y,samp:y,h6:y,ol:D,h1:y,h3:y,option:A,h2:y,form:m(n,q,r,v),select:{optgroup:1,option:1},font:y,ins:y,menu:D,abbr:y,label:y,table:{thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1},code:y,script:A,tfoot:z,cite:y,li:C,input:{},iframe:C,strong:y,textarea:A,noframes:C,big:y,small:y,span:y,hr:{},dt:y,sub:y,optgroup:{option:1},param:{},bdo:y,'var':y,div:C,object:B,sup:y,dd:C,strike:y,area:{},dir:D,map:m({area:1,form:1,p:1},n,s,r),applet:B,dl:{dt:1,dd:1},del:y,isindex:{},fieldset:m({legend:1},x),thead:z,ul:D,acronym:y,b:y,a:w,blockquote:C,caption:y,i:y,u:y,tbody:z,s:y,address:m(q,v),tt:y,legend:y,q:y,pre:m(t,p),p:y,em:y,dfn:y};
})();var m=h.dtd;k.event=function(n){this.$=n;};k.event.prototype={getKey:function(){return this.$.keyCode||this.$.which;},getKeystroke:function(){var o=this;var n=o.getKey();if(o.$.ctrlKey||o.$.metaKey)n+=1000;if(o.$.shiftKey)n+=2000;if(o.$.altKey)n+=4000;return n;},preventDefault:function(n){var o=this.$;if(o.preventDefault)o.preventDefault();else o.returnValue=false;if(n)this.stopPropagation();},stopPropagation:function(){var n=this.$;if(n.stopPropagation)n.stopPropagation();else n.cancelBubble=true;},getTarget:function(){var n=this.$.target||this.$.srcElement;return n?new k.node(n):null;}};h.CTRL=1000;h.SHIFT=2000;h.ALT=4000;k.domObject=function(n){if(n)this.$=n;};k.domObject.prototype=(function(){var n=function(o,p){return function(q){if(typeof h!='undefined')o.fire(p,new k.event(q));};};return{getPrivate:function(){var o;if(!(o=this.getCustomData('_')))this.setCustomData('_',o={});return o;},on:function(o){var r=this;var p=r.getCustomData('_cke_nativeListeners');if(!p){p={};r.setCustomData('_cke_nativeListeners',p);}if(!p[o]){var q=p[o]=n(r,o);if(r.$.attachEvent)r.$.attachEvent('on'+o,q);else if(r.$.addEventListener)r.$.addEventListener(o,q,!!h.event.useCapture);}return h.event.prototype.on.apply(r,arguments);},removeListener:function(o){var r=this;h.event.prototype.removeListener.apply(r,arguments);if(!r.hasListeners(o)){var p=r.getCustomData('_cke_nativeListeners'),q=p&&p[o];if(q){if(r.$.detachEvent)r.$.detachEvent('on'+o,q);else if(r.$.removeEventListener)r.$.removeEventListener(o,q,false);delete p[o];}}},removeAllListeners:function(){var r=this;var o=r.getCustomData('_cke_nativeListeners');for(var p in o){var q=o[p];if(r.$.detachEvent)r.$.detachEvent('on'+p,q);else if(r.$.removeEventListener)r.$.removeEventListener(p,q,false);delete o[p];}}};})();(function(n){var o={};h.on('reset',function(){o={};});n.equals=function(p){return p&&p.$===this.$;};n.setCustomData=function(p,q){var r=this.getUniqueId(),s=o[r]||(o[r]={});s[p]=q;return this;};n.getCustomData=function(p){var q=this.$['data-cke-expando'],r=q&&o[q];return r&&r[p];};n.removeCustomData=function(p){var q=this.$['data-cke-expando'],r=q&&o[q],s=r&&r[p];if(typeof s!='undefined')delete r[p];return s||null;};n.clearCustomData=function(){this.removeAllListeners();var p=this.$['data-cke-expando'];p&&delete o[p];};n.getUniqueId=function(){return this.$['data-cke-expando']||(this.$['data-cke-expando']=l.getNextNumber());};h.event.implementOn(n);})(k.domObject.prototype);k.window=function(n){k.domObject.call(this,n);
};k.window.prototype=new k.domObject();l.extend(k.window.prototype,{focus:function(){if(i.webkit&&this.$.parent)this.$.parent.focus();this.$.focus();},getViewPaneSize:function(){var n=this.$.document,o=n.compatMode=='CSS1Compat';return{width:(o?n.documentElement.clientWidth:n.body.clientWidth)||0,height:(o?n.documentElement.clientHeight:n.body.clientHeight)||0};},getScrollPosition:function(){var n=this.$;if('pageXOffset' in n)return{x:n.pageXOffset||0,y:n.pageYOffset||0};else{var o=n.document;return{x:o.documentElement.scrollLeft||o.body.scrollLeft||0,y:o.documentElement.scrollTop||o.body.scrollTop||0};}}});k.document=function(n){k.domObject.call(this,n);};var n=k.document;n.prototype=new k.domObject();l.extend(n.prototype,{appendStyleSheet:function(o){if(this.$.createStyleSheet)this.$.createStyleSheet(o);else{var p=new k.element('link');p.setAttributes({rel:'stylesheet',type:'text/css',href:o});this.getHead().append(p);}},appendStyleText:function(o){var r=this;if(r.$.createStyleSheet){var p=r.$.createStyleSheet('');p.cssText=o;}else{var q=new k.element('style',r);q.append(new k.text(o,r));r.getHead().append(q);}},createElement:function(o,p){var q=new k.element(o,this);if(p){if(p.attributes)q.setAttributes(p.attributes);if(p.styles)q.setStyles(p.styles);}return q;},createText:function(o){return new k.text(o,this);},focus:function(){this.getWindow().focus();},getById:function(o){var p=this.$.getElementById(o);return p?new k.element(p):null;},getByAddress:function(o,p){var q=this.$.documentElement;for(var r=0;q&&r<o.length;r++){var s=o[r];if(!p){q=q.childNodes[s];continue;}var t=-1;for(var u=0;u<q.childNodes.length;u++){var v=q.childNodes[u];if(p===true&&v.nodeType==3&&v.previousSibling&&v.previousSibling.nodeType==3)continue;t++;if(t==s){q=v;break;}}}return q?new k.node(q):null;},getElementsByTag:function(o,p){if(!(j&&!(document.documentMode>8))&&p)o=p+':'+o;return new k.nodeList(this.$.getElementsByTagName(o));},getHead:function(){var o=this.$.getElementsByTagName('head')[0];if(!o)o=this.getDocumentElement().append(new k.element('head'),true);else o=new k.element(o);return(this.getHead=function(){return o;})();},getBody:function(){var o=new k.element(this.$.body);return(this.getBody=function(){return o;})();},getDocumentElement:function(){var o=new k.element(this.$.documentElement);return(this.getDocumentElement=function(){return o;})();},getWindow:function(){var o=new k.window(this.$.parentWindow||this.$.defaultView);return(this.getWindow=function(){return o;
})();},write:function(o){var p=this;p.$.open('text/html','replace');i.isCustomDomain()&&(p.$.domain=document.domain);p.$.write(o);p.$.close();}});k.node=function(o){if(o){switch(o.nodeType){case 9:return new n(o);case 1:return new k.element(o);case 3:return new k.text(o);}k.domObject.call(this,o);}return this;};k.node.prototype=new k.domObject();h.NODE_ELEMENT=1;h.NODE_DOCUMENT=9;h.NODE_TEXT=3;h.NODE_COMMENT=8;h.NODE_DOCUMENT_FRAGMENT=11;h.POSITION_IDENTICAL=0;h.POSITION_DISCONNECTED=1;h.POSITION_FOLLOWING=2;h.POSITION_PRECEDING=4;h.POSITION_IS_CONTAINED=8;h.POSITION_CONTAINS=16;l.extend(k.node.prototype,{appendTo:function(o,p){o.append(this,p);return o;},clone:function(o,p){var q=this.$.cloneNode(o),r=function(s){if(s.nodeType!=1)return;if(!p)s.removeAttribute('id',false);s.removeAttribute('data-cke-expando',false);if(o){var t=s.childNodes;for(var u=0;u<t.length;u++)r(t[u]);}};r(q);return new k.node(q);},hasPrevious:function(){return!!this.$.previousSibling;},hasNext:function(){return!!this.$.nextSibling;},insertAfter:function(o){o.$.parentNode.insertBefore(this.$,o.$.nextSibling);return o;},insertBefore:function(o){o.$.parentNode.insertBefore(this.$,o.$);return o;},insertBeforeMe:function(o){this.$.parentNode.insertBefore(o.$,this.$);return o;},getAddress:function(o){var p=[],q=this.getDocument().$.documentElement,r=this.$;while(r&&r!=q){var s=r.parentNode,t=-1;if(s){for(var u=0;u<s.childNodes.length;u++){var v=s.childNodes[u];if(o&&v.nodeType==3&&v.previousSibling&&v.previousSibling.nodeType==3)continue;t++;if(v==r)break;}p.unshift(t);}r=s;}return p;},getDocument:function(){return new n(this.$.ownerDocument||this.$.parentNode.ownerDocument);},getIndex:function(){var o=this.$,p=o.parentNode&&o.parentNode.firstChild,q=-1;while(p){q++;if(p==o)return q;p=p.nextSibling;}return-1;},getNextSourceNode:function(o,p,q){if(q&&!q.call){var r=q;q=function(u){return!u.equals(r);};}var s=!o&&this.getFirst&&this.getFirst(),t;if(!s){if(this.type==1&&q&&q(this,true)===false)return null;s=this.getNext();}while(!s&&(t=(t||this).getParent())){if(q&&q(t,true)===false)return null;s=t.getNext();}if(!s)return null;if(q&&q(s)===false)return null;if(p&&p!=s.type)return s.getNextSourceNode(false,p,q);return s;},getPreviousSourceNode:function(o,p,q){if(q&&!q.call){var r=q;q=function(u){return!u.equals(r);};}var s=!o&&this.getLast&&this.getLast(),t;if(!s){if(this.type==1&&q&&q(this,true)===false)return null;s=this.getPrevious();}while(!s&&(t=(t||this).getParent())){if(q&&q(t,true)===false)return null;
s=t.getPrevious();}if(!s)return null;if(q&&q(s)===false)return null;if(p&&s.type!=p)return s.getPreviousSourceNode(false,p,q);return s;},getPrevious:function(o){var p=this.$,q;do{p=p.previousSibling;q=p&&new k.node(p);}while(q&&o&&!o(q))return q;},getNext:function(o){var p=this.$,q;do{p=p.nextSibling;q=p&&new k.node(p);}while(q&&o&&!o(q))return q;},getParent:function(){var o=this.$.parentNode;return o&&o.nodeType==1?new k.node(o):null;},getParents:function(o){var p=this,q=[];do q[o?'push':'unshift'](p);while(p=p.getParent())return q;},getCommonAncestor:function(o){var q=this;if(o.equals(q))return q;if(o.contains&&o.contains(q))return o;var p=q.contains?q:q.getParent();do{if(p.contains(o))return p;}while(p=p.getParent())return null;},getPosition:function(o){var p=this.$,q=o.$;if(p.compareDocumentPosition)return p.compareDocumentPosition(q);if(p==q)return 0;if(this.type==1&&o.type==1){if(p.contains){if(p.contains(q))return 16+4;if(q.contains(p))return 8+2;}if('sourceIndex' in p)return p.sourceIndex<0||q.sourceIndex<0?1:p.sourceIndex<q.sourceIndex?4:2;}var r=this.getAddress(),s=o.getAddress(),t=Math.min(r.length,s.length);for(var u=0;u<=t-1;u++){if(r[u]!=s[u]){if(u<t)return r[u]<s[u]?4:2;break;}}return r.length<s.length?16+4:8+2;},getAscendant:function(o,p){var q=this.$;if(!p)q=q.parentNode;while(q){if(q.nodeName&&q.nodeName.toLowerCase()==o)return new k.node(q);q=q.parentNode;}return null;},hasAscendant:function(o,p){var q=this.$;if(!p)q=q.parentNode;while(q){if(q.nodeName&&q.nodeName.toLowerCase()==o)return true;q=q.parentNode;}return false;},move:function(o,p){o.append(this.remove(),p);},remove:function(o){var p=this.$,q=p.parentNode;if(q){if(o)for(var r;r=p.firstChild;)q.insertBefore(p.removeChild(r),p);q.removeChild(p);}return this;},replace:function(o){this.insertBefore(o);o.remove();},trim:function(){this.ltrim();this.rtrim();},ltrim:function(){var r=this;var o;while(r.getFirst&&(o=r.getFirst())){if(o.type==3){var p=l.ltrim(o.getText()),q=o.getLength();if(!p){o.remove();continue;}else if(p.length<q){o.split(q-p.length);r.$.removeChild(r.$.firstChild);}}break;}},rtrim:function(){var r=this;var o;while(r.getLast&&(o=r.getLast())){if(o.type==3){var p=l.rtrim(o.getText()),q=o.getLength();if(!p){o.remove();continue;}else if(p.length<q){o.split(p.length);r.$.lastChild.parentNode.removeChild(r.$.lastChild);}}break;}if(!j&&!i.opera){o=r.$.lastChild;if(o&&o.type==1&&o.nodeName.toLowerCase()=='br')o.parentNode.removeChild(o);}},isReadOnly:function(){var o=this;while(o){if(o.type==1){if(o.is('body')||!!o.data('cke-editable'))break;
if(o.getAttribute('contentEditable')=='false')return o;else if(o.getAttribute('contentEditable')=='true')break;}o=o.getParent();}return false;}});k.nodeList=function(o){this.$=o;};k.nodeList.prototype={count:function(){return this.$.length;},getItem:function(o){var p=this.$[o];return p?new k.node(p):null;}};k.element=function(o,p){if(typeof o=='string')o=(p?p.$:document).createElement(o);k.domObject.call(this,o);};var o=k.element;o.get=function(p){return p&&(p.$?p:new o(p));};o.prototype=new k.node();o.createFromHtml=function(p,q){var r=new o('div',q);r.setHtml(p);return r.getFirst().remove();};o.setMarker=function(p,q,r,s){var t=q.getCustomData('list_marker_id')||q.setCustomData('list_marker_id',l.getNextNumber()).getCustomData('list_marker_id'),u=q.getCustomData('list_marker_names')||q.setCustomData('list_marker_names',{}).getCustomData('list_marker_names');p[t]=q;u[r]=1;return q.setCustomData(r,s);};o.clearAllMarkers=function(p){for(var q in p)o.clearMarkers(p,p[q],1);};o.clearMarkers=function(p,q,r){var s=q.getCustomData('list_marker_names'),t=q.getCustomData('list_marker_id');for(var u in s)q.removeCustomData(u);q.removeCustomData('list_marker_names');if(r){q.removeCustomData('list_marker_id');delete p[t];}};l.extend(o.prototype,{type:1,addClass:function(p){var q=this.$.className;if(q){var r=new RegExp('(?:^|\\s)'+p+'(?:\\s|$)','');if(!r.test(q))q+=' '+p;}this.$.className=q||p;},removeClass:function(p){var q=this.getAttribute('class');if(q){var r=new RegExp('(?:^|\\s+)'+p+'(?=\\s|$)','i');if(r.test(q)){q=q.replace(r,'').replace(/^\s+/,'');if(q)this.setAttribute('class',q);else this.removeAttribute('class');}}},hasClass:function(p){var q=new RegExp('(?:^|\\s+)'+p+'(?=\\s|$)','');return q.test(this.getAttribute('class'));},append:function(p,q){var r=this;if(typeof p=='string')p=r.getDocument().createElement(p);if(q)r.$.insertBefore(p.$,r.$.firstChild);else r.$.appendChild(p.$);return p;},appendHtml:function(p){var r=this;if(!r.$.childNodes.length)r.setHtml(p);else{var q=new o('div',r.getDocument());q.setHtml(p);q.moveChildren(r);}},appendText:function(p){if(this.$.text!=undefined)this.$.text+=p;else this.append(new k.text(p));},appendBogus:function(){var r=this;var p=r.getLast();while(p&&p.type==3&&!l.rtrim(p.getText()))p=p.getPrevious();if(!p||!p.is||!p.is('br')){var q=i.opera?r.getDocument().createText(''):r.getDocument().createElement('br');i.gecko&&q.setAttribute('type','_moz');r.append(q);}},breakParent:function(p){var s=this;var q=new k.range(s.getDocument());
q.setStartAfter(s);q.setEndAfter(p);var r=q.extractContents();q.insertNode(s.remove());r.insertAfterNode(s);},contains:j||i.webkit?function(p){var q=this.$;return p.type!=1?q.contains(p.getParent().$):q!=p.$&&q.contains(p.$);}:function(p){return!!(this.$.compareDocumentPosition(p.$)&16);},focus:(function(){function p(){try{this.$.focus();}catch(q){}};return function(q){if(q)l.setTimeout(p,100,this);else p.call(this);};})(),getHtml:function(){var p=this.$.innerHTML;return j?p.replace(/<\?[^>]*>/g,''):p;},getOuterHtml:function(){var q=this;if(q.$.outerHTML)return q.$.outerHTML.replace(/<\?[^>]*>/,'');var p=q.$.ownerDocument.createElement('div');p.appendChild(q.$.cloneNode(true));return p.innerHTML;},setHtml:function(p){return this.$.innerHTML=p;},setText:function(p){o.prototype.setText=this.$.innerText!=undefined?function(q){return this.$.innerText=q;}:function(q){return this.$.textContent=q;};return this.setText(p);},getAttribute:(function(){var p=function(q){return this.$.getAttribute(q,2);};if(j&&(i.ie7Compat||i.ie6Compat))return function(q){var u=this;switch(q){case 'class':q='className';break;case 'tabindex':var r=p.call(u,q);if(r!==0&&u.$.tabIndex===0)r=null;return r;break;case 'checked':var s=u.$.attributes.getNamedItem(q),t=s.specified?s.nodeValue:u.$.checked;return t?'checked':null;case 'hspace':case 'value':return u.$[q];case 'style':return u.$.style.cssText;}return p.call(u,q);};else return p;})(),getChildren:function(){return new k.nodeList(this.$.childNodes);},getComputedStyle:j?function(p){return this.$.currentStyle[l.cssStyleToDomStyle(p)];}:function(p){return this.getWindow().$.getComputedStyle(this.$,'').getPropertyValue(p);},getDtd:function(){var p=m[this.getName()];this.getDtd=function(){return p;};return p;},getElementsByTag:n.prototype.getElementsByTag,getTabIndex:j?function(){var p=this.$.tabIndex;if(p===0&&!m.$tabIndex[this.getName()]&&parseInt(this.getAttribute('tabindex'),10)!==0)p=-1;return p;}:i.webkit?function(){var p=this.$.tabIndex;if(p==undefined){p=parseInt(this.getAttribute('tabindex'),10);if(isNaN(p))p=-1;}return p;}:function(){return this.$.tabIndex;},getText:function(){return this.$.textContent||this.$.innerText||'';},getWindow:function(){return this.getDocument().getWindow();},getId:function(){return this.$.id||null;},getNameAtt:function(){return this.$.name||null;},getName:function(){var p=this.$.nodeName.toLowerCase();if(j&&!(document.documentMode>8)){var q=this.$.scopeName;if(q!='HTML')p=q.toLowerCase()+':'+p;}return(this.getName=function(){return p;
})();},getValue:function(){return this.$.value;},getFirst:function(p){var q=this.$.firstChild,r=q&&new k.node(q);if(r&&p&&!p(r))r=r.getNext(p);return r;},getLast:function(p){var q=this.$.lastChild,r=q&&new k.node(q);if(r&&p&&!p(r))r=r.getPrevious(p);return r;},getStyle:function(p){return this.$.style[l.cssStyleToDomStyle(p)];},is:function(){var p=this.getName();for(var q=0;q<arguments.length;q++){if(arguments[q]==p)return true;}return false;},isEditable:function(){var p=this.getName(),q=!m.$nonEditable[p]&&(m[p]||m.span);return q&&q['#'];},isIdentical:function(p){if(this.getName()!=p.getName())return false;var q=this.$.attributes,r=p.$.attributes,s=q.length,t=r.length;for(var u=0;u<s;u++){var v=q[u];if(v.nodeName=='_moz_dirty')continue;if((!j||v.specified&&v.nodeName!='data-cke-expando')&&v.nodeValue!=p.getAttribute(v.nodeName))return false;}if(j)for(u=0;u<t;u++){v=r[u];if(v.specified&&v.nodeName!='data-cke-expando'&&v.nodeValue!=this.getAttribute(v.nodeName))return false;}return true;},isVisible:function(){var p=!!this.$.offsetHeight&&this.getComputedStyle('visibility')!='hidden',q,r;if(p&&(i.webkit||i.opera)){q=this.getWindow();if(!q.equals(h.document.getWindow())&&(r=q.$.frameElement))p=new o(r).isVisible();}return p;},isEmptyInlineRemoveable:function(){if(!m.$removeEmpty[this.getName()])return false;var p=this.getChildren();for(var q=0,r=p.count();q<r;q++){var s=p.getItem(q);if(s.type==1&&s.data('cke-bookmark'))continue;if(s.type==1&&!s.isEmptyInlineRemoveable()||s.type==3&&l.trim(s.getText()))return false;}return true;},hasAttributes:j&&(i.ie7Compat||i.ie6Compat)?function(){var p=this.$.attributes;for(var q=0;q<p.length;q++){var r=p[q];switch(r.nodeName){case 'class':if(this.getAttribute('class'))return true;case 'data-cke-expando':continue;default:if(r.specified)return true;}}return false;}:function(){var p=this.$.attributes,q=p.length,r={'data-cke-expando':1,_moz_dirty:1};return q>0&&(q>2||!r[p[0].nodeName]||q==2&&!r[p[1].nodeName]);},hasAttribute:function(p){var q=this.$.attributes.getNamedItem(p);return!!(q&&q.specified);},hide:function(){this.setStyle('display','none');},moveChildren:function(p,q){var r=this.$;p=p.$;if(r==p)return;var s;if(q)while(s=r.lastChild)p.insertBefore(r.removeChild(s),p.firstChild);else while(s=r.firstChild)p.appendChild(r.removeChild(s));},mergeSiblings:(function(){function p(q,r,s){if(r&&r.type==1){var t=[];while(r.data('cke-bookmark')||r.isEmptyInlineRemoveable()){t.push(r);r=s?r.getNext():r.getPrevious();if(!r||r.type!=1)return;
}if(q.isIdentical(r)){var u=s?q.getLast():q.getFirst();while(t.length)t.shift().move(q,!s);r.moveChildren(q,!s);r.remove();if(u&&u.type==1)u.mergeSiblings();}}};return function(q){var r=this;if(!(q===false||m.$removeEmpty[r.getName()]||r.is('a')))return;p(r,r.getNext(),true);p(r,r.getPrevious());};})(),show:function(){this.setStyles({display:'',visibility:''});},setAttribute:(function(){var p=function(q,r){this.$.setAttribute(q,r);return this;};if(j&&(i.ie7Compat||i.ie6Compat))return function(q,r){var s=this;if(q=='class')s.$.className=r;else if(q=='style')s.$.style.cssText=r;else if(q=='tabindex')s.$.tabIndex=r;else if(q=='checked')s.$.checked=r;else p.apply(s,arguments);return s;};else return p;})(),setAttributes:function(p){for(var q in p)this.setAttribute(q,p[q]);return this;},setValue:function(p){this.$.value=p;return this;},removeAttribute:(function(){var p=function(q){this.$.removeAttribute(q);};if(j&&(i.ie7Compat||i.ie6Compat))return function(q){if(q=='class')q='className';else if(q=='tabindex')q='tabIndex';p.call(this,q);};else return p;})(),removeAttributes:function(p){if(l.isArray(p))for(var q=0;q<p.length;q++)this.removeAttribute(p[q]);else for(var r in p)p.hasOwnProperty(r)&&this.removeAttribute(r);},removeStyle:function(p){var q=this;q.setStyle(p,'');if(q.$.style.removeAttribute)q.$.style.removeAttribute(l.cssStyleToDomStyle(p));if(!q.$.style.cssText)q.removeAttribute('style');},setStyle:function(p,q){this.$.style[l.cssStyleToDomStyle(p)]=q;return this;},setStyles:function(p){for(var q in p)this.setStyle(q,p[q]);return this;},setOpacity:function(p){if(j){p=Math.round(p*100);this.setStyle('filter',p>=100?'':'progid:DXImageTransform.Microsoft.Alpha(opacity='+p+')');}else this.setStyle('opacity',p);},unselectable:i.gecko?function(){this.$.style.MozUserSelect='none';this.on('dragstart',function(p){p.data.preventDefault();});}:i.webkit?function(){this.$.style.KhtmlUserSelect='none';this.on('dragstart',function(p){p.data.preventDefault();});}:function(){if(j||i.opera){var p=this.$,q,r=0;p.unselectable='on';while(q=p.all[r++])switch(q.tagName.toLowerCase()){case 'iframe':case 'textarea':case 'input':case 'select':break;default:q.unselectable='on';}}},getPositionedAncestor:function(){var p=this;while(p.getName()!='html'){if(p.getComputedStyle('position')!='static')return p;p=p.getParent();}return null;},getDocumentPosition:function(p){var K=this;var q=0,r=0,s=K.getDocument().getBody(),t=K.getDocument().$.compatMode=='BackCompat',u=K.getDocument();if(document.documentElement.getBoundingClientRect){var v=K.$.getBoundingClientRect(),w=u.$,x=w.documentElement,y=x.clientTop||s.$.clientTop||0,z=x.clientLeft||s.$.clientLeft||0,A=true;
if(j){var B=u.getDocumentElement().contains(K),C=u.getBody().contains(K);A=t&&C||!t&&B;}if(A){q=v.left+(!t&&x.scrollLeft||s.$.scrollLeft);q-=z;r=v.top+(!t&&x.scrollTop||s.$.scrollTop);r-=y;}}else{var D=K,E=null,F;while(D&&!(D.getName()=='body'||D.getName()=='html')){q+=D.$.offsetLeft-D.$.scrollLeft;r+=D.$.offsetTop-D.$.scrollTop;if(!D.equals(K)){q+=D.$.clientLeft||0;r+=D.$.clientTop||0;}var G=E;while(G&&!G.equals(D)){q-=G.$.scrollLeft;r-=G.$.scrollTop;G=G.getParent();}E=D;D=(F=D.$.offsetParent)?new o(F):null;}}if(p){var H=K.getWindow(),I=p.getWindow();if(!H.equals(I)&&H.$.frameElement){var J=new o(H.$.frameElement).getDocumentPosition(p);q+=J.x;r+=J.y;}}if(!document.documentElement.getBoundingClientRect)if(i.gecko&&!t){q+=K.$.clientLeft?1:0;r+=K.$.clientTop?1:0;}return{x:q,y:r};},scrollIntoView:function(p){var v=this;var q=v.getWindow(),r=q.getViewPaneSize().height,s=r*-1;if(p)s+=r;else{s+=v.$.offsetHeight||0;s+=parseInt(v.getComputedStyle('marginBottom')||0,10)||0;}var t=v.getDocumentPosition();s+=t.y;s=s<0?0:s;var u=q.getScrollPosition().y;if(s>u||s<u-r)q.$.scrollTo(0,s);},setState:function(p){var q=this;switch(p){case 1:q.addClass('cke_on');q.removeClass('cke_off');q.removeClass('cke_disabled');break;case 0:q.addClass('cke_disabled');q.removeClass('cke_off');q.removeClass('cke_on');break;default:q.addClass('cke_off');q.removeClass('cke_on');q.removeClass('cke_disabled');break;}},getFrameDocument:function(){var p=this.$;try{p.contentWindow.document;}catch(q){p.src=p.src;if(j&&i.version<7)window.showModalDialog('javascript:document.write("<script>window.setTimeout(function(){window.close();},50);</script>")');}return p&&new n(p.contentWindow.document);},copyAttributes:function(p,q){var w=this;var r=w.$.attributes;q=q||{};for(var s=0;s<r.length;s++){var t=r[s],u=t.nodeName.toLowerCase(),v;if(u in q)continue;if(u=='checked'&&(v=w.getAttribute(u)))p.setAttribute(u,v);else if(t.specified||j&&t.nodeValue&&u=='value'){v=w.getAttribute(u);if(v===null)v=t.nodeValue;p.setAttribute(u,v);}}if(w.$.style.cssText!=='')p.$.style.cssText=w.$.style.cssText;},renameNode:function(p){var s=this;if(s.getName()==p)return;var q=s.getDocument(),r=new o(p,q);s.copyAttributes(r);s.moveChildren(r);s.getParent()&&s.$.parentNode.replaceChild(r.$,s.$);r.$['data-cke-expando']=s.$['data-cke-expando'];s.$=r.$;},getChild:function(p){var q=this.$;if(!p.slice)q=q.childNodes[p];else while(p.length>0&&q)q=q.childNodes[p.shift()];return q?new k.node(q):null;},getChildCount:function(){return this.$.childNodes.length;
},disableContextMenu:function(){this.on('contextmenu',function(p){if(!p.data.getTarget().hasClass('cke_enable_context_menu'))p.data.preventDefault();});},getDirection:function(p){return p?this.getComputedStyle('direction'):this.getStyle('direction')||this.getAttribute('dir');},data:function(p,q){p='data-'+p;if(q===undefined)return this.getAttribute(p);else if(q===false)this.removeAttribute(p);else this.setAttribute(p,q);return null;}});(function(){var p={width:['border-left-width','border-right-width','padding-left','padding-right'],height:['border-top-width','border-bottom-width','padding-top','padding-bottom']};function q(r){var s=0;for(var t=0,u=p[r].length;t<u;t++)s+=parseInt(this.getComputedStyle(p[r][t])||0,10)||0;return s;};o.prototype.setSize=function(r,s,t){if(typeof s=='number'){if(t&&!(j&&i.quirks))s-=q.call(this,r);this.setStyle(r,s+'px');}};o.prototype.getSize=function(r,s){var t=Math.max(this.$['offset'+l.capitalize(r)],this.$['client'+l.capitalize(r)])||0;if(s)t-=q.call(this,r);return t;};})();h.command=function(p,q){this.uiItems=[];this.exec=function(r){if(this.state==0)return false;if(this.editorFocus)p.focus();return q.exec.call(this,p,r)!==false;};l.extend(this,q,{modes:{wysiwyg:1},editorFocus:1,state:2});h.event.call(this);};h.command.prototype={enable:function(){var p=this;if(p.state==0)p.setState(!p.preserveState||typeof p.previousState=='undefined'?2:p.previousState);},disable:function(){this.setState(0);},setState:function(p){var q=this;if(q.state==p)return false;q.previousState=q.state;q.state=p;q.fire('state');return true;},toggleState:function(){var p=this;if(p.state==2)p.setState(1);else if(p.state==1)p.setState(2);}};h.event.implementOn(h.command.prototype,true);h.ENTER_P=1;h.ENTER_BR=2;h.ENTER_DIV=3;h.config={customConfig:'config.js',autoUpdateElement:true,baseHref:'',contentsCss:h.basePath+'contents.css',contentsLangDirection:'ui',contentsLanguage:'',language:'',defaultLanguage:'en',enterMode:1,forceEnterMode:false,shiftEnterMode:2,corePlugins:'',docType:'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">',bodyId:'',bodyClass:'',fullPage:false,height:200,plugins:'about,a11yhelp,basicstyles,bidi,blockquote,button,clipboard,colorbutton,colordialog,contextmenu,dialogadvtab,div,elementspath,enterkey,entities,filebrowser,find,flash,font,format,forms,horizontalrule,htmldataprocessor,iframe,image,indent,justify,keystrokes,link,list,liststyle,maximize,newpage,pagebreak,pastefromword,pastetext,popup,preview,print,removeformat,resize,save,scayt,smiley,showblocks,showborders,sourcearea,stylescombo,table,tabletools,specialchar,tab,templates,toolbar,undo,wysiwygarea,wsc',extraPlugins:'',removePlugins:'',protectedSource:[],tabIndex:0,theme:'default',skin:'kama',width:'',baseFloatZIndex:10000};
var p=h.config;h.focusManager=function(q){if(q.focusManager)return q.focusManager;this.hasFocus=false;this._={editor:q};return this;};h.focusManager.prototype={focus:function(){var r=this;if(r._.timer)clearTimeout(r._.timer);if(!r.hasFocus){if(h.currentInstance)h.currentInstance.focusManager.forceBlur();var q=r._.editor;q.container.getChild(1).addClass('cke_focus');r.hasFocus=true;q.fire('focus');}},blur:function(){var q=this;if(q._.timer)clearTimeout(q._.timer);q._.timer=setTimeout(function(){delete q._.timer;q.forceBlur();},100);},forceBlur:function(){if(this.hasFocus){var q=this._.editor;q.container.getChild(1).removeClass('cke_focus');this.hasFocus=false;q.fire('blur');}}};(function(){var q={};h.lang={languages:{af:1,ar:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,el:1,'en-au':1,'en-ca':1,'en-gb':1,en:1,eo:1,es:1,et:1,eu:1,fa:1,fi:1,fo:1,'fr-ca':1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,is:1,it:1,ja:1,km:1,ko:1,lt:1,lv:1,mn:1,ms:1,nb:1,nl:1,no:1,pl:1,'pt-br':1,pt:1,ro:1,ru:1,sk:1,sl:1,'sr-latn':1,sr:1,sv:1,th:1,tr:1,uk:1,vi:1,'zh-cn':1,zh:1},load:function(r,s,t){if(!r||!h.lang.languages[r])r=this.detect(s,r);if(!this[r])h.scriptLoader.load(h.getUrl('lang/'+r+'.js'),function(){t(r,this[r]);},this);else t(r,this[r]);},detect:function(r,s){var t=this.languages;s=s||navigator.userLanguage||navigator.language;var u=s.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),v=u[1],w=u[2];if(t[v+'-'+w])v=v+'-'+w;else if(!t[v])v=null;h.lang.detect=v?function(){return v;}:function(x){return x;};return v||r;}};})();h.scriptLoader=(function(){var q={},r={};return{load:function(s,t,u,v){var w=typeof s=='string';if(w)s=[s];if(!u)u=h;var x=s.length,y=[],z=[],A=function(F){if(t)if(w)t.call(u,F);else t.call(u,y,z);};if(x===0){A(true);return;}var B=function(F,G){(G?y:z).push(F);if(--x<=0){v&&h.document.getDocumentElement().removeStyle('cursor');A(G);}},C=function(F,G){q[F]=1;var H=r[F];delete r[F];for(var I=0;I<H.length;I++)H[I](F,G);},D=function(F){if(q[F]){B(F,true);return;}var G=r[F]||(r[F]=[]);G.push(B);if(G.length>1)return;var H=new o('script');H.setAttributes({type:'text/javascript',src:F});if(t)if(j)H.$.onreadystatechange=function(){if(H.$.readyState=='loaded'||H.$.readyState=='complete'){H.$.onreadystatechange=null;C(F,true);}};else{H.$.onload=function(){setTimeout(function(){C(F,true);},0);};H.$.onerror=function(){C(F,false);};}H.appendTo(h.document.getHead());};v&&h.document.getDocumentElement().setStyle('cursor','wait');for(var E=0;E<x;E++)D(s[E]);}};})();h.resourceManager=function(q,r){var s=this;
s.basePath=q;s.fileName=r;s.registered={};s.loaded={};s.externals={};s._={waitingList:{}};};h.resourceManager.prototype={add:function(q,r){if(this.registered[q])throw '[CKEDITOR.resourceManager.add] The resource name "'+q+'" is already registered.';h.fire(q+l.capitalize(this.fileName)+'Ready',this.registered[q]=r||{});},get:function(q){return this.registered[q]||null;},getPath:function(q){var r=this.externals[q];return h.getUrl(r&&r.dir||this.basePath+q+'/');},getFilePath:function(q){var r=this.externals[q];return h.getUrl(this.getPath(q)+(r&&typeof r.file=='string'?r.file:this.fileName+'.js'));},addExternal:function(q,r,s){q=q.split(',');for(var t=0;t<q.length;t++){var u=q[t];this.externals[u]={dir:r,file:s};}},load:function(q,r,s){if(!l.isArray(q))q=q?[q]:[];var t=this.loaded,u=this.registered,v=[],w={},x={};for(var y=0;y<q.length;y++){var z=q[y];if(!z)continue;if(!t[z]&&!u[z]){var A=this.getFilePath(z);v.push(A);if(!(A in w))w[A]=[];w[A].push(z);}else x[z]=this.get(z);}h.scriptLoader.load(v,function(B,C){if(C.length)throw '[CKEDITOR.resourceManager.load] Resource name "'+w[C[0]].join(',')+'" was not found at "'+C[0]+'".';for(var D=0;D<B.length;D++){var E=w[B[D]];for(var F=0;F<E.length;F++){var G=E[F];x[G]=this.get(G);t[G]=1;}}r.call(s,x);},this);}};h.plugins=new h.resourceManager('plugins/','plugin');var q=h.plugins;q.load=l.override(q.load,function(r){return function(s,t,u){var v={},w=function(x){r.call(this,x,function(y){l.extend(v,y);var z=[];for(var A in y){var B=y[A],C=B&&B.requires;if(C)for(var D=0;D<C.length;D++){if(!v[C[D]])z.push(C[D]);}}if(z.length)w.call(this,z);else{for(A in v){B=v[A];if(B.onLoad&&!B.onLoad._called){B.onLoad();B.onLoad._called=1;}}if(t)t.call(u||window,v);}},this);};w.call(this,s);};});q.setLang=function(r,s,t){var u=this.get(r),v=u.lang||(u.lang={});v[s]=t;};h.skins=(function(){var r={},s={},t=function(u,v,w,x){var y=r[v];if(!u.skin){u.skin=y;if(y.init)y.init(u);}var z=function(I){for(var J=0;J<I.length;J++)I[J]=h.getUrl(s[v]+I[J]);};function A(I,J){return I.replace(/url\s*\(([\s'"]*)(.*?)([\s"']*)\)/g,function(K,L,M,N){if(/^\/|^\w?:/.test(M))return K;else return 'url('+J+L+M+N+')';});};w=y[w];var B=!w||!!w._isLoaded;if(B)x&&x();else{var C=w._pending||(w._pending=[]);C.push(x);if(C.length>1)return;var D=!w.css||!w.css.length,E=!w.js||!w.js.length,F=function(){if(D&&E){w._isLoaded=1;for(var I=0;I<C.length;I++){if(C[I])C[I]();}}};if(!D){var G=w.css;if(l.isArray(G)){z(G);for(var H=0;H<G.length;H++)h.document.appendStyleSheet(G[H]);
}else{G=A(G,h.getUrl(s[v]));h.document.appendStyleText(G);}w.css=G;D=1;}if(!E){z(w.js);h.scriptLoader.load(w.js,function(){E=1;F();});}F();}};return{add:function(u,v){r[u]=v;v.skinPath=s[u]||(s[u]=h.getUrl('skins/'+u+'/'));},load:function(u,v,w){var x=u.skinName,y=u.skinPath;if(r[x])t(u,x,v,w);else{s[x]=y;h.scriptLoader.load(h.getUrl(y+'skin.js'),function(){t(u,x,v,w);});}}};})();h.themes=new h.resourceManager('themes/','theme');h.ui=function(r){if(r.ui)return r.ui;this._={handlers:{},items:{},editor:r};return this;};var r=h.ui;r.prototype={add:function(s,t,u){this._.items[s]={type:t,command:u.command||null,args:Array.prototype.slice.call(arguments,2)};},create:function(s){var x=this;var t=x._.items[s],u=t&&x._.handlers[t.type],v=t&&t.command&&x._.editor.getCommand(t.command),w=u&&u.create.apply(x,t.args);if(v)v.uiItems.push(w);return w;},addHandler:function(s,t){this._.handlers[s]=t;}};h.event.implementOn(r);(function(){var s=0,t=function(){var E='editor'+ ++s;return h.instances&&h.instances[E]?t():E;},u={},v=function(E){var F=E.config.customConfig;if(!F)return false;F=h.getUrl(F);var G=u[F]||(u[F]={});if(G.fn){G.fn.call(E,E.config);if(h.getUrl(E.config.customConfig)==F||!v(E))E.fireOnce('customConfigLoaded');}else h.scriptLoader.load(F,function(){if(h.editorConfig)G.fn=h.editorConfig;else G.fn=function(){};v(E);});return true;},w=function(E,F){E.on('customConfigLoaded',function(){if(F){if(F.on)for(var G in F.on)E.on(G,F.on[G]);l.extend(E.config,F,true);delete E.config.on;}x(E);});if(F&&F.customConfig!=undefined)E.config.customConfig=F.customConfig;if(!v(E))E.fireOnce('customConfigLoaded');},x=function(E){var F=E.config.skin.split(','),G=F[0],H=h.getUrl(F[1]||'skins/'+G+'/');E.skinName=G;E.skinPath=H;E.skinClass='cke_skin_'+G;E.tabIndex=E.config.tabIndex||E.element.getAttribute('tabindex')||0;E.fireOnce('configLoaded');A(E);},y=function(E){h.lang.load(E.config.language,E.config.defaultLanguage,function(F,G){E.langCode=F;E.lang=l.prototypedCopy(G);if(i.gecko&&i.version<10900&&E.lang.dir=='rtl')E.lang.dir='ltr';var H=E.config;H.contentsLangDirection=='ui'&&(H.contentsLangDirection=E.lang.dir);z(E);});},z=function(E){var F=E.config,G=F.plugins,H=F.extraPlugins,I=F.removePlugins;if(H){var J=new RegExp('(?:^|,)(?:'+H.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');G=G.replace(J,'');G+=','+H;}if(I){J=new RegExp('(?:^|,)(?:'+I.replace(/\s*,\s*/g,'|')+')(?=,|$)','g');G=G.replace(J,'');}i.air&&(G+=',adobeair');q.load(G.split(','),function(K){var L=[],M=[],N=[];E.plugins=K;
for(var O in K){var P=K[O],Q=P.lang,R=q.getPath(O),S=null;P.path=R;if(Q){S=l.indexOf(Q,E.langCode)>=0?E.langCode:Q[0];if(!P.lang[S])N.push(h.getUrl(R+'lang/'+S+'.js'));else{l.extend(E.lang,P.lang[S]);S=null;}}M.push(S);L.push(P);}h.scriptLoader.load(N,function(){var T=['beforeInit','init','afterInit'];for(var U=0;U<T.length;U++)for(var V=0;V<L.length;V++){var W=L[V];if(U===0&&M[V]&&W.lang)l.extend(E.lang,W.lang[M[V]]);if(W[T[U]])W[T[U]](E);}E.fire('pluginsLoaded');B(E);});});},A=function(E){h.skins.load(E,'editor',function(){y(E);});},B=function(E){var F=E.config.theme;h.themes.load(F,function(){var G=E.theme=h.themes.get(F);G.path=h.themes.getPath(F);G.build(E);if(E.config.autoUpdateElement)C(E);});},C=function(E){var F=E.element;if(E.elementMode==1&&F.is('textarea')){var G=F.$.form&&new o(F.$.form);if(G){function H(){E.updateElement();};G.on('submit',H);if(!G.$.submit.nodeName&&!G.$.submit.length)G.$.submit=l.override(G.$.submit,function(I){return function(){E.updateElement();if(I.apply)I.apply(this,arguments);else I();};});E.on('destroy',function(){G.removeListener('submit',H);});}}};function D(){var E,F=this._.commands,G=this.mode;for(var H in F){E=F[H];E[E.startDisabled?'disable':E.modes[G]?'enable':'disable']();}};h.editor.prototype._init=function(){var G=this;var E=o.get(G._.element),F=G._.instanceConfig;delete G._.element;delete G._.instanceConfig;G._.commands={};G._.styles=[];G.element=E;G.name=E&&G.elementMode==1&&(E.getId()||E.getNameAtt())||t();if(G.name in h.instances)throw '[CKEDITOR.editor] The instance "'+G.name+'" already exists.';G.id=l.getNextId();G.config=l.prototypedCopy(p);G.ui=new r(G);G.focusManager=new h.focusManager(G);h.fire('instanceCreated',null,G);G.on('mode',D,null,null,1);w(G,F);};})();l.extend(h.editor.prototype,{addCommand:function(s,t){return this._.commands[s]=new h.command(this,t);},addCss:function(s){this._.styles.push(s);},destroy:function(s){var t=this;if(!s)t.updateElement();t.theme&&t.theme.destroy(t);t.fire('destroy');h.remove(t);h.fire('instanceDestroyed',null,t);},execCommand:function(s,t){var u=this.getCommand(s),v={name:s,commandData:t,command:u};if(u&&u.state!=0)if(this.fire('beforeCommandExec',v)!==true){v.returnValue=u.exec(v.commandData);if(!u.async&&this.fire('afterCommandExec',v)!==true)return v.returnValue;}return false;},getCommand:function(s){return this._.commands[s];},getData:function(){var u=this;u.fire('beforeGetData');var s=u._.data;if(typeof s!='string'){var t=u.element;if(t&&u.elementMode==1)s=t.is('textarea')?t.getValue():t.getHtml();
else s='';}s={dataValue:s};u.fire('getData',s);return s.dataValue;},getSnapshot:function(){var s=this.fire('getSnapshot');if(typeof s!='string'){var t=this.element;if(t&&this.elementMode==1)s=t.is('textarea')?t.getValue():t.getHtml();}return s;},loadSnapshot:function(s){this.fire('loadSnapshot',s);},setData:function(s,t){if(t)this.on('dataReady',function(v){v.removeListener();t.call(v.editor);});var u={dataValue:s};this.fire('setData',u);this._.data=u.dataValue;this.fire('afterSetData',u);},insertHtml:function(s){this.fire('insertHtml',s);},insertText:function(s){this.fire('insertText',s);},insertElement:function(s){this.fire('insertElement',s);},checkDirty:function(){return this.mayBeDirty&&this._.previousValue!==this.getSnapshot();},resetDirty:function(){if(this.mayBeDirty)this._.previousValue=this.getSnapshot();},updateElement:function(){var u=this;var s=u.element;if(s&&u.elementMode==1){var t=u.getData();if(u.config.htmlEncodeOutput)t=l.htmlEncode(t);if(s.is('textarea'))s.setValue(t);else s.setHtml(t);}}});h.on('loaded',function(){var s=h.editor._pending;if(s){delete h.editor._pending;for(var t=0;t<s.length;t++)s[t]._init();}});h.htmlParser=function(){this._={htmlPartsRegex:new RegExp("<(?:(?:\\/([^>]+)>)|(?:!--([\\S|\\s]*?)-->)|(?:([^\\s>]+)\\s*((?:(?:[^\"'>]+)|(?:\"[^\"]*\")|(?:'[^']*'))*)\\/?>))",'g')};};(function(){var s=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};h.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(u){var H=this;var v,w,x=0,y;while(v=H._.htmlPartsRegex.exec(u)){var z=v.index;if(z>x){var A=u.substring(x,z);if(y)y.push(A);else H.onText(A);}x=H._.htmlPartsRegex.lastIndex;if(w=v[1]){w=w.toLowerCase();if(y&&m.$cdata[w]){H.onCDATA(y.join(''));y=null;}if(!y){H.onTagClose(w);continue;}}if(y){y.push(v[0]);continue;}if(w=v[3]){w=w.toLowerCase();if(/="/.test(w))continue;var B={},C,D=v[4],E=!!(D&&D.charAt(D.length-1)=='/');if(D)while(C=s.exec(D)){var F=C[1].toLowerCase(),G=C[2]||C[3]||C[4]||'';if(!G&&t[F])B[F]=F;else B[F]=G;}H.onTagOpen(w,B,E);if(!y&&m.$cdata[w])y=[];continue;}if(w=v[2])H.onComment(w);}if(u.length>x)H.onText(u.substring(x,u.length));}};})();h.htmlParser.comment=function(s){this.value=s;this._={isBlockLike:false};};h.htmlParser.comment.prototype={type:8,writeHtml:function(s,t){var u=this.value;
if(t){if(!(u=t.onComment(u,this)))return;if(typeof u!='string'){u.parent=this.parent;u.writeHtml(s,t);return;}}s.comment(u);}};(function(){var s=/[\t\r\n ]{2,}|[\t\r\n]/g;h.htmlParser.text=function(t){this.value=t;this._={isBlockLike:false};};h.htmlParser.text.prototype={type:3,writeHtml:function(t,u){var v=this.value;if(u&&!(v=u.onText(v,this)))return;t.text(v);}};})();(function(){h.htmlParser.cdata=function(s){this.value=s;};h.htmlParser.cdata.prototype={type:3,writeHtml:function(s){s.write(this.value);}};})();h.htmlParser.fragment=function(){this.children=[];this.parent=null;this._={isBlockLike:true,hasInlineStarted:false};};(function(){var s={colgroup:1,dd:1,dt:1,li:1,option:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1},t=l.extend({table:1,ul:1,ol:1,dl:1},m.table,m.ul,m.ol,m.dl),u=m.$list,v=m.$listItem;h.htmlParser.fragment.fromHtml=function(w,x){var y=new h.htmlParser(),z=[],A=new h.htmlParser.fragment(),B=[],C=[],D=A,E=false,F;function G(L){var M;if(B.length>0)for(var N=0;N<B.length;N++){var O=B[N],P=O.name,Q=m[P],R=D.name&&m[D.name];if((!R||R[P])&&(!L||!Q||Q[L]||!m[L])){if(!M){H();M=1;}O=O.clone();O.parent=D;D=O;B.splice(N,1);N--;}}};function H(L){while(C.length-(L||0)>0)D.add(C.shift());};function I(L,M,N){M=M||D||A;if(x&&!M.type){var O,P;if(L.attributes&&(P=L.attributes['data-cke-real-element-type']))O=P;else O=L.name;if(O&&O in m.$inline){var Q=D;D=M;y.onTagOpen(x,{});M=D;if(N)D=Q;}}if(L._.isBlockLike&&L.name!='pre'){var R=L.children.length,S=L.children[R-1],T;if(S&&S.type==3)if(!(T=l.rtrim(S.value)))L.children.length=R-1;else S.value=T;}M.add(L);if(L.returnPoint){D=L.returnPoint;delete L.returnPoint;}};y.onTagOpen=function(L,M,N){var O=new h.htmlParser.element(L,M);if(O.isUnknown&&N)O.isEmpty=true;if(m.$removeEmpty[L]){B.push(O);return;}else if(L=='pre')E=true;else if(L=='br'&&E){D.add(new h.htmlParser.text('\n'));return;}if(L=='br'){C.push(O);return;}var P=D.name,Q=P&&(m[P]||(D._.isBlockLike?m.div:m.span));if(Q&&!O.isUnknown&&!D.isUnknown&&!Q[L]){var R=false,S;if(L in u&&P in u){var T=D.children,U=T[T.length-1];if(!(U&&U.name in v))I(U=new h.htmlParser.element('li'),D);F=D,S=U;}else if(L==P)I(D,D.parent);else if(L in m.$listItem){y.onTagOpen('ul',{});S=D;R=true;}else{if(t[P]){if(!F)F=D;}else{I(D,D.parent,true);if(!s[P])B.unshift(D);}R=true;}if(S)D=S;else D=D.returnPoint||D.parent;if(R){y.onTagOpen.apply(this,arguments);return;}}G(L);H();O.parent=D;O.returnPoint=F;F=0;if(O.isEmpty)I(O);else D=O;};y.onTagClose=function(L){for(var M=B.length-1;M>=0;M--){if(L==B[M].name){B.splice(M,1);
return;}}var N=[],O=[],P=D;while(P.type&&P.name!=L){if(!P._.isBlockLike)O.unshift(P);N.push(P);P=P.parent;}if(P.type){for(M=0;M<N.length;M++){var Q=N[M];I(Q,Q.parent);}D=P;if(D.name=='pre')E=false;if(P._.isBlockLike)H();I(P,P.parent);if(P==D)D=D.parent;B=B.concat(O);}if(L=='body')x=false;};y.onText=function(L){if(!D._.hasInlineStarted&&!E){L=l.ltrim(L);if(L.length===0)return;}H();G();if(x&&(!D.type||D.name=='body')&&l.trim(L))this.onTagOpen(x,{});if(!E)L=L.replace(/[\t\r\n ]{2,}|[\t\r\n]/g,' ');D.add(new h.htmlParser.text(L));};y.onCDATA=function(L){D.add(new h.htmlParser.cdata(L));};y.onComment=function(L){H();G();D.add(new h.htmlParser.comment(L));};y.parse(w);H(!j&&1);while(D.type){var J=D.parent,K=D;if(x&&(!J.type||J.name=='body')&&!m.$body[K.name]){D=J;y.onTagOpen(x,{});J=D;}J.add(K);D=J;}return A;};h.htmlParser.fragment.prototype={add:function(w){var z=this;var x=z.children.length,y=x>0&&z.children[x-1]||null;if(y){if(w._.isBlockLike&&y.type==3){y.value=l.rtrim(y.value);if(y.value.length===0){z.children.pop();z.add(w);return;}}y.next=w;}w.previous=y;w.parent=z;z.children.push(w);z._.hasInlineStarted=w.type==3||w.type==1&&!w._.isBlockLike;},writeHtml:function(w,x){var y;this.filterChildren=function(){var z=new h.htmlParser.basicWriter();this.writeChildrenHtml.call(this,z,x,true);var A=z.getHtml();this.children=new h.htmlParser.fragment.fromHtml(A).children;y=1;};!this.name&&x&&x.onFragment(this);this.writeChildrenHtml(w,y?null:x);},writeChildrenHtml:function(w,x){for(var y=0;y<this.children.length;y++)this.children[y].writeHtml(w,x);}};})();h.htmlParser.element=function(s,t){var z=this;z.name=s;z.attributes=t||(t={});z.children=[];var u=t['data-cke-real-element-type']||s,v=u.match(/^cke:(.*)/);v&&(u=v[1]);var w=m,x=!!(w.$nonBodyContent[u]||w.$block[u]||w.$listItem[u]||w.$tableContent[u]||w.$nonEditable[u]||u=='br'),y=!!w.$empty[s];z.isEmpty=y;z.isUnknown=!w[s];z._={isBlockLike:x,hasInlineStarted:y||!x};};(function(){var s=function(t,u){t=t[0];u=u[0];return t<u?-1:t>u?1:0;};h.htmlParser.element.prototype={type:1,add:h.htmlParser.fragment.prototype.add,clone:function(){return new h.htmlParser.element(this.name,this.attributes);},writeHtml:function(t,u){var v=this.attributes,w=this,x=w.name,y,z,A,B;w.filterChildren=function(){if(!B){var G=new h.htmlParser.basicWriter();h.htmlParser.fragment.prototype.writeChildrenHtml.call(w,G,u);w.children=new h.htmlParser.fragment.fromHtml(G.getHtml()).children;B=1;}};if(u){for(;;){if(!(x=u.onElementName(x)))return;w.name=x;
if(!(w=u.onElement(w)))return;w.parent=this.parent;if(w.name==x)break;if(w.type!=1){w.writeHtml(t,u);return;}x=w.name;if(!x){this.writeChildrenHtml.call(w,t,B?null:u);return;}}v=w.attributes;}t.openTag(x,v);var C=[];for(var D=0;D<2;D++)for(y in v){z=y;A=v[y];if(D==1)C.push([y,A]);else if(u){for(;;){if(!(z=u.onAttributeName(y))){delete v[y];break;}else if(z!=y){delete v[y];y=z;continue;}else break;}if(z)if((A=u.onAttribute(w,z,A))===false)delete v[z];else v[z]=A;}}if(t.sortAttributes)C.sort(s);var E=C.length;for(D=0;D<E;D++){var F=C[D];t.attribute(F[0],F[1]);}t.openTagClose(x,w.isEmpty);if(!w.isEmpty){this.writeChildrenHtml.call(w,t,B?null:u);t.closeTag(x);}},writeChildrenHtml:function(t,u){h.htmlParser.fragment.prototype.writeChildrenHtml.apply(this,arguments);}};})();(function(){h.htmlParser.filter=l.createClass({$:function(x){this._={elementNames:[],attributeNames:[],elements:{$length:0},attributes:{$length:0}};if(x)this.addRules(x,10);},proto:{addRules:function(x,y){var z=this;if(typeof y!='number')y=10;t(z._.elementNames,x.elementNames,y);t(z._.attributeNames,x.attributeNames,y);u(z._.elements,x.elements,y);u(z._.attributes,x.attributes,y);z._.text=v(z._.text,x.text,y)||z._.text;z._.comment=v(z._.comment,x.comment,y)||z._.comment;z._.root=v(z._.root,x.root,y)||z._.root;},onElementName:function(x){return s(x,this._.elementNames);},onAttributeName:function(x){return s(x,this._.attributeNames);},onText:function(x){var y=this._.text;return y?y.filter(x):x;},onComment:function(x,y){var z=this._.comment;return z?z.filter(x,y):x;},onFragment:function(x){var y=this._.root;return y?y.filter(x):x;},onElement:function(x){var C=this;var y=[C._.elements['^'],C._.elements[x.name],C._.elements.$],z,A;for(var B=0;B<3;B++){z=y[B];if(z){A=z.filter(x,C);if(A===false)return null;if(A&&A!=x)return C.onNode(A);if(x.parent&&!x.name)break;}}return x;},onNode:function(x){var y=x.type;return y==1?this.onElement(x):y==3?new h.htmlParser.text(this.onText(x.value)):y==8?new h.htmlParser.comment(this.onComment(x.value)):null;},onAttribute:function(x,y,z){var A=this._.attributes[y];if(A){var B=A.filter(z,x,this);if(B===false)return false;if(typeof B!='undefined')return B;}return z;}}});function s(x,y){for(var z=0;x&&z<y.length;z++){var A=y[z];x=x.replace(A[0],A[1]);}return x;};function t(x,y,z){if(typeof y=='function')y=[y];var A,B,C=x.length,D=y&&y.length;if(D){for(A=0;A<C&&x[A].pri<z;A++){}for(B=D-1;B>=0;B--){var E=y[B];if(E){E.pri=z;x.splice(A,0,E);}}}};function u(x,y,z){if(y)for(var A in y){var B=x[A];
x[A]=v(B,y[A],z);if(!B)x.$length++;}};function v(x,y,z){if(y){y.pri=z;if(x){if(!x.splice){if(x.pri>z)x=[y,x];else x=[x,y];x.filter=w;}else t(x,y,z);return x;}else{y.filter=y;return y;}}};function w(x){var y=x.type||x instanceof h.htmlParser.fragment;for(var z=0;z<this.length;z++){if(y)var A=x.type,B=x.name;var C=this[z],D=C.apply(window,arguments);if(D===false)return D;if(y){if(D&&(D.name!=B||D.type!=A))return D;}else if(typeof D!='string')return D;D!=undefined&&(x=D);}return x;};})();h.htmlParser.basicWriter=l.createClass({$:function(){this._={output:[]};},proto:{openTag:function(s,t){this._.output.push('<',s);},openTagClose:function(s,t){if(t)this._.output.push(' />');else this._.output.push('>');},attribute:function(s,t){if(typeof t=='string')t=l.htmlEncodeAttr(t);this._.output.push(' ',s,'="',t,'"');},closeTag:function(s){this._.output.push('</',s,'>');},text:function(s){this._.output.push(s);},comment:function(s){this._.output.push('<!--',s,'-->');},write:function(s){this._.output.push(s);},reset:function(){this._.output=[];this._.indent=false;},getHtml:function(s){var t=this._.output.join('');if(s)this.reset();return t;}}});delete h.loadFullCore;h.instances={};h.document=new n(document);h.add=function(s){h.instances[s.name]=s;s.on('focus',function(){if(h.currentInstance!=s){h.currentInstance=s;h.fire('currentInstance');}});s.on('blur',function(){if(h.currentInstance==s){h.currentInstance=null;h.fire('currentInstance');}});};h.remove=function(s){delete h.instances[s.name];};h.on('instanceDestroyed',function(){if(l.isEmpty(this.instances))h.fire('reset');});h.TRISTATE_ON=1;h.TRISTATE_OFF=2;h.TRISTATE_DISABLED=0;k.comment=l.createClass({base:k.node,$:function(s,t){if(typeof s=='string')s=(t?t.$:document).createComment(s);this.base(s);},proto:{type:8,getOuterHtml:function(){return '<!--'+this.$.nodeValue+'-->';}}});(function(){var s={address:1,blockquote:1,dl:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,li:1,dt:1,dd:1,legend:1},t={body:1,div:1,table:1,tbody:1,tr:1,td:1,th:1,caption:1,form:1,fieldset:1},u=function(v){var w=v.getChildren();for(var x=0,y=w.count();x<y;x++){var z=w.getItem(x);if(z.type==1&&m.$block[z.getName()])return true;}return false;};k.elementPath=function(v){var B=this;var w=null,x=null,y=[],z=v;while(z){if(z.type==1){if(!B.lastElement)B.lastElement=z;var A=z.getName();if(j&&z.$.scopeName!='HTML')A=z.$.scopeName.toLowerCase()+':'+A;if(!x){if(!w&&s[A])w=z;if(t[A])if(!w&&A=='div'&&!u(z))w=z;else x=z;}y.push(z);if(A=='body')break;}z=z.getParent();
}B.block=w;B.blockLimit=x;B.elements=y;};})();k.elementPath.prototype={compare:function(s){var t=this.elements,u=s&&s.elements;if(!u||t.length!=u.length)return false;for(var v=0;v<t.length;v++){if(!t[v].equals(u[v]))return false;}return true;},contains:function(s){var t=this.elements;for(var u=0;u<t.length;u++){if(t[u].getName() in s)return t[u];}return null;}};k.text=function(s,t){if(typeof s=='string')s=(t?t.$:document).createTextNode(s);this.$=s;};k.text.prototype=new k.node();l.extend(k.text.prototype,{type:3,getLength:function(){return this.$.nodeValue.length;},getText:function(){return this.$.nodeValue;},split:function(s){var x=this;if(j&&s==x.getLength()){var t=x.getDocument().createText('');t.insertAfter(x);return t;}var u=x.getDocument(),v=new k.text(x.$.splitText(s),u);if(i.ie8){var w=new k.text('',u);w.insertAfter(v);w.remove();}return v;},substring:function(s,t){if(typeof t!='number')return this.$.nodeValue.substr(s);else return this.$.nodeValue.substring(s,t);}});k.documentFragment=function(s){s=s||h.document;this.$=s.$.createDocumentFragment();};l.extend(k.documentFragment.prototype,o.prototype,{type:11,insertAfterNode:function(s){s=s.$;s.parentNode.insertBefore(this.$,s.nextSibling);}},true,{append:1,appendBogus:1,getFirst:1,getLast:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1});(function(){function s(z,A){if(this._.end)return null;var B,C=this.range,D,E=this.guard,F=this.type,G=z?'getPreviousSourceNode':'getNextSourceNode';if(!this._.start){this._.start=1;C.trim();if(C.collapsed){this.end();return null;}}if(!z&&!this._.guardLTR){var H=C.endContainer,I=H.getChild(C.endOffset);this._.guardLTR=function(M,N){return(!N||!H.equals(M))&&(!I||!M.equals(I))&&(M.type!=1||!N||M.getName()!='body');};}if(z&&!this._.guardRTL){var J=C.startContainer,K=C.startOffset>0&&J.getChild(C.startOffset-1);this._.guardRTL=function(M,N){return(!N||!J.equals(M))&&(!K||!M.equals(K))&&(M.type!=1||!N||M.getName()!='body');};}var L=z?this._.guardRTL:this._.guardLTR;if(E)D=function(M,N){if(L(M,N)===false)return false;return E(M,N);};else D=L;if(this.current)B=this.current[G](false,F,D);else if(z){B=C.endContainer;if(C.endOffset>0){B=B.getChild(C.endOffset-1);if(D(B)===false)B=null;}else B=D(B,true)===false?null:B.getPreviousSourceNode(true,F,D);}else{B=C.startContainer;B=B.getChild(C.startOffset);if(B){if(D(B)===false)B=null;}else B=D(C.startContainer,true)===false?null:C.startContainer.getNextSourceNode(true,F,D);
}while(B&&!this._.end){this.current=B;if(!this.evaluator||this.evaluator(B)!==false){if(!A)return B;}else if(A&&this.evaluator)return false;B=B[G](false,F,D);}this.end();return this.current=null;};function t(z){var A,B=null;while(A=s.call(this,z))B=A;return B;};k.walker=l.createClass({$:function(z){this.range=z;this._={};},proto:{end:function(){this._.end=1;},next:function(){return s.call(this);},previous:function(){return s.call(this,1);},checkForward:function(){return s.call(this,0,1)!==false;},checkBackward:function(){return s.call(this,1,1)!==false;},lastForward:function(){return t.call(this);},lastBackward:function(){return t.call(this,1);},reset:function(){delete this.current;this._={};}}});var u={block:1,'list-item':1,table:1,'table-row-group':1,'table-header-group':1,'table-footer-group':1,'table-row':1,'table-column-group':1,'table-column':1,'table-cell':1,'table-caption':1};o.prototype.isBlockBoundary=function(z){var A=l.extend({},m.$block,z||{});return this.getComputedStyle('float')=='none'&&u[this.getComputedStyle('display')]||A[this.getName()];};k.walker.blockBoundary=function(z){return function(A,B){return!(A.type==1&&A.isBlockBoundary(z));};};k.walker.listItemBoundary=function(){return this.blockBoundary({br:1});};k.walker.bookmark=function(z,A){function B(C){return C&&C.getName&&C.getName()=='span'&&C.data('cke-bookmark');};return function(C){var D,E;D=C&&!C.getName&&(E=C.getParent())&&B(E);D=z?D:D||B(C);return!!(A^D);};};k.walker.whitespaces=function(z){return function(A){var B=A&&A.type==3&&!l.trim(A.getText());return!!(z^B);};};k.walker.invisible=function(z){var A=k.walker.whitespaces();return function(B){var C=A(B)||B.is&&!B.$.offsetHeight;return!!(z^C);};};k.walker.nodeType=function(z,A){return function(B){return!!(A^B.type==z);};};var v=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,w=k.walker.whitespaces(),x=k.walker.bookmark(),y=function(z){return x(z)||w(z)||z.type==1&&z.getName() in m.$inline&&!(z.getName() in m.$empty);};o.prototype.getBogus=function(){var z=this;do z=z.getPreviousSourceNode();while(y(z))if(z&&(!j?z.is&&z.is('br'):z.getText&&v.test(z.getText())))return z;return false;};})();k.range=function(s){var t=this;t.startContainer=null;t.startOffset=null;t.endContainer=null;t.endOffset=null;t.collapsed=true;t.document=s;};(function(){var s=function(A){A.collapsed=A.startContainer&&A.endContainer&&A.startContainer.equals(A.endContainer)&&A.startOffset==A.endOffset;},t=function(A,B,C,D){A.optimizeBookmark();var E=A.startContainer,F=A.endContainer,G=A.startOffset,H=A.endOffset,I,J;
if(F.type==3)F=F.split(H);else if(F.getChildCount()>0)if(H>=F.getChildCount()){F=F.append(A.document.createText(''));J=true;}else F=F.getChild(H);if(E.type==3){E.split(G);if(E.equals(F))F=E.getNext();}else if(!G){E=E.getFirst().insertBeforeMe(A.document.createText(''));I=true;}else if(G>=E.getChildCount()){E=E.append(A.document.createText(''));I=true;}else E=E.getChild(G).getPrevious();var K=E.getParents(),L=F.getParents(),M,N,O;for(M=0;M<K.length;M++){N=K[M];O=L[M];if(!N.equals(O))break;}var P=C,Q,R,S,T;for(var U=M;U<K.length;U++){Q=K[U];if(P&&!Q.equals(E))R=P.append(Q.clone());S=Q.getNext();while(S){if(S.equals(L[U])||S.equals(F))break;T=S.getNext();if(B==2)P.append(S.clone(true));else{S.remove();if(B==1)P.append(S);}S=T;}if(P)P=R;}P=C;for(var V=M;V<L.length;V++){Q=L[V];if(B>0&&!Q.equals(F))R=P.append(Q.clone());if(!K[V]||Q.$.parentNode!=K[V].$.parentNode){S=Q.getPrevious();while(S){if(S.equals(K[V])||S.equals(E))break;T=S.getPrevious();if(B==2)P.$.insertBefore(S.$.cloneNode(true),P.$.firstChild);else{S.remove();if(B==1)P.$.insertBefore(S.$,P.$.firstChild);}S=T;}}if(P)P=R;}if(B==2){var W=A.startContainer;if(W.type==3){W.$.data+=W.$.nextSibling.data;W.$.parentNode.removeChild(W.$.nextSibling);}var X=A.endContainer;if(X.type==3&&X.$.nextSibling){X.$.data+=X.$.nextSibling.data;X.$.parentNode.removeChild(X.$.nextSibling);}}else{if(N&&O&&(E.$.parentNode!=N.$.parentNode||F.$.parentNode!=O.$.parentNode)){var Y=O.getIndex();if(I&&O.$.parentNode==E.$.parentNode)Y--;if(D&&N.type==1){var Z=o.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',A.document);Z.insertAfter(N);N.mergeSiblings(false);A.moveToBookmark({startNode:Z});}else A.setStart(O.getParent(),Y);}A.collapse(true);}if(I)E.remove();if(J&&F.$.parentNode)F.remove();},u={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,'var':1};function v(A){var B=false,C=k.walker.bookmark(true);return function(D){if(C(D))return true;if(D.type==3){if(l.trim(D.getText()).length)return false;}else if(D.type==1)if(!u[D.getName()])if(!A&&!j&&D.getName()=='br'&&!B)B=true;else return false;return true;};};function w(A){return A.type!=3&&A.getName() in m.$removeEmpty||!l.trim(A.getText())||!!A.getParent().data('cke-bookmark');};var x=new k.walker.whitespaces(),y=new k.walker.bookmark();function z(A){return!x(A)&&!y(A);};k.range.prototype={clone:function(){var B=this;var A=new k.range(B.document);
A.startContainer=B.startContainer;A.startOffset=B.startOffset;A.endContainer=B.endContainer;A.endOffset=B.endOffset;A.collapsed=B.collapsed;return A;},collapse:function(A){var B=this;if(A){B.endContainer=B.startContainer;B.endOffset=B.startOffset;}else{B.startContainer=B.endContainer;B.startOffset=B.endOffset;}B.collapsed=true;},cloneContents:function(){var A=new k.documentFragment(this.document);if(!this.collapsed)t(this,2,A);return A;},deleteContents:function(A){if(this.collapsed)return;t(this,0,null,A);},extractContents:function(A){var B=new k.documentFragment(this.document);if(!this.collapsed)t(this,1,B,A);return B;},createBookmark:function(A){var G=this;var B,C,D,E,F=G.collapsed;B=G.document.createElement('span');B.data('cke-bookmark',1);B.setStyle('display','none');B.setHtml('&nbsp;');if(A){D='cke_bm_'+l.getNextNumber();B.setAttribute('id',D+'S');}if(!F){C=B.clone();C.setHtml('&nbsp;');if(A)C.setAttribute('id',D+'E');E=G.clone();E.collapse();E.insertNode(C);}E=G.clone();E.collapse(true);E.insertNode(B);if(C){G.setStartAfter(B);G.setEndBefore(C);}else G.moveToPosition(B,4);return{startNode:A?D+'S':B,endNode:A?D+'E':C,serializable:A,collapsed:F};},createBookmark2:function(A){var I=this;var B=I.startContainer,C=I.endContainer,D=I.startOffset,E=I.endOffset,F=I.collapsed,G,H;if(!B||!C)return{start:0,end:0};if(A){if(B.type==1){G=B.getChild(D);if(G&&G.type==3&&D>0&&G.getPrevious().type==3){B=G;D=0;}}while(B.type==3&&(H=B.getPrevious())&&H.type==3){B=H;D+=H.getLength();}if(!F){if(C.type==1){G=C.getChild(E);if(G&&G.type==3&&E>0&&G.getPrevious().type==3){C=G;E=0;}}while(C.type==3&&(H=C.getPrevious())&&H.type==3){C=H;E+=H.getLength();}}}return{start:B.getAddress(A),end:F?null:C.getAddress(A),startOffset:D,endOffset:E,normalized:A,collapsed:F,is2:true};},moveToBookmark:function(A){var I=this;if(A.is2){var B=I.document.getByAddress(A.start,A.normalized),C=A.startOffset,D=A.end&&I.document.getByAddress(A.end,A.normalized),E=A.endOffset;I.setStart(B,C);if(D)I.setEnd(D,E);else I.collapse(true);}else{var F=A.serializable,G=F?I.document.getById(A.startNode):A.startNode,H=F?I.document.getById(A.endNode):A.endNode;I.setStartBefore(G);G.remove();if(H){I.setEndBefore(H);H.remove();}else I.collapse(true);}},getBoundaryNodes:function(){var F=this;var A=F.startContainer,B=F.endContainer,C=F.startOffset,D=F.endOffset,E;if(A.type==1){E=A.getChildCount();if(E>C)A=A.getChild(C);else if(E<1)A=A.getPreviousSourceNode();else{A=A.$;while(A.lastChild)A=A.lastChild;A=new k.node(A);A=A.getNextSourceNode()||A;
}}if(B.type==1){E=B.getChildCount();if(E>D)B=B.getChild(D).getPreviousSourceNode(true);else if(E<1)B=B.getPreviousSourceNode();else{B=B.$;while(B.lastChild)B=B.lastChild;B=new k.node(B);}}if(A.getPosition(B)&2)A=B;return{startNode:A,endNode:B};},getCommonAncestor:function(A,B){var F=this;var C=F.startContainer,D=F.endContainer,E;if(C.equals(D)){if(A&&C.type==1&&F.startOffset==F.endOffset-1)E=C.getChild(F.startOffset);else E=C;}else E=C.getCommonAncestor(D);return B&&!E.is?E.getParent():E;},optimize:function(){var C=this;var A=C.startContainer,B=C.startOffset;if(A.type!=1)if(!B)C.setStartBefore(A);else if(B>=A.getLength())C.setStartAfter(A);A=C.endContainer;B=C.endOffset;if(A.type!=1)if(!B)C.setEndBefore(A);else if(B>=A.getLength())C.setEndAfter(A);},optimizeBookmark:function(){var C=this;var A=C.startContainer,B=C.endContainer;if(A.is&&A.is('span')&&A.data('cke-bookmark'))C.setStartAt(A,3);if(B&&B.is&&B.is('span')&&B.data('cke-bookmark'))C.setEndAt(B,4);},trim:function(A,B){var I=this;var C=I.startContainer,D=I.startOffset,E=I.collapsed;if((!A||E)&&C&&C.type==3){if(!D){D=C.getIndex();C=C.getParent();}else if(D>=C.getLength()){D=C.getIndex()+1;C=C.getParent();}else{var F=C.split(D);D=C.getIndex()+1;C=C.getParent();if(I.startContainer.equals(I.endContainer))I.setEnd(F,I.endOffset-I.startOffset);else if(C.equals(I.endContainer))I.endOffset+=1;}I.setStart(C,D);if(E){I.collapse(true);return;}}var G=I.endContainer,H=I.endOffset;if(!(B||E)&&G&&G.type==3){if(!H){H=G.getIndex();G=G.getParent();}else if(H>=G.getLength()){H=G.getIndex()+1;G=G.getParent();}else{G.split(H);H=G.getIndex()+1;G=G.getParent();}I.setEnd(G,H);}},enlarge:function(A,B){switch(A){case 1:if(this.collapsed)return;var C=this.getCommonAncestor(),D=this.document.getBody(),E,F,G,H,I,J=false,K,L,M=this.startContainer,N=this.startOffset;if(M.type==3){if(N){M=!l.trim(M.substring(0,N)).length&&M;J=!!M;}if(M)if(!(H=M.getPrevious()))G=M.getParent();}else{if(N)H=M.getChild(N-1)||M.getLast();if(!H)G=M;}while(G||H){if(G&&!H){if(!I&&G.equals(C))I=true;if(!D.contains(G))break;if(!J||G.getComputedStyle('display')!='inline'){J=false;if(I)E=G;else this.setStartBefore(G);}H=G.getPrevious();}while(H){K=false;if(H.type==3){L=H.getText();if(/[^\s\ufeff]/.test(L))H=null;K=/[\s\ufeff]$/.test(L);}else if((H.$.offsetWidth>0||B&&H.is('br'))&&!H.data('cke-bookmark'))if(J&&m.$removeEmpty[H.getName()]){L=H.getText();if(/[^\s\ufeff]/.test(L))H=null;else{var O=H.$.all||H.$.getElementsByTagName('*');for(var P=0,Q;Q=O[P++];){if(!m.$removeEmpty[Q.nodeName.toLowerCase()]){H=null;
break;}}}if(H)K=!!L.length;}else H=null;if(K)if(J){if(I)E=G;else if(G)this.setStartBefore(G);}else J=true;if(H){var R=H.getPrevious();if(!G&&!R){G=H;H=null;break;}H=R;}else G=null;}if(G)G=G.getParent();}M=this.endContainer;N=this.endOffset;G=H=null;I=J=false;if(M.type==3){M=!l.trim(M.substring(N)).length&&M;J=!(M&&M.getLength());if(M)if(!(H=M.getNext()))G=M.getParent();}else{H=M.getChild(N);if(!H)G=M;}while(G||H){if(G&&!H){if(!I&&G.equals(C))I=true;if(!D.contains(G))break;if(!J||G.getComputedStyle('display')!='inline'){J=false;if(I)F=G;else if(G)this.setEndAfter(G);}H=G.getNext();}while(H){K=false;if(H.type==3){L=H.getText();if(/[^\s\ufeff]/.test(L))H=null;K=/^[\s\ufeff]/.test(L);}else if((H.$.offsetWidth>0||B&&H.is('br'))&&!H.data('cke-bookmark'))if(J&&m.$removeEmpty[H.getName()]){L=H.getText();if(/[^\s\ufeff]/.test(L))H=null;else{O=H.$.all||H.$.getElementsByTagName('*');for(P=0;Q=O[P++];){if(!m.$removeEmpty[Q.nodeName.toLowerCase()]){H=null;break;}}}if(H)K=!!L.length;}else H=null;if(K)if(J)if(I)F=G;else this.setEndAfter(G);if(H){R=H.getNext();if(!G&&!R){G=H;H=null;break;}H=R;}else G=null;}if(G)G=G.getParent();}if(E&&F){C=E.contains(F)?F:E;this.setStartBefore(C);this.setEndAfter(C);}break;case 2:case 3:var S=new k.range(this.document);D=this.document.getBody();S.setStartAt(D,1);S.setEnd(this.startContainer,this.startOffset);var T=new k.walker(S),U,V,W=k.walker.blockBoundary(A==3?{br:1}:null),X=function(Z){var aa=W(Z);if(!aa)U=Z;return aa;},Y=function(Z){var aa=X(Z);if(!aa&&Z.is&&Z.is('br'))V=Z;return aa;};T.guard=X;G=T.lastBackward();U=U||D;this.setStartAt(U,!U.is('br')&&(!G&&this.checkStartOfBlock()||G&&U.contains(G))?1:4);S=this.clone();S.collapse();S.setEndAt(D,2);T=new k.walker(S);T.guard=A==3?Y:X;U=null;G=T.lastForward();U=U||D;this.setEndAt(U,!G&&this.checkEndOfBlock()||G&&U.contains(G)?2:3);if(V)this.setEndAfter(V);}},shrink:function(A,B){if(!this.collapsed){A=A||2;var C=this.clone(),D=this.startContainer,E=this.endContainer,F=this.startOffset,G=this.endOffset,H=this.collapsed,I=1,J=1;if(D&&D.type==3)if(!F)C.setStartBefore(D);else if(F>=D.getLength())C.setStartAfter(D);else{C.setStartBefore(D);I=0;}if(E&&E.type==3)if(!G)C.setEndBefore(E);else if(G>=E.getLength())C.setEndAfter(E);else{C.setEndAfter(E);J=0;}var K=new k.walker(C),L=k.walker.bookmark();K.evaluator=function(P){return P.type==(A==1?1:3);};var M;K.guard=function(P,Q){if(L(P))return true;if(A==1&&P.type==3)return false;if(Q&&P.equals(M))return false;if(!Q&&P.type==1)M=P;return true;};if(I){var N=K[A==1?'lastForward':'next']();
N&&this.setStartAt(N,B?1:3);}if(J){K.reset();var O=K[A==1?'lastBackward':'previous']();O&&this.setEndAt(O,B?2:4);}return!!(I||J);}},insertNode:function(A){var E=this;E.optimizeBookmark();E.trim(false,true);var B=E.startContainer,C=E.startOffset,D=B.getChild(C);if(D)A.insertBefore(D);else B.append(A);if(A.getParent().equals(E.endContainer))E.endOffset++;E.setStartBefore(A);},moveToPosition:function(A,B){this.setStartAt(A,B);this.collapse(true);},selectNodeContents:function(A){this.setStart(A,0);this.setEnd(A,A.type==3?A.getLength():A.getChildCount());},setStart:function(A,B){var C=this;if(A.type==1&&m.$empty[A.getName()])B=A.getIndex(),A=A.getParent();C.startContainer=A;C.startOffset=B;if(!C.endContainer){C.endContainer=A;C.endOffset=B;}s(C);},setEnd:function(A,B){var C=this;if(A.type==1&&m.$empty[A.getName()])B=A.getIndex()+1,A=A.getParent();C.endContainer=A;C.endOffset=B;if(!C.startContainer){C.startContainer=A;C.startOffset=B;}s(C);},setStartAfter:function(A){this.setStart(A.getParent(),A.getIndex()+1);},setStartBefore:function(A){this.setStart(A.getParent(),A.getIndex());},setEndAfter:function(A){this.setEnd(A.getParent(),A.getIndex()+1);},setEndBefore:function(A){this.setEnd(A.getParent(),A.getIndex());},setStartAt:function(A,B){var C=this;switch(B){case 1:C.setStart(A,0);break;case 2:if(A.type==3)C.setStart(A,A.getLength());else C.setStart(A,A.getChildCount());break;case 3:C.setStartBefore(A);break;case 4:C.setStartAfter(A);}s(C);},setEndAt:function(A,B){var C=this;switch(B){case 1:C.setEnd(A,0);break;case 2:if(A.type==3)C.setEnd(A,A.getLength());else C.setEnd(A,A.getChildCount());break;case 3:C.setEndBefore(A);break;case 4:C.setEndAfter(A);}s(C);},fixBlock:function(A,B){var E=this;var C=E.createBookmark(),D=E.document.createElement(B);E.collapse(A);E.enlarge(2);E.extractContents().appendTo(D);D.trim();if(!j)D.appendBogus();E.insertNode(D);E.moveToBookmark(C);return D;},splitBlock:function(A){var K=this;var B=new k.elementPath(K.startContainer),C=new k.elementPath(K.endContainer),D=B.blockLimit,E=C.blockLimit,F=B.block,G=C.block,H=null;if(!D.equals(E))return null;if(A!='br'){if(!F){F=K.fixBlock(true,A);G=new k.elementPath(K.endContainer).block;}if(!G)G=K.fixBlock(false,A);}var I=F&&K.checkStartOfBlock(),J=G&&K.checkEndOfBlock();K.deleteContents();if(F&&F.equals(G))if(J){H=new k.elementPath(K.startContainer);K.moveToPosition(G,4);G=null;}else if(I){H=new k.elementPath(K.startContainer);K.moveToPosition(F,3);F=null;}else{G=K.splitElement(F);if(!j&&!F.is('ul','ol'))F.appendBogus();
}return{previousBlock:F,nextBlock:G,wasStartOfBlock:I,wasEndOfBlock:J,elementPath:H};},splitElement:function(A){var D=this;if(!D.collapsed)return null;D.setEndAt(A,2);var B=D.extractContents(),C=A.clone(false);B.appendTo(C);C.insertAfter(A);D.moveToPosition(A,4);return C;},checkBoundaryOfElement:function(A,B){var C=B==1,D=this.clone();D.collapse(C);D[C?'setStartAt':'setEndAt'](A,C?1:2);var E=new k.walker(D);E.evaluator=w;return E[C?'checkBackward':'checkForward']();},checkStartOfBlock:function(){var G=this;var A=G.startContainer,B=G.startOffset;if(B&&A.type==3){var C=l.ltrim(A.substring(0,B));if(C.length)return false;}G.trim();var D=new k.elementPath(G.startContainer),E=G.clone();E.collapse(true);E.setStartAt(D.block||D.blockLimit,1);var F=new k.walker(E);F.evaluator=v(true);return F.checkBackward();},checkEndOfBlock:function(){var G=this;var A=G.endContainer,B=G.endOffset;if(A.type==3){var C=l.rtrim(A.substring(B));if(C.length)return false;}G.trim();var D=new k.elementPath(G.endContainer),E=G.clone();E.collapse(false);E.setEndAt(D.block||D.blockLimit,2);var F=new k.walker(E);F.evaluator=v(false);return F.checkForward();},checkReadOnly:(function(){function A(B,C){while(B){if(B.type==1)if(B.getAttribute('contentEditable')=='false'&&!B.data('cke-editable'))return 0;else if(B.is('body')||B.getAttribute('contentEditable')=='true'&&(B.contains(C)||B.equals(C)))break;B=B.getParent();}return 1;};return function(){var B=this.startContainer,C=this.endContainer;return!(A(B,C)&&A(C,B));};})(),moveToElementEditablePosition:function(A,B){var C;if(m.$empty[A.getName()])return false;while(A&&A.type==1){C=A.isEditable();if(C)this.moveToPosition(A,B?2:1);else if(m.$inline[A.getName()]){this.moveToPosition(A,B?4:3);return true;}if(m.$empty[A.getName()])A=A[B?'getPrevious':'getNext'](z);else A=A[B?'getLast':'getFirst'](z);if(A&&A.type==3){this.moveToPosition(A,B?4:3);return true;}}return C;},moveToElementEditStart:function(A){return this.moveToElementEditablePosition(A);},moveToElementEditEnd:function(A){return this.moveToElementEditablePosition(A,true);},getEnclosedNode:function(){var A=this.clone();A.optimize();if(A.startContainer.type!=1||A.endContainer.type!=1)return null;var B=new k.walker(A),C=k.walker.bookmark(true),D=k.walker.whitespaces(true),E=function(G){return D(G)&&C(G);};A.evaluator=E;var F=B.next();B.reset();return F&&F.equals(B.previous())?F:null;},getTouchedStartNode:function(){var A=this.startContainer;if(this.collapsed||A.type!=1)return A;return A.getChild(this.startOffset)||A;
},getTouchedEndNode:function(){var A=this.endContainer;if(this.collapsed||A.type!=1)return A;return A.getChild(this.endOffset-1)||A;}};})();h.POSITION_AFTER_START=1;h.POSITION_BEFORE_END=2;h.POSITION_BEFORE_START=3;h.POSITION_AFTER_END=4;h.ENLARGE_ELEMENT=1;h.ENLARGE_BLOCK_CONTENTS=2;h.ENLARGE_LIST_ITEM_CONTENTS=3;h.START=1;h.END=2;h.STARTEND=3;h.SHRINK_ELEMENT=1;h.SHRINK_TEXT=2;(function(){k.rangeList=function(u){if(u instanceof k.rangeList)return u;if(!u)u=[];else if(u instanceof k.range)u=[u];return l.extend(u,s);};var s={createIterator:function(){var u=this,v=k.walker.bookmark(),w=function(z){return!(z.is&&z.is('tr'));},x=[],y;return{getNextRange:function(z){y=y==undefined?0:y+1;var A=u[y];if(A&&u.length>1){if(!y)for(var B=u.length-1;B>=0;B--)x.unshift(u[B].createBookmark(true));if(z){var C=0;while(u[y+C+1]){var D=A.document,E=0,F=D.getById(x[C].endNode),G=D.getById(x[C+1].startNode),H;while(1){H=F.getNextSourceNode(false);if(!G.equals(H)){if(v(H)||H.type==1&&H.isBlockBoundary()){F=H;continue;}}else E=1;break;}if(!E)break;C++;}}A.moveToBookmark(x.shift());while(C--){H=u[++y];H.moveToBookmark(x.shift());A.setEnd(H.endContainer,H.endOffset);}}return A;}};},createBookmarks:function(u){var z=this;var v=[],w;for(var x=0;x<z.length;x++){v.push(w=z[x].createBookmark(u,true));for(var y=x+1;y<z.length;y++){z[y]=t(w,z[y]);z[y]=t(w,z[y],true);}}return v;},createBookmarks2:function(u){var v=[];for(var w=0;w<this.length;w++)v.push(this[w].createBookmark2(u));return v;},moveToBookmarks:function(u){for(var v=0;v<this.length;v++)this[v].moveToBookmark(u[v]);}};function t(u,v,w){var x=u.serializable,y=v[w?'endContainer':'startContainer'],z=w?'endOffset':'startOffset',A=x?v.document.getById(u.startNode):u.startNode,B=x?v.document.getById(u.endNode):u.endNode;if(y.equals(A.getPrevious())){v.startOffset=v.startOffset-y.getLength()-B.getPrevious().getLength();y=B.getNext();}else if(y.equals(B.getPrevious())){v.startOffset=v.startOffset-y.getLength();y=B.getNext();}y.equals(A.getParent())&&v[z]++;y.equals(B.getParent())&&v[z]++;v[w?'endContainer':'startContainer']=y;return v;};})();(function(){if(i.webkit){i.hc=false;return;}var s=j&&i.version<7,t=j&&i.version==7,u=s?h.basePath+'images/spacer.gif':t?'about:blank':'data:image/png;base64,',v=o.createFromHtml('<div style="width:0px;height:0px;position:absolute;left:-10000px;background-image:url('+u+')"></div>',h.document);v.appendTo(h.document.getHead());try{i.hc=v.getComputedStyle('background-image')=='none';}catch(w){i.hc=false;
}if(i.hc)i.cssClass+=' cke_hc';v.remove();})();q.load(p.corePlugins.split(','),function(){h.status='loaded';h.fire('loaded');var s=h._.pending;if(s){delete h._.pending;for(var t=0;t<s.length;t++)h.add(s[t]);}});if(j)try{document.execCommand('BackgroundImageCache',false,true);}catch(s){}h.skins.add('kama',(function(){var t='cke_ui_color';return{editor:{css:['editor.css']},dialog:{css:['dialog.css']},templates:{css:['templates.css']},margins:[0,0,0,0],init:function(u){if(u.config.width&&!isNaN(u.config.width))u.config.width-=12;var v=[],w=/\$color/g,x='/* UI Color Support */.cke_skin_kama .cke_menuitem .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover .cke_label,.cke_skin_kama .cke_menuitem a:focus .cke_label,.cke_skin_kama .cke_menuitem a:active .cke_label{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_label,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_label{\tbackground-color: transparent !important;}.cke_skin_kama .cke_menuitem a.cke_disabled:hover .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:focus .cke_icon_wrapper,.cke_skin_kama .cke_menuitem a.cke_disabled:active .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuitem a.cke_disabled .cke_icon_wrapper{\tbackground-color: $color !important;\tborder-color: $color !important;}.cke_skin_kama .cke_menuseparator{\tbackground-color: $color !important;}.cke_skin_kama .cke_menuitem a:hover,.cke_skin_kama .cke_menuitem a:focus,.cke_skin_kama .cke_menuitem a:active{\tbackground-color: $color !important;}';if(i.webkit){x=x.split('}').slice(0,-1);for(var y=0;y<x.length;y++)x[y]=x[y].split('{');}function z(C){var D=C.getById(t);if(!D){D=C.getHead().append('style');D.setAttribute('id',t);D.setAttribute('type','text/css');}return D;};function A(C,D,E){var F,G,H;for(var I=0;I<C.length;I++){if(i.webkit)for(G=0;G<D.length;G++){H=D[G][1];for(F=0;F<E.length;F++)H=H.replace(E[F][0],E[F][1]);C[I].$.sheet.addRule(D[G][0],H);}else{H=D;for(F=0;F<E.length;F++)H=H.replace(E[F][0],E[F][1]);if(j)C[I].$.styleSheet.cssText+=H;else C[I].$.innerHTML+=H;
}}};var B=/\$color/g;l.extend(u,{uiColor:null,getUiColor:function(){return this.uiColor;},setUiColor:function(C){var D,E=z(h.document),F='.'+u.id,G=[F+' .cke_wrapper',F+'_dialog .cke_dialog_contents',F+'_dialog a.cke_dialog_tab',F+'_dialog .cke_dialog_footer'].join(','),H='background-color: $color !important;';if(i.webkit)D=[[G,H]];else D=G+'{'+H+'}';return(this.setUiColor=function(I){var J=[[B,I]];u.uiColor=I;A([E],D,J);A(v,x,J);})(C);}});u.on('menuShow',function(C){var D=C.data[0],E=D.element.getElementsByTag('iframe').getItem(0).getFrameDocument();if(!E.getById('cke_ui_color')){var F=z(E);v.push(F);var G=u.getUiColor();if(G)A([F],x,[[B,G]]);}});if(u.config.uiColor)u.setUiColor(u.config.uiColor);}};})());(function(){h.dialog?t():h.on('dialogPluginReady',t);function t(){h.dialog.on('resize',function(u){var v=u.data,w=v.width,x=v.height,y=v.dialog,z=y.parts.contents;if(v.skin!='kama')return;z.setStyles({width:w+'px',height:x+'px'});});};})();q.add('about',{requires:['dialog'],init:function(t){var u=t.addCommand('about',new h.dialogCommand('about'));u.modes={wysiwyg:1,source:1};u.canUndo=false;t.ui.addButton('About',{label:t.lang.about.title,command:'about'});h.dialog.add('about',this.path+'dialogs/about.js');}});(function(){var t='a11yhelp',u='a11yHelp';q.add(t,{availableLangs:{en:1,he:1},init:function(v){var w=this;v.addCommand(u,{exec:function(){var x=v.langCode;x=w.availableLangs[x]?x:'en';h.scriptLoader.load(h.getUrl(w.path+'lang/'+x+'.js'),function(){l.extend(v.lang,w.lang[x]);v.openDialog(u);});},modes:{wysiwyg:1,source:1},canUndo:false});h.dialog.add(u,this.path+'dialogs/a11yhelp.js');}});})();q.add('basicstyles',{requires:['styles','button'],init:function(t){var u=function(x,y,z,A){var B=new h.style(A);t.attachStyleStateChange(B,function(C){t.getCommand(z).setState(C);});t.addCommand(z,new h.styleCommand(B));t.ui.addButton(x,{label:y,command:z});},v=t.config,w=t.lang;u('Bold',w.bold,'bold',v.coreStyles_bold);u('Italic',w.italic,'italic',v.coreStyles_italic);u('Underline',w.underline,'underline',v.coreStyles_underline);u('Strike',w.strike,'strike',v.coreStyles_strike);u('Subscript',w.subscript,'subscript',v.coreStyles_subscript);u('Superscript',w.superscript,'superscript',v.coreStyles_superscript);}});p.coreStyles_bold={element:'strong',overrides:'b'};p.coreStyles_italic={element:'em',overrides:'i'};p.coreStyles_underline={element:'u'};p.coreStyles_strike={element:'strike'};p.coreStyles_subscript={element:'sub'};p.coreStyles_superscript={element:'sup'};
(function(){var t={table:1,ul:1,ol:1,blockquote:1,div:1},u={},v={};l.extend(u,t,{tr:1,p:1,div:1,li:1});l.extend(v,u,{td:1});function w(D){x(D);y(D);};function x(D){var E=D.editor,F=D.data.path,G=E.config.useComputedState,H;G=G===undefined||G;if(!G)H=z(F.lastElement);H=H||F.block||F.blockLimit;H.is('body')&&(H=E.getSelection().getRanges()[0].getEnclosedNode());if(!H)return;var I=G?H.getComputedStyle('direction'):H.getStyle('direction')||H.getAttribute('dir');E.getCommand('bidirtl').setState(I=='rtl'?1:2);E.getCommand('bidiltr').setState(I=='ltr'?1:2);};function y(D){var E=D.editor,F=E.container.getChild(1),G=D.data.path.block||D.data.path.blockLimit;if(G&&E.lang.dir!=G.getComputedStyle('direction'))F.addClass('cke_mixed_dir_content');else F.removeClass('cke_mixed_dir_content');};function z(D){while(D&&!(D.getName() in v||D.is('body'))){var E=D.getParent();if(!E)break;D=E;}return D;};function A(D,E,F,G){o.setMarker(G,D,'bidi_processed',1);var H=D;while((H=H.getParent())&&!H.is('body')){if(H.getCustomData('bidi_processed')){D.removeStyle('direction');D.removeAttribute('dir');return null;}}var I='useComputedState' in F.config?F.config.useComputedState:1,J=I?D.getComputedStyle('direction'):D.getStyle('direction')||D.hasAttribute('dir');if(J==E)return null;var K=I?J:D.getComputedStyle('direction');D.removeStyle('direction');if(I){D.removeAttribute('dir');if(E!=D.getComputedStyle('direction'))D.setAttribute('dir',E);}else D.setAttribute('dir',E);if(E!=K)F.fire('dirChanged',{node:D,dir:E});F.forceNextSelectionCheck();return null;};function B(D,E,F){var G=D.getCommonAncestor(false,true);D=D.clone();D.enlarge(F==2?3:2);if(D.checkBoundaryOfElement(G,1)&&D.checkBoundaryOfElement(G,2)){var H;while(G&&G.type==1&&(H=G.getParent())&&H.getChildCount()==1&&!(G.getName() in E))G=H;return G.type==1&&G.getName() in E&&G;}};function C(D){return function(E){var F=E.getSelection(),G=E.config.enterMode,H=F.getRanges();if(H&&H.length){var I={},J=F.createBookmarks(),K=H.createIterator(),L,M=0;while(L=K.getNextRange(1)){var N=L.getEnclosedNode();if(!N||N&&!(N.type==1&&N.getName() in u))N=B(L,t,G);if(N&&!N.isReadOnly())A(N,D,E,I);var O,P,Q=new k.walker(L),R=J[M].startNode,S=J[M++].endNode;Q.evaluator=function(T){return!!(T.type==1&&T.getName() in t&&!(T.getName()==(G==1?'p':'div')&&T.getParent().type==1&&T.getParent().getName()=='blockquote')&&T.getPosition(R)&2&&(T.getPosition(S)&4+16)==4);};while(P=Q.next())A(P,D,E,I);O=L.createIterator();O.enlargeBr=G!=2;while(P=O.getNextParagraph(G==1?'p':'div'))!P.isReadOnly()&&A(P,D,E,I);
}o.clearAllMarkers(I);E.forceNextSelectionCheck();F.selectBookmarks(J);E.focus();}};};q.add('bidi',{requires:['styles','button'],init:function(D){var E=function(G,H,I,J){D.addCommand(I,new h.command(D,{exec:J}));D.ui.addButton(G,{label:H,command:I});},F=D.lang.bidi;E('BidiLtr',F.ltr,'bidiltr',C('ltr'));E('BidiRtl',F.rtl,'bidirtl',C('rtl'));D.on('selectionChange',w);}});})();(function(){function t(x,y){var z=y.block||y.blockLimit;if(!z||z.getName()=='body')return 2;if(z.getAscendant('blockquote',true))return 1;return 2;};function u(x){var y=x.editor,z=y.getCommand('blockquote');z.state=t(y,x.data.path);z.fire('state');};function v(x){for(var y=0,z=x.getChildCount(),A;y<z&&(A=x.getChild(y));y++){if(A.type==1&&A.isBlockBoundary())return false;}return true;};var w={exec:function(x){var y=x.getCommand('blockquote').state,z=x.getSelection(),A=z&&z.getRanges(true)[0];if(!A)return;var B=z.createBookmarks();if(j){var C=B[0].startNode,D=B[0].endNode,E;if(C&&C.getParent().getName()=='blockquote'){E=C;while(E=E.getNext()){if(E.type==1&&E.isBlockBoundary()){C.move(E,true);break;}}}if(D&&D.getParent().getName()=='blockquote'){E=D;while(E=E.getPrevious()){if(E.type==1&&E.isBlockBoundary()){D.move(E);break;}}}}var F=A.createIterator(),G;F.enlargeBr=x.config.enterMode!=2;if(y==2){var H=[];while(G=F.getNextParagraph())H.push(G);if(H.length<1){var I=x.document.createElement(x.config.enterMode==1?'p':'div'),J=B.shift();A.insertNode(I);I.append(new k.text('\ufeff',x.document));A.moveToBookmark(J);A.selectNodeContents(I);A.collapse(true);J=A.createBookmark();H.push(I);B.unshift(J);}var K=H[0].getParent(),L=[];for(var M=0;M<H.length;M++){G=H[M];K=K.getCommonAncestor(G.getParent());}var N={table:1,tbody:1,tr:1,ol:1,ul:1};while(N[K.getName()])K=K.getParent();var O=null;while(H.length>0){G=H.shift();while(!G.getParent().equals(K))G=G.getParent();if(!G.equals(O))L.push(G);O=G;}while(L.length>0){G=L.shift();if(G.getName()=='blockquote'){var P=new k.documentFragment(x.document);while(G.getFirst()){P.append(G.getFirst().remove());H.push(P.getLast());}P.replace(G);}else H.push(G);}var Q=x.document.createElement('blockquote');Q.insertBefore(H[0]);while(H.length>0){G=H.shift();Q.append(G);}}else if(y==1){var R=[],S={};while(G=F.getNextParagraph()){var T=null,U=null;while(G.getParent()){if(G.getParent().getName()=='blockquote'){T=G.getParent();U=G;break;}G=G.getParent();}if(T&&U&&!U.getCustomData('blockquote_moveout')){R.push(U);o.setMarker(S,U,'blockquote_moveout',true);}}o.clearAllMarkers(S);
var V=[],W=[];S={};while(R.length>0){var X=R.shift();Q=X.getParent();if(!X.getPrevious())X.remove().insertBefore(Q);else if(!X.getNext())X.remove().insertAfter(Q);else{X.breakParent(X.getParent());W.push(X.getNext());}if(!Q.getCustomData('blockquote_processed')){W.push(Q);o.setMarker(S,Q,'blockquote_processed',true);}V.push(X);}o.clearAllMarkers(S);for(M=W.length-1;M>=0;M--){Q=W[M];if(v(Q))Q.remove();}if(x.config.enterMode==2){var Y=true;while(V.length){X=V.shift();if(X.getName()=='div'){P=new k.documentFragment(x.document);var Z=Y&&X.getPrevious()&&!(X.getPrevious().type==1&&X.getPrevious().isBlockBoundary());if(Z)P.append(x.document.createElement('br'));var aa=X.getNext()&&!(X.getNext().type==1&&X.getNext().isBlockBoundary());while(X.getFirst())X.getFirst().remove().appendTo(P);if(aa)P.append(x.document.createElement('br'));P.replace(X);Y=false;}}}}z.selectBookmarks(B);x.focus();}};q.add('blockquote',{init:function(x){x.addCommand('blockquote',w);x.ui.addButton('Blockquote',{label:x.lang.blockquote,command:'blockquote'});x.on('selectionChange',u);},requires:['domiterator']});})();q.add('button',{beforeInit:function(t){t.ui.addHandler(1,r.button.handler);}});h.UI_BUTTON=1;r.button=function(t){l.extend(this,t,{title:t.label,className:t.className||t.command&&'cke_button_'+t.command||'',click:t.click||(function(u){u.execCommand(t.command);})});this._={};};r.button.handler={create:function(t){return new r.button(t);}};r.button._={instances:[],keydown:function(t,u){var v=r.button._.instances[t];if(v.onkey){u=new k.event(u);return v.onkey(v,u.getKeystroke())!==false;}},focus:function(t,u){var v=r.button._.instances[t],w;if(v.onfocus)w=v.onfocus(v,new k.event(u))!==false;if(i.gecko&&i.version<10900)u.preventBubble();return w;}};(function(){var t=l.addFunction(r.button._.keydown,r.button._),u=l.addFunction(r.button._.focus,r.button._);r.button.prototype={canGroup:true,render:function(v,w){var x=i,y=this._.id=l.getNextId(),z='',A=this.command,B,C;this._.editor=v;var D={id:y,button:this,editor:v,focus:function(){var G=h.document.getById(y);G.focus();},execute:function(){this.button.click(v);}};D.clickFn=B=l.addFunction(D.execute,D);D.index=C=r.button._.instances.push(D)-1;if(this.modes){var E={};v.on('beforeModeUnload',function(){E[v.mode]=this._.state;},this);v.on('mode',function(){var G=v.mode;this.setState(this.modes[G]?E[G]!=undefined?E[G]:2:0);},this);}else if(A){A=v.getCommand(A);if(A){A.on('state',function(){this.setState(A.state);},this);z+='cke_'+(A.state==1?'on':A.state==0?'disabled':'off');
}}if(!A)z+='cke_off';if(this.className)z+=' '+this.className;w.push('<span class="cke_button'+(this.icon&&this.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">','<a id="',y,'" class="',z,'"',x.gecko&&x.version>=10900&&!x.hc?'':'" href="javascript:void(\''+(this.title||'').replace("'",'')+"')\"",' title="',this.title,'" tabindex="-1" hidefocus="true" role="button" aria-labelledby="'+y+'_label"'+(this.hasArrow?' aria-haspopup="true"':''));if(x.opera||x.gecko&&x.mac)w.push(' onkeypress="return false;"');if(x.gecko)w.push(' onblur="this.style.cssText = this.style.cssText;"');w.push(' onkeydown="return CKEDITOR.tools.callFunction(',t,', ',C,', event);" onfocus="return CKEDITOR.tools.callFunction(',u,', ',C,', event);" onclick="CKEDITOR.tools.callFunction(',B,', this); return false;"><span class="cke_icon"');if(this.icon){var F=(this.iconOffset||0)*-16;w.push(' style="background-image:url(',h.getUrl(this.icon),');background-position:0 '+F+'px;"');}w.push('>&nbsp;</span><span id="',y,'_label" class="cke_label">',this.label,'</span>');if(this.hasArrow)w.push('<span class="cke_buttonarrow">'+(i.hc?'&#9660;':'&nbsp;')+'</span>');w.push('</a>','</span>');if(this.onRender)this.onRender();return D;},setState:function(v){if(this._.state==v)return false;this._.state=v;var w=h.document.getById(this._.id);if(w){w.setState(v);v==0?w.setAttribute('aria-disabled',true):w.removeAttribute('aria-disabled');v==1?w.setAttribute('aria-pressed',true):w.removeAttribute('aria-pressed');return true;}else return false;}};})();r.prototype.addButton=function(t,u){this.add(t,1,u);};h.on('reset',function(){r.button._.instances=[];});(function(){var t=function(E,F){var G=E.document,H=G.getBody(),I=0,J=function(){I=1;};H.on(F,J);(i.version>7?G.$:G.$.selection.createRange()).execCommand(F);H.removeListener(F,J);return I;},u=j?function(E,F){return t(E,F);}:function(E,F){try{return E.document.$.execCommand(F,false,null);}catch(G){return false;}},v=function(E){var F=this;F.type=E;F.canUndo=F.type=='cut';F.startDisabled=true;};v.prototype={exec:function(E,F){this.type=='cut'&&z(E);var G=u(E,this.type);if(!G)alert(E.lang.clipboard[this.type+'Error']);return G;}};var w={canUndo:false,exec:j?function(E){E.focus();if(!E.document.getBody().fire('beforepaste')&&!t(E,'paste')){E.fire('pasteDialog');return false;}}:function(E){try{if(!E.document.getBody().fire('beforepaste')&&!E.document.$.execCommand('Paste',false,null))throw 0;}catch(F){setTimeout(function(){E.fire('pasteDialog');},0);return false;}}},x=function(E){if(this.mode!='wysiwyg')return;
switch(E.data.keyCode){case 1000+86:case 2000+45:var F=this.document.getBody();if(!j&&F.fire('beforepaste'))E.cancel();else if(i.opera||i.gecko&&i.version<10900)F.fire('paste');return;case 1000+88:case 2000+46:var G=this;this.fire('saveSnapshot');setTimeout(function(){G.fire('saveSnapshot');},0);}};function y(E,F,G){var H=this.document;if(H.getById('cke_pastebin'))return;if(F=='text'&&E.data&&E.data.$.clipboardData){var I=E.data.$.clipboardData.getData('text/plain');if(I){E.data.preventDefault();G(I);return;}}var J=this.getSelection(),K=new k.range(H),L=new o(F=='text'?'textarea':i.webkit?'body':'div',H);L.setAttribute('id','cke_pastebin');i.webkit&&L.append(H.createText('\xa0'));H.getBody().append(L);L.setStyles({position:'absolute',top:J.getStartElement().getDocumentPosition().y+'px',width:'1px',height:'1px',overflow:'hidden'});L.setStyle(this.config.contentsLangDirection=='ltr'?'left':'right','-1000px');var M=J.createBookmarks();if(F=='text'){if(j){var N=H.getBody().$.createTextRange();N.moveToElementText(L.$);N.execCommand('Paste');E.data.preventDefault();}else L.$.focus();}else{K.setStartAt(L,1);K.setEndAt(L,2);K.select(true);}var O=this;window.setTimeout(function(){F=='text'&&i.gecko&&O.focusGrabber.focus();L.remove();var P;L=i.webkit&&(P=L.getFirst())&&P.is&&P.hasClass('Apple-style-span')?P:L;J.selectBookmarks(M);G(L['get'+(F=='text'?'Value':'Html')]());},0);};function z(E){if(!j||i.quirks)return;var F=E.getSelection(),G;if(F.getType()==3&&(G=F.getSelectedElement())){var H=F.getRanges()[0],I=E.document.createText('');I.insertBefore(G);H.setStartBefore(I);H.setEndAfter(G);F.selectRanges([H]);setTimeout(function(){if(G.getParent()){I.remove();F.selectElement(G);}},0);}};var A;function B(E,F){j&&(A=1);var G=F.document.$.queryCommandEnabled(E)?2:0;A=0;return G;};var C;function D(){var F=this;if(F.mode!='wysiwyg')return;F.getCommand('cut').setState(C?0:B('Cut',F));F.getCommand('copy').setState(B('Copy',F));var E=C?0:i.webkit?2:B('Paste',F);F.fire('pasteState',E);};q.add('clipboard',{requires:['dialog','htmldataprocessor'],init:function(E){E.on('paste',function(H){var I=H.data;if(I.html)E.insertHtml(I.html);else if(I.text)E.insertText(I.text);},null,null,1000);E.on('pasteDialog',function(H){setTimeout(function(){E.openDialog('paste');},0);});E.on('pasteState',function(H){E.getCommand('paste').setState(H.data);});function F(H,I,J,K){var L=E.lang[I];E.addCommand(I,J);E.ui.addButton(H,{label:L,command:I});if(E.addMenuItems)E.addMenuItem(I,{label:L,command:I,group:'clipboard',order:K});
};F('Cut','cut',new v('cut'),1);F('Copy','copy',new v('copy'),4);F('Paste','paste',w,8);h.dialog.add('paste',h.getUrl(this.path+'dialogs/paste.js'));E.on('key',x,E);var G=E.config.forcePasteAsPlainText?'text':'html';E.on('contentDom',function(){var H=E.document.getBody();H.on(G=='text'&&j||i.webkit?'paste':'beforepaste',function(I){if(A)return;y.call(E,I,G,function(J){if(!J)return;var K={};K[G]=J;E.fire('paste',K);});});H.on('beforecut',function(){!A&&z(E);});H.on('mouseup',function(){setTimeout(function(){D.call(E);},0);},E);H.on('keyup',D,E);});E.on('selectionChange',function(H){C=H.data.selection.getRanges()[0].checkReadOnly();D.call(E);});if(E.contextMenu)E.contextMenu.addListener(function(H,I){var J=I.getRanges()[0].checkReadOnly();return{cut:!J&&B('Cut',E),copy:B('Copy',E),paste:!J&&(i.webkit?2:B('Paste',E))};});}});})();q.add('colorbutton',{requires:['panelbutton','floatpanel','styles'],init:function(t){var u=t.config,v=t.lang.colorButton,w;if(!i.hc){x('TextColor','fore',v.textColorTitle);x('BGColor','back',v.bgColorTitle);}function x(A,B,C){var D=l.getNextId()+'_colorBox';t.ui.add(A,4,{label:C,title:C,className:'cke_button_'+A.toLowerCase(),modes:{wysiwyg:1},panel:{css:t.skin.editor.css,attributes:{role:'listbox','aria-label':v.panelTitle}},onBlock:function(E,F){F.autoSize=true;F.element.addClass('cke_colorblock');F.element.setHtml(y(E,B,D));F.element.getDocument().getBody().setStyle('overflow','hidden');r.fire('ready',this);var G=F.keys,H=t.lang.dir=='rtl';G[H?37:39]='next';G[40]='next';G[9]='next';G[H?39:37]='prev';G[38]='prev';G[2000+9]='prev';G[32]='click';},onOpen:function(){var E=t.getSelection(),F=E&&E.getStartElement(),G=new k.elementPath(F),H;F=G.block||G.blockLimit;do H=F&&F.getComputedStyle(B=='back'?'background-color':'color')||'transparent';while(B=='back'&&H=='transparent'&&F&&(F=F.getParent()))if(!H||H=='transparent')H='#ffffff';this._.panel._.iframe.getFrameDocument().getById(D).setStyle('background-color',H);}});};function y(A,B,C){var D=[],E=u.colorButton_colors.split(','),F=E.length+(u.colorButton_enableMore?2:1),G=l.addFunction(function(M,N){if(M=='?'){var O=arguments.callee;function P(R){this.removeListener('ok',P);this.removeListener('cancel',P);R.name=='ok'&&O(this.getContentElement('picker','selectedColor').getValue(),N);};t.openDialog('colordialog',function(){this.on('ok',P);this.on('cancel',P);});return;}t.focus();A.hide();t.fire('saveSnapshot');new h.style(u['colorButton_'+N+'Style'],{color:'inherit'}).remove(t.document);if(M){var Q=u['colorButton_'+N+'Style'];
Q.childRule=N=='back'?function(R){return z(R);}:function(R){return R.getName()!='a'||z(R);};new h.style(Q,{color:M}).apply(t.document);}t.fire('saveSnapshot');});D.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="',v.auto,'" onclick="CKEDITOR.tools.callFunction(',G,",null,'",B,"');return false;\" href=\"javascript:void('",v.auto,'\')" role="option" aria-posinset="1" aria-setsize="',F,'"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td><span class="cke_colorbox" id="',C,'"></span></td><td colspan=7 align=center>',v.auto,'</td></tr></table></a><table role="presentation" cellspacing=0 cellpadding=0 width="100%">');for(var H=0;H<E.length;H++){if(H%8===0)D.push('</tr><tr>');var I=E[H].split('/'),J=I[0],K=I[1]||J;if(!I[1])J='#'+J.replace(/^(.)(.)(.)$/,'$1$1$2$2$3$3');var L=t.lang.colors[K]||K;D.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="',L,'" onclick="CKEDITOR.tools.callFunction(',G,",'",J,"','",B,"'); return false;\" href=\"javascript:void('",L,'\')" role="option" aria-posinset="',H+2,'" aria-setsize="',F,'"><span class="cke_colorbox" style="background-color:#',K,'"></span></a></td>');}if(u.colorButton_enableMore===undefined||u.colorButton_enableMore)D.push('</tr><tr><td colspan=8 align=center><a class="cke_colormore" _cke_focus=1 hidefocus=true title="',v.more,'" onclick="CKEDITOR.tools.callFunction(',G,",'?','",B,"');return false;\" href=\"javascript:void('",v.more,"')\"",' role="option" aria-posinset="',F,'" aria-setsize="',F,'">',v.more,'</a></td>');D.push('</tr></table>');return D.join('');};function z(A){return A.getAttribute('contentEditable')=='false'||A.getAttribute('data-nostyle');};}});p.colorButton_colors='000,800000,8B4513,2F4F4F,008080,000080,4B0082,696969,B22222,A52A2A,DAA520,006400,40E0D0,0000CD,800080,808080,F00,FF8C00,FFD700,008000,0FF,00F,EE82EE,A9A9A9,FFA07A,FFA500,FFFF00,00FF00,AFEEEE,ADD8E6,DDA0DD,D3D3D3,FFF0F5,FAEBD7,FFFFE0,F0FFF0,F0FFFF,F0F8FF,E6E6FA,FFF';p.colorButton_foreStyle={element:'span',styles:{color:'#(color)'},overrides:[{element:'font',attributes:{color:null}}]};p.colorButton_backStyle={element:'span',styles:{'background-color':'#(color)'}};(function(){q.colordialog={init:function(t){t.addCommand('colordialog',new h.dialogCommand('colordialog'));h.dialog.add('colordialog',this.path+'dialogs/colordialog.js');}};q.add('colordialog',q.colordialog);})();q.add('contextmenu',{requires:['menu'],onLoad:function(){q.contextMenu=l.createClass({base:h.menu,$:function(t){this.base.call(this,t,{panel:{className:t.skinClass+' cke_contextmenu',attributes:{'aria-label':t.lang.contextmenu.options}}});
},proto:{addTarget:function(t,u){if(i.opera&&!('oncontextmenu' in document.body)){var v;t.on('mousedown',function(z){z=z.data;if(z.$.button!=2){if(z.getKeystroke()==1000+1)t.fire('contextmenu',z);return;}if(u&&(i.mac?z.$.metaKey:z.$.ctrlKey))return;var A=z.getTarget();if(!v){var B=A.getDocument();v=B.createElement('input');v.$.type='button';B.getBody().append(v);}v.setAttribute('style','position:absolute;top:'+(z.$.clientY-2)+'px;left:'+(z.$.clientX-2)+'px;width:5px;height:5px;opacity:0.01');});t.on('mouseup',function(z){if(v){v.remove();v=undefined;t.fire('contextmenu',z.data);}});}t.on('contextmenu',function(z){var A=z.data;if(u&&(i.webkit?w:i.mac?A.$.metaKey:A.$.ctrlKey))return;A.preventDefault();var B=A.getTarget().getDocument().getDocumentElement(),C=A.$.clientX,D=A.$.clientY;l.setTimeout(function(){this.open(B,null,C,D);},0,this);},this);if(i.opera)t.on('keypress',function(z){var A=z.data;if(A.$.keyCode===0)A.preventDefault();});if(i.webkit){var w,x=function(z){w=i.mac?z.data.$.metaKey:z.data.$.ctrlKey;},y=function(){w=0;};t.on('keydown',x);t.on('keyup',y);t.on('contextmenu',y);}},open:function(t,u,v,w){this.editor.focus();t=t||h.document.getDocumentElement();this.show(t,u,v,w);}}});},beforeInit:function(t){t.contextMenu=new q.contextMenu(t);t.addCommand('contextMenu',{exec:function(){t.contextMenu.open(t.document.getBody());}});}});(function(){function t(v){var w=this.att,x=v&&v.hasAttribute(w)&&v.getAttribute(w)||'';if(x!==undefined)this.setValue(x);};function u(){var v;for(var w=0;w<arguments.length;w++){if(arguments[w] instanceof o){v=arguments[w];break;}}if(v){var x=this.att,y=this.getValue();if(x=='dir'){var z=v.getAttribute(x);if(z!=y&&v.getParent())this._.dialog._.editor.fire('dirChanged',{node:v,dir:y||v.getDirection(1)});}if(y)v.setAttribute(x,y);else v.removeAttribute(x,y);}};q.add('dialogadvtab',{createAdvancedTab:function(v,w){if(!w)w={id:1,dir:1,classes:1,styles:1};var x=v.lang.common,y={id:'advanced',label:x.advancedTab,title:x.advancedTab,elements:[{type:'vbox',padding:1,children:[]}]},z=[];if(w.id||w.dir){if(w.id)z.push({id:'advId',att:'id',type:'text',label:x.id,setup:t,commit:u});if(w.dir)z.push({id:'advLangDir',att:'dir',type:'select',label:x.langDir,'default':'',style:'width:100%',items:[[x.notSet,''],[x.langDirLTR,'ltr'],[x.langDirRTL,'rtl']],setup:t,commit:u});y.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(z)});}if(w.styles||w.classes){z=[];if(w.styles)z.push({id:'advStyles',att:'style',type:'text',label:x.styles,'default':'',getStyle:function(A,B){var C=this.getValue().match(new RegExp(A+'\\s*:s*([^;]*)','i'));
return C?C[1]:B;},updateStyle:function(A,B){var C=this.getValue();if(C)C=C.replace(new RegExp('\\s*'+A+'s*:[^;]*(?:$|;s*)','i'),'').replace(/^[;\s]+/,'').replace(/\s+$/,'');if(B){C&&!/;\s*$/.test(C)&&(C+='; ');C+=A+': '+B;}this.setValue(C,1);},setup:t,commit:u});if(w.classes)z.push({type:'hbox',widths:['45%','55%'],children:[{id:'advCSSClasses',att:'class',type:'text',label:x.cssClasses,'default':'',setup:t,commit:u}]});y.elements[0].children.push({type:'hbox',widths:['50%','50%'],children:[].concat(z)});}return y;}});})();(function(){q.add('div',{requires:['editingblock','domiterator','styles'],init:function(t){var u=t.lang.div;t.addCommand('creatediv',new h.dialogCommand('creatediv'));t.addCommand('editdiv',new h.dialogCommand('editdiv'));t.addCommand('removediv',{exec:function(v){var w=v.getSelection(),x=w&&w.getRanges(),y,z=w.createBookmarks(),A,B=[];function C(E){var F=new k.elementPath(E),G=F.blockLimit,H=G.is('div')&&G;if(H&&!H.data('cke-div-added')){B.push(H);H.data('cke-div-added');}};for(var D=0;D<x.length;D++){y=x[D];if(y.collapsed)C(w.getStartElement());else{A=new k.walker(y);A.evaluator=C;A.lastForward();}}for(D=0;D<B.length;D++)B[D].remove(true);w.selectBookmarks(z);}});t.ui.addButton('CreateDiv',{label:u.toolbar,command:'creatediv'});if(t.addMenuItems){t.addMenuItems({editdiv:{label:u.edit,command:'editdiv',group:'div',order:1},removediv:{label:u.remove,command:'removediv',group:'div',order:5}});if(t.contextMenu)t.contextMenu.addListener(function(v,w){if(!v||v.isReadOnly())return null;var x=new k.elementPath(v),y=x.blockLimit;if(y&&y.getAscendant('div',true))return{editdiv:2,removediv:2};return null;});}h.dialog.add('creatediv',this.path+'dialogs/div.js');h.dialog.add('editdiv',this.path+'dialogs/div.js');}});})();(function(){var t={toolbarFocus:{exec:function(v){var w=v._.elementsPath.idBase,x=h.document.getById(w+'0');x&&x.focus(j||i.air);}}},u='<span class="cke_empty">&nbsp;</span>';q.add('elementspath',{requires:['selection'],init:function(v){var w='cke_path_'+v.name,x,y=function(){if(!x)x=h.document.getById(w);return x;},z='cke_elementspath_'+l.getNextNumber()+'_';v._.elementsPath={idBase:z,filters:[]};v.on('themeSpace',function(D){if(D.data.space=='bottom')D.data.html+='<span id="'+w+'_label" class="cke_voice_label">'+v.lang.elementsPath.eleLabel+'</span>'+'<div id="'+w+'" class="cke_path" role="group" aria-labelledby="'+w+'_label">'+u+'</div>';});function A(D){v.focus();var E=v._.elementsPath.list[D];if(E.is('body')){var F=new k.range(v.document);
F.selectNodeContents(E);F.select();}else v.getSelection().selectElement(E);};var B=l.addFunction(A),C=l.addFunction(function(D,E){var F=v._.elementsPath.idBase,G;E=new k.event(E);var H=v.lang.dir=='rtl';switch(E.getKeystroke()){case H?39:37:case 9:G=h.document.getById(F+(D+1));if(!G)G=h.document.getById(F+'0');G.focus();return false;case H?37:39:case 2000+9:G=h.document.getById(F+(D-1));if(!G)G=h.document.getById(F+(v._.elementsPath.list.length-1));G.focus();return false;case 27:v.focus();return false;case 13:case 32:A(D);return false;}return true;});v.on('selectionChange',function(D){var E=i,F=D.data.selection,G=F.getStartElement(),H=[],I=D.editor,J=I._.elementsPath.list=[],K=I._.elementsPath.filters;while(G){var L=0;for(var M=0;M<K.length;M++){if(K[M](G)===false){L=1;break;}}if(!L){var N=J.push(G)-1,O;if(G.data('cke-real-element-type'))O=G.data('cke-real-element-type');else O=G.getName();var P='';if(E.opera||E.gecko&&E.mac)P+=' onkeypress="return false;"';if(E.gecko)P+=' onblur="this.style.cssText = this.style.cssText;"';var Q=I.lang.elementsPath.eleTitle.replace(/%1/,O);H.unshift('<a id="',z,N,'" href="javascript:void(\'',O,'\')" tabindex="-1" title="',Q,'"'+(i.gecko&&i.version<10900?' onfocus="event.preventBubble();"':'')+' hidefocus="true" '+' onkeydown="return CKEDITOR.tools.callFunction(',C,',',N,', event );"'+P,' onclick="CKEDITOR.tools.callFunction('+B,',',N,'); return false;"',' role="button" aria-labelledby="'+z+N+'_label">',O,'<span id="',z,N,'_label" class="cke_label">'+Q+'</span>','</a>');}if(O=='body')break;G=G.getParent();}var R=y();R.setHtml(H.join('')+u);I.fire('elementsPathUpdate',{space:R});});v.on('contentDomUnload',function(){x&&x.setHtml(u);});v.addCommand('elementsPathFocus',t.toolbarFocus);}});})();(function(){q.add('enterkey',{requires:['keystrokes','indent'],init:function(A){var B=A.specialKeys;B[13]=y;B[2000+13]=x;}});q.enterkey={enterBlock:function(A,B,C,D){C=C||z(A);if(!C)return;var E=C.document;if(C.checkStartOfBlock()&&C.checkEndOfBlock()){var F=new k.elementPath(C.startContainer),G=F.block;if(G&&(G.is('li')||G.getParent().is('li'))){A.execCommand('outdent');return;}}var H=B==3?'div':'p',I=C.splitBlock(H);if(!I)return;var J=I.previousBlock,K=I.nextBlock,L=I.wasStartOfBlock,M=I.wasEndOfBlock,N;if(K){N=K.getParent();if(N.is('li')){K.breakParent(N);K.move(K.getNext(),1);}}else if(J&&(N=J.getParent())&&N.is('li')){J.breakParent(N);C.moveToElementEditStart(J.getNext());J.move(J.getPrevious());}if(!L&&!M){if(K.is('li')&&(N=K.getFirst(k.walker.invisible(true)))&&N.is&&N.is('ul','ol'))(j?E.createText('\xa0'):E.createElement('br')).insertBefore(N);
if(K)C.moveToElementEditStart(K);}else{var O,P;if(J){if(J.is('li')||!w.test(J.getName()))O=J.clone();}else if(K)O=K.clone();if(!O){O=E.createElement(H);if(J&&(P=J.getDirection()))O.setAttribute('dir',P);}else if(D&&!O.is('li'))O.renameNode(H);var Q=I.elementPath;if(Q)for(var R=0,S=Q.elements.length;R<S;R++){var T=Q.elements[R];if(T.equals(Q.block)||T.equals(Q.blockLimit))break;if(m.$removeEmpty[T.getName()]){T=T.clone();O.moveChildren(T);O.append(T);}}if(!j)O.appendBogus();C.insertNode(O);if(j&&L&&(!M||!J.getChildCount())){C.moveToElementEditStart(M?J:O);C.select();}C.moveToElementEditStart(L&&!M?K:O);}if(!j)if(K){var U=E.createElement('span');U.setHtml('&nbsp;');C.insertNode(U);U.scrollIntoView();C.deleteContents();}else O.scrollIntoView();C.select();},enterBr:function(A,B,C,D){C=C||z(A);if(!C)return;var E=C.document,F=B==3?'div':'p',G=C.checkEndOfBlock(),H=new k.elementPath(A.getSelection().getStartElement()),I=H.block,J=I&&H.block.getName(),K=false;if(!D&&J=='li'){v(A,B,C,D);return;}if(!D&&G&&w.test(J)){var L,M;if(M=I.getDirection()){L=E.createElement('div');L.setAttribute('dir',M);L.insertAfter(I);C.setStart(L,0);}else{E.createElement('br').insertAfter(I);if(i.gecko)E.createText('').insertAfter(I);C.setStartAt(I.getNext(),j?3:1);}}else{var N;K=J=='pre';if(K&&!i.gecko)N=E.createText(j?'\r':'\n');else N=E.createElement('br');C.deleteContents();C.insertNode(N);if(!j)E.createText('\ufeff').insertAfter(N);if(G&&!j)N.getParent().appendBogus();if(!j)N.getNext().$.nodeValue='';if(j)C.setStartAt(N,4);else C.setStartAt(N.getNext(),1);if(!j){var O=null;if(!i.gecko){O=E.createElement('span');O.setHtml('&nbsp;');}else O=E.createElement('br');O.insertBefore(N.getNext());O.scrollIntoView();O.remove();}}C.collapse(true);C.select(K);}};var t=q.enterkey,u=t.enterBr,v=t.enterBlock,w=/^h[1-6]$/;function x(A){if(A.mode!='wysiwyg')return false;if(A.getSelection().getStartElement().hasAscendant('pre',true)){setTimeout(function(){v(A,A.config.enterMode,null,true);},0);return true;}else return y(A,A.config.shiftEnterMode,1);};function y(A,B,C){C=A.config.forceEnterMode||C;if(A.mode!='wysiwyg')return false;if(!B)B=A.config.enterMode;setTimeout(function(){A.fire('saveSnapshot');if(B==2||A.getSelection().getStartElement().hasAscendant('pre',1))u(A,B,null,C);else v(A,B,null,C);},0);return true;};function z(A){var B=A.getSelection().getRanges(true);for(var C=B.length-1;C>0;C--)B[C].deleteContents();return B[0];};})();(function(){var t='nbsp,gt,lt',u='quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro',v='Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml',w='Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv';
function x(y,z){var A={},B=[],C={nbsp:'\xa0',shy:'­',gt:'>',lt:'<'};y=y.replace(/\b(nbsp|shy|gt|lt|amp)(?:,|$)/g,function(H,I){var J=z?'&'+I+';':C[I],K=z?C[I]:'&'+I+';';A[J]=K;B.push(J);return '';});if(!z&&y){y=y.split(',');var D=document.createElement('div'),E;D.innerHTML='&'+y.join(';&')+';';E=D.innerHTML;D=null;for(var F=0;F<E.length;F++){var G=E.charAt(F);A[G]='&'+y[F]+';';B.push(G);}}A.regex=B.join(z?'|':'');return A;};q.add('entities',{afterInit:function(y){var z=y.config,A=y.dataProcessor,B=A&&A.htmlFilter;if(B){var C=t;if(z.entities){C+=','+u;if(z.entities_latin)C+=','+v;if(z.entities_greek)C+=','+w;if(z.entities_additional)C+=','+z.entities_additional;}var D=x(C),E='['+D.regex+']';delete D.regex;if(z.entities&&z.entities_processNumerical)E='[^ -~]|'+E;E=new RegExp(E,'g');function F(J){return z.entities_processNumerical=='force'||!D[J]?'&#'+J.charCodeAt(0)+';':D[J];};var G=x([t,'shy'].join(','),true),H=new RegExp(G.regex,'g');function I(J){return G[J];};B.addRules({text:function(J){return J.replace(H,I).replace(E,F);}});}}});})();p.entities=true;p.entities_latin=true;p.entities_greek=true;p.entities_additional='#39';(function(){function t(C,D){var E=[];if(!D)return C;else for(var F in D)E.push(F+'='+encodeURIComponent(D[F]));return C+(C.indexOf('?')!=-1?'&':'?')+E.join('&');};function u(C){C+='';var D=C.charAt(0).toUpperCase();return D+C.substr(1);};function v(C){var J=this;var D=J.getDialog(),E=D.getParentEditor();E._.filebrowserSe=J;var F=E.config['filebrowser'+u(D.getName())+'WindowWidth']||E.config.filebrowserWindowWidth||'80%',G=E.config['filebrowser'+u(D.getName())+'WindowHeight']||E.config.filebrowserWindowHeight||'70%',H=J.filebrowser.params||{};H.CKEditor=E.name;H.CKEditorFuncNum=E._.filebrowserFn;if(!H.langCode)H.langCode=E.langCode;var I=t(J.filebrowser.url,H);E.popup(I,F,G,E.config.fileBrowserWindowFeatures);};function w(C){var F=this;var D=F.getDialog(),E=D.getParentEditor();E._.filebrowserSe=F;if(!D.getContentElement(F['for'][0],F['for'][1]).getInputElement().$.value)return false;if(!D.getContentElement(F['for'][0],F['for'][1]).getAction())return false;return true;};function x(C,D,E){var F=E.params||{};F.CKEditor=C.name;F.CKEditorFuncNum=C._.filebrowserFn;if(!F.langCode)F.langCode=C.langCode;D.action=t(E.url,F);D.filebrowser=E;};function y(C,D,E,F){var G,H;for(var I in F){G=F[I];if(G.type=='hbox'||G.type=='vbox')y(C,D,E,G.children);if(!G.filebrowser)continue;if(typeof G.filebrowser=='string'){var J={action:G.type=='fileButton'?'QuickUpload':'Browse',target:G.filebrowser};
G.filebrowser=J;}if(G.filebrowser.action=='Browse'){var K=G.filebrowser.url;if(K===undefined){K=C.config['filebrowser'+u(D)+'BrowseUrl'];if(K===undefined)K=C.config.filebrowserBrowseUrl;}if(K){G.onClick=v;G.filebrowser.url=K;G.hidden=false;}}else if(G.filebrowser.action=='QuickUpload'&&G['for']){K=G.filebrowser.url;if(K===undefined){K=C.config['filebrowser'+u(D)+'UploadUrl'];if(K===undefined)K=C.config.filebrowserUploadUrl;}if(K){var L=G.onClick;G.onClick=function(M){var N=M.sender;if(L&&L.call(N,M)===false)return false;return w.call(N,M);};G.filebrowser.url=K;G.hidden=false;x(C,E.getContents(G['for'][0]).get(G['for'][1]),G.filebrowser);}}}};function z(C,D){var E=D.getDialog(),F=D.filebrowser.target||null;C=C.replace(/#/g,'%23');if(F){var G=F.split(':'),H=E.getContentElement(G[0],G[1]);if(H){H.setValue(C);E.selectPage(G[0]);}}};function A(C,D,E){if(E.indexOf(';')!==-1){var F=E.split(';');for(var G=0;G<F.length;G++){if(A(C,D,F[G]))return true;}return false;}var H=C.getContents(D).get(E).filebrowser;return H&&H.url;};function B(C,D){var H=this;var E=H._.filebrowserSe.getDialog(),F=H._.filebrowserSe['for'],G=H._.filebrowserSe.filebrowser.onSelect;if(F)E.getContentElement(F[0],F[1]).reset();if(typeof D=='function'&&D.call(H._.filebrowserSe)===false)return;if(G&&G.call(H._.filebrowserSe,C,D)===false)return;if(typeof D=='string'&&D)alert(D);if(C)z(C,H._.filebrowserSe);};q.add('filebrowser',{init:function(C,D){C._.filebrowserFn=l.addFunction(B,C);C.on('destroy',function(){l.removeFunction(this._.filebrowserFn);});}});h.on('dialogDefinition',function(C){var D=C.data.definition,E;for(var F in D.contents){if(E=D.contents[F]){y(C.editor,C.data.name,D,E.elements);if(E.hidden&&E.filebrowser)E.hidden=!A(D,E.id,E.filebrowser);}}});})();q.add('find',{init:function(t){var u=q.find;t.ui.addButton('Find',{label:t.lang.findAndReplace.find,command:'find'});var v=t.addCommand('find',new h.dialogCommand('find'));v.canUndo=false;t.ui.addButton('Replace',{label:t.lang.findAndReplace.replace,command:'replace'});var w=t.addCommand('replace',new h.dialogCommand('replace'));w.canUndo=false;h.dialog.add('find',this.path+'dialogs/find.js');h.dialog.add('replace',this.path+'dialogs/find.js');},requires:['styles']});p.find_highlight={element:'span',styles:{'background-color':'#004',color:'#fff'}};(function(){var t=/\.swf(?:$|\?)/i,u=l.cssLength;function v(x){var y=x.attributes;return y.type=='application/x-shockwave-flash'||t.test(y.src||'');};function w(x,y){var z=x.createFakeParserElement(y,'cke_flash','flash',true),A=z.attributes.style||'',B=y.attributes.width,C=y.attributes.height;
if(typeof B!='undefined')A=z.attributes.style=A+'width:'+u(B)+';';if(typeof C!='undefined')A=z.attributes.style=A+'height:'+u(C)+';';return z;};q.add('flash',{init:function(x){x.addCommand('flash',new h.dialogCommand('flash'));x.ui.addButton('Flash',{label:x.lang.common.flash,command:'flash'});h.dialog.add('flash',this.path+'dialogs/flash.js');x.addCss('img.cke_flash{background-image: url('+h.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');if(x.addMenuItems)x.addMenuItems({flash:{label:x.lang.flash.properties,command:'flash',group:'flash'}});x.on('doubleclick',function(y){var z=y.data.element;if(z.is('img')&&z.data('cke-real-element-type')=='flash')y.data.dialog='flash';});if(x.contextMenu)x.contextMenu.addListener(function(y,z){if(y&&y.is('img')&&!y.isReadOnly()&&y.data('cke-real-element-type')=='flash')return{flash:2};});},afterInit:function(x){var y=x.dataProcessor,z=y&&y.dataFilter;if(z)z.addRules({elements:{'cke:object':function(A){var B=A.attributes,C=B.classid&&String(B.classid).toLowerCase();if(!C){for(var D=0;D<A.children.length;D++){if(A.children[D].name=='cke:embed'){if(!v(A.children[D]))return null;return w(x,A);}}return null;}return w(x,A);},'cke:embed':function(A){if(!v(A))return null;return w(x,A);}}},5);},requires:['fakeobjects']});})();l.extend(p,{flashEmbedTagOnly:false,flashAddEmbedTag:true,flashConvertOnEdit:false});(function(){function t(u,v,w,x,y,z,A){var B=u.config,C=y.split(';'),D=[],E={};for(var F=0;F<C.length;F++){var G=C[F];if(G){G=G.split('/');var H={},I=C[F]=G[0];H[w]=D[F]=G[1]||I;E[I]=new h.style(A,H);E[I]._.definition.name=I;}else C.splice(F--,1);}u.ui.addRichCombo(v,{label:x.label,title:x.panelTitle,className:'cke_'+(w=='size'?'fontSize':'font'),panel:{css:u.skin.editor.css.concat(B.contentsCss),multiSelect:false,attributes:{'aria-label':x.panelTitle}},init:function(){this.startGroup(x.panelTitle);for(var J=0;J<C.length;J++){var K=C[J];this.add(K,E[K].buildPreview(),K);}},onClick:function(J){u.focus();u.fire('saveSnapshot');var K=E[J];if(this.getValue()==J)K.remove(u.document);else K.apply(u.document);u.fire('saveSnapshot');},onRender:function(){u.on('selectionChange',function(J){var K=this.getValue(),L=J.data.path,M=L.elements;for(var N=0,O;N<M.length;N++){O=M[N];for(var P in E){if(E[P].checkElementRemovable(O,true)){if(P!=K)this.setValue(P);return;}}}this.setValue('',z);},this);}});};q.add('font',{requires:['richcombo','styles'],init:function(u){var v=u.config;
t(u,'Font','family',u.lang.font,v.font_names,v.font_defaultLabel,v.font_style);t(u,'FontSize','size',u.lang.fontSize,v.fontSize_sizes,v.fontSize_defaultLabel,v.fontSize_style);}});})();p.font_names='Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif';p.font_defaultLabel='';p.font_style={element:'span',styles:{'font-family':'#(family)'},overrides:[{element:'font',attributes:{face:null}}]};p.fontSize_sizes='8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px';p.fontSize_defaultLabel='';p.fontSize_style={element:'span',styles:{'font-size':'#(size)'},overrides:[{element:'font',attributes:{size:null}}]};q.add('format',{requires:['richcombo','styles'],init:function(t){var u=t.config,v=t.lang.format,w=u.format_tags.split(';'),x={};for(var y=0;y<w.length;y++){var z=w[y];x[z]=new h.style(u['format_'+z]);x[z]._.enterMode=t.config.enterMode;}t.ui.addRichCombo('Format',{label:v.label,title:v.panelTitle,className:'cke_format',panel:{css:t.skin.editor.css.concat(u.contentsCss),multiSelect:false,attributes:{'aria-label':v.panelTitle}},init:function(){this.startGroup(v.panelTitle);for(var A in x){var B=v['tag_'+A];this.add(A,'<'+A+'>'+B+'</'+A+'>',B);}},onClick:function(A){t.focus();t.fire('saveSnapshot');var B=x[A],C=new k.elementPath(t.getSelection().getStartElement());B[B.checkActive(C)?'remove':'apply'](t.document);setTimeout(function(){t.fire('saveSnapshot');},0);},onRender:function(){t.on('selectionChange',function(A){var B=this.getValue(),C=A.data.path;for(var D in x){if(x[D].checkActive(C)){if(D!=B)this.setValue(D,t.lang.format['tag_'+D]);return;}}this.setValue('');},this);}});}});p.format_tags='p;h1;h2;h3;h4;h5;h6;pre;address;div';p.format_p={element:'p'};p.format_div={element:'div'};p.format_pre={element:'pre'};p.format_address={element:'address'};p.format_h1={element:'h1'};p.format_h2={element:'h2'};p.format_h3={element:'h3'};p.format_h4={element:'h4'};p.format_h5={element:'h5'};p.format_h6={element:'h6'};q.add('forms',{init:function(t){var u=t.lang;t.addCss('form{border: 1px dotted #FF0000;padding: 2px;}\n');t.addCss('img.cke_hidden{background-image: url('+h.getUrl(this.path+'images/hiddenfield.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 16px !important;'+'height: 16px !important;'+'}');
var v=function(x,y,z){t.addCommand(y,new h.dialogCommand(y));t.ui.addButton(x,{label:u.common[x.charAt(0).toLowerCase()+x.slice(1)],command:y});h.dialog.add(y,z);},w=this.path+'dialogs/';v('Form','form',w+'form.js');v('Checkbox','checkbox',w+'checkbox.js');v('Radio','radio',w+'radio.js');v('TextField','textfield',w+'textfield.js');v('Textarea','textarea',w+'textarea.js');v('Select','select',w+'select.js');v('Button','button',w+'button.js');v('ImageButton','imagebutton',q.getPath('image')+'dialogs/image.js');v('HiddenField','hiddenfield',w+'hiddenfield.js');if(t.addMenuItems)t.addMenuItems({form:{label:u.form.menu,command:'form',group:'form'},checkbox:{label:u.checkboxAndRadio.checkboxTitle,command:'checkbox',group:'checkbox'},radio:{label:u.checkboxAndRadio.radioTitle,command:'radio',group:'radio'},textfield:{label:u.textfield.title,command:'textfield',group:'textfield'},hiddenfield:{label:u.hidden.title,command:'hiddenfield',group:'hiddenfield'},imagebutton:{label:u.image.titleButton,command:'imagebutton',group:'imagebutton'},button:{label:u.button.title,command:'button',group:'button'},select:{label:u.select.title,command:'select',group:'select'},textarea:{label:u.textarea.title,command:'textarea',group:'textarea'}});if(t.contextMenu){t.contextMenu.addListener(function(x){if(x&&x.hasAscendant('form',true)&&!x.isReadOnly())return{form:2};});t.contextMenu.addListener(function(x){if(x&&!x.isReadOnly()){var y=x.getName();if(y=='select')return{select:2};if(y=='textarea')return{textarea:2};if(y=='input')switch(x.getAttribute('type')){case 'button':case 'submit':case 'reset':return{button:2};case 'checkbox':return{checkbox:2};case 'radio':return{radio:2};case 'image':return{imagebutton:2};default:return{textfield:2};}if(y=='img'&&x.data('cke-real-element-type')=='hiddenfield')return{hiddenfield:2};}});}t.on('doubleclick',function(x){var y=x.data.element;if(y.is('form'))x.data.dialog='form';else if(y.is('select'))x.data.dialog='select';else if(y.is('textarea'))x.data.dialog='textarea';else if(y.is('img')&&y.data('cke-real-element-type')=='hiddenfield')x.data.dialog='hiddenfield';else if(y.is('input'))switch(y.getAttribute('type')){case 'button':case 'submit':case 'reset':x.data.dialog='button';break;case 'checkbox':x.data.dialog='checkbox';break;case 'radio':x.data.dialog='radio';break;case 'image':x.data.dialog='imagebutton';break;default:x.data.dialog='textfield';break;}});},afterInit:function(t){var u=t.dataProcessor,v=u&&u.htmlFilter,w=u&&u.dataFilter;if(j)v&&v.addRules({elements:{input:function(x){var y=x.attributes,z=y.type;
if(!z)y.type='text';if(z=='checkbox'||z=='radio')y.value=='on'&&delete y.value;}}});if(w)w.addRules({elements:{input:function(x){if(x.attributes.type=='hidden')return t.createFakeParserElement(x,'cke_hidden','hiddenfield');}}});},requires:['image','fakeobjects']});if(j)o.prototype.hasAttribute=function(t){var w=this;var u=w.$.attributes.getNamedItem(t);if(w.getName()=='input')switch(t){case 'class':return w.$.className.length>0;case 'checked':return!!w.$.checked;case 'value':var v=w.getAttribute('type');return v=='checkbox'||v=='radio'?w.$.value!='on':w.$.value;}return!!(u&&u.specified);};(function(){var t={canUndo:false,exec:function(v){v.insertElement(v.document.createElement('hr'));}},u='horizontalrule';q.add(u,{init:function(v){v.addCommand(u,t);v.ui.addButton('HorizontalRule',{label:v.lang.horizontalrule,command:u});}});})();(function(){var t=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,u='{cke_protected}';function v(Y){var Z=Y.children.length,aa=Y.children[Z-1];while(aa&&aa.type==3&&!l.trim(aa.value))aa=Y.children[--Z];return aa;};function w(Y,Z){var aa=Y.children,ab=v(Y);if(ab){if((Z||!j)&&ab.type==1&&ab.name=='br')aa.pop();if(ab.type==3&&t.test(ab.value))aa.pop();}};function x(Y,Z,aa){if(!Z&&(!aa||typeof aa=='function'&&aa(Y)===false))return false;if(Z&&j&&(document.documentMode>7||Y.name in m.tr||Y.name in m.$listItem))return false;var ab=v(Y);return!ab||ab&&(ab.type==1&&ab.name=='br'||Y.name=='form'&&ab.name=='input');};function y(Y,Z){return function(aa){w(aa,!Y);if(x(aa,!Y,Z))if(Y||j)aa.add(new h.htmlParser.text('\xa0'));else aa.add(new h.htmlParser.element('br',{}));};};var z=m,A=l.extend({},z.$block,z.$listItem,z.$tableContent);for(var B in A){if(!('br' in z[B]))delete A[B];}delete A.pre;var C={elements:{a:function(Y){var Z=Y.attributes;if(Z&&Z['data-cke-saved-name'])Z['class']=(Z['class']?Z['class']+' ':'')+'cke_anchor';}},attributeNames:[[/^on/,'data-cke-pa-on']]},D={elements:{}};for(B in A)D.elements[B]=y();var E={elementNames:[[/^cke:/,''],[/^\?xml:namespace$/,'']],attributeNames:[[/^data-cke-(saved|pa)-/,''],[/^data-cke-.*/,''],['hidefocus','']],elements:{$:function(Y){var Z=Y.attributes;if(Z){if(Z['data-cke-temp'])return false;var aa=['name','href','src'],ab;for(var ac=0;ac<aa.length;ac++){ab='data-cke-saved-'+aa[ac];ab in Z&&delete Z[aa[ac]];}}return Y;},embed:function(Y){var Z=Y.parent;if(Z&&Z.name=='object'){var aa=Z.attributes.width,ab=Z.attributes.height;aa&&(Y.attributes.width=aa);ab&&(Y.attributes.height=ab);}},param:function(Y){Y.children=[];Y.isEmpty=true;
return Y;},a:function(Y){if(!(Y.children.length||Y.attributes.name||Y.attributes['data-cke-saved-name']))return false;},span:function(Y){if(Y.attributes['class']=='Apple-style-span')delete Y.name;},pre:function(Y){j&&w(Y);},html:function(Y){delete Y.attributes.contenteditable;delete Y.attributes['class'];},body:function(Y){delete Y.attributes.spellcheck;delete Y.attributes.contenteditable;},style:function(Y){var Z=Y.children[0];Z&&Z.value&&(Z.value=l.trim(Z.value));if(!Y.attributes.type)Y.attributes.type='text/css';},title:function(Y){var Z=Y.children[0];Z&&(Z.value=Y.attributes['data-cke-title']||'');}},attributes:{'class':function(Y,Z){return l.ltrim(Y.replace(/(?:^|\s+)cke_[^\s]*/g,''))||false;}},comment:function(Y){if(Y.substr(0,u.length)==u){if(Y.substr(u.length,3)=='{C}')Y=Y.substr(u.length+3);else Y=Y.substr(u.length);return new h.htmlParser.cdata(decodeURIComponent(Y));}return Y;}};if(j)E.attributes.style=function(Y,Z){return Y.replace(/(^|;)([^\:]+)/g,function(aa){return aa.toLowerCase();});};function F(Y){var Z=Y.attributes;if(Z.contenteditable!='false')Z['data-cke-editable']=Z.contenteditable?'true':1;Z.contenteditable='false';};function G(Y){var Z=Y.attributes;switch(Z['data-cke-editable']){case 'true':Z.contenteditable='true';break;case '1':delete Z.contenteditable;break;}};for(B in {input:1,textarea:1}){C.elements[B]=F;E.elements[B]=G;}var H=/<(a|area|img|input)\b([^>]*)>/gi,I=/\b(href|src|name)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,J=/(?:<style(?=[ >])[^>]*>[\s\S]*<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,K=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,L=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,M=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,N=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi;function O(Y){return Y.replace(H,function(Z,aa,ab){return '<'+aa+ab.replace(I,function(ac,ad){if(ab.indexOf('data-cke-saved-'+ad)==-1)return ' data-cke-saved-'+ac+' '+ac;return ac;})+'>';});};function P(Y){return Y.replace(J,function(Z){return '<cke:encoded>'+encodeURIComponent(Z)+'</cke:encoded>';});};function Q(Y){return Y.replace(K,function(Z,aa){return decodeURIComponent(aa);});};function R(Y){return Y.replace(L,'$1cke:$2');};function S(Y){return Y.replace(M,'$1$2');};function T(Y){return Y.replace(N,'<cke:$1$2></cke:$1>');};function U(Y){return Y.replace(/(<pre\b[^>]*>)(\r\n|\n)/g,'$1$2$2');};function V(Y){return Y.replace(/<!--(?!{cke_protected})[\s\S]+?-->/g,function(Z){return '<!--'+u+'{C}'+encodeURIComponent(Z).replace(/--/g,'%2D%2D')+'-->';
});};function W(Y){return Y.replace(/<!--\{cke_protected\}\{C\}([\s\S]+?)-->/g,function(Z,aa){return decodeURIComponent(aa);});};function X(Y,Z){var aa=[],ab=/<\!--\{cke_temp(comment)?\}(\d*?)-->/g,ac=[/<script[\s\S]*?<\/script>/gi,/<noscript[\s\S]*?<\/noscript>/gi].concat(Z);Y=Y.replace(/<!--[\s\S]*?-->/g,function(ae){return '<!--{cke_tempcomment}'+(aa.push(ae)-1)+'-->';});for(var ad=0;ad<ac.length;ad++)Y=Y.replace(ac[ad],function(ae){ae=ae.replace(ab,function(af,ag,ah){return aa[ah];});return '<!--{cke_temp}'+(aa.push(ae)-1)+'-->';});Y=Y.replace(ab,function(ae,af,ag){return '<!--'+u+(af?'{C}':'')+encodeURIComponent(aa[ag]).replace(/--/g,'%2D%2D')+'-->';});return Y;};q.add('htmldataprocessor',{requires:['htmlwriter'],init:function(Y){var Z=Y.dataProcessor=new h.htmlDataProcessor(Y);Z.writer.forceSimpleAmpersand=Y.config.forceSimpleAmpersand;Z.dataFilter.addRules(C);Z.dataFilter.addRules(D);Z.htmlFilter.addRules(E);var aa={elements:{}};for(B in A)aa.elements[B]=y(true,Y.config.fillEmptyBlocks);Z.htmlFilter.addRules(aa);},onLoad:function(){!('fillEmptyBlocks' in p)&&(p.fillEmptyBlocks=1);}});h.htmlDataProcessor=function(Y){var Z=this;Z.editor=Y;Z.writer=new h.htmlWriter();Z.dataFilter=new h.htmlParser.filter();Z.htmlFilter=new h.htmlParser.filter();};h.htmlDataProcessor.prototype={toHtml:function(Y,Z){Y=X(Y,this.editor.config.protectedSource);Y=O(Y);Y=P(Y);Y=R(Y);Y=T(Y);Y=U(Y);var aa=new o('div');aa.setHtml('a'+Y);Y=aa.getHtml().substr(1);Y=S(Y);Y=Q(Y);Y=W(Y);var ab=h.htmlParser.fragment.fromHtml(Y,Z),ac=new h.htmlParser.basicWriter();ab.writeHtml(ac,this.dataFilter);Y=ac.getHtml(true);Y=V(Y);return Y;},toDataFormat:function(Y,Z){var aa=this.writer,ab=h.htmlParser.fragment.fromHtml(Y,Z);aa.reset();ab.writeHtml(aa,this.htmlFilter);return aa.getHtml(true);}};})();(function(){function t(u,v){var w=u.createFakeParserElement(v,'cke_iframe','iframe',true),x=w.attributes.style||'',y=v.attributes.width,z=v.attributes.height;if(typeof y!='undefined')x+='width:'+l.cssLength(y)+';';if(typeof z!='undefined')x+='height:'+l.cssLength(z)+';';w.attributes.style=x;return w;};q.add('iframe',{requires:['dialog','fakeobjects'],init:function(u){var v='iframe',w=u.lang.iframe;h.dialog.add(v,this.path+'dialogs/iframe.js');u.addCommand(v,new h.dialogCommand(v));u.addCss('img.cke_iframe{background-image: url('+h.getUrl(this.path+'images/placeholder.png')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 80px;'+'height: 80px;'+'}');
u.ui.addButton('Iframe',{label:w.toolbar,command:v});u.on('doubleclick',function(x){var y=x.data.element;if(y.is('img')&&y.data('cke-real-element-type')=='iframe')x.data.dialog='iframe';});if(u.addMenuItems)u.addMenuItems({iframe:{label:w.title,command:'iframe',group:'image'}});if(u.contextMenu)u.contextMenu.addListener(function(x,y){if(x&&x.is('img')&&x.data('cke-real-element-type')=='iframe')return{iframe:2};});},afterInit:function(u){var v=u.dataProcessor,w=v&&v.dataFilter;if(w)w.addRules({elements:{iframe:function(x){return t(u,x);}}});}});})();q.add('image',{init:function(t){var u='image';h.dialog.add(u,this.path+'dialogs/image.js');t.addCommand(u,new h.dialogCommand(u));t.ui.addButton('Image',{label:t.lang.common.image,command:u});t.on('doubleclick',function(v){var w=v.data.element;if(w.is('img')&&!w.data('cke-realelement'))v.data.dialog='image';});if(t.addMenuItems)t.addMenuItems({image:{label:t.lang.image.menu,command:'image',group:'image'}});if(t.contextMenu)t.contextMenu.addListener(function(v,w){if(!v||!v.is('img')||v.data('cke-realelement')||v.isReadOnly())return null;return{image:2};});}});p.image_removeLinkByEmptyURL=true;(function(){var t={ol:1,ul:1},u=k.walker.whitespaces(true),v=k.walker.bookmark(false,true);function w(A){var J=this;var B=A.editor,C=A.data.path,D=C&&C.contains(t);if(D)return J.setState(2);if(!J.useIndentClasses&&J.name=='indent')return J.setState(2);var E=A.data.path,F=E.block||E.blockLimit;if(!F)return J.setState(0);if(J.useIndentClasses){var G=F.$.className.match(J.classNameRegex),H=0;if(G){G=G[1];H=J.indentClassMap[G];}if(J.name=='outdent'&&!H||J.name=='indent'&&H==B.config.indentClasses.length)return J.setState(0);return J.setState(2);}else{var I=parseInt(F.getStyle(y(F)),10);if(isNaN(I))I=0;if(I<=0)return J.setState(0);return J.setState(2);}};function x(A,B){var D=this;D.name=B;D.useIndentClasses=A.config.indentClasses&&A.config.indentClasses.length>0;if(D.useIndentClasses){D.classNameRegex=new RegExp('(?:^|\\s+)('+A.config.indentClasses.join('|')+')(?=$|\\s)');D.indentClassMap={};for(var C=0;C<A.config.indentClasses.length;C++)D.indentClassMap[A.config.indentClasses[C]]=C+1;}D.startDisabled=B=='outdent';};function y(A,B){return(B||A.getComputedStyle('direction'))=='ltr'?'margin-left':'margin-right';};function z(A){return A.type=1&&A.is('li');};x.prototype={exec:function(A){var B=this,C={};function D(T){var U=J.startContainer,V=J.endContainer;while(U&&!U.getParent().equals(T))U=U.getParent();while(V&&!V.getParent().equals(T))V=V.getParent();
if(!U||!V)return;var W=U,X=[],Y=false;while(!Y){if(W.equals(V))Y=true;X.push(W);W=W.getNext();}if(X.length<1)return;var Z=T.getParents(true);for(var aa=0;aa<Z.length;aa++){if(Z[aa].getName&&t[Z[aa].getName()]){T=Z[aa];break;}}var ab=B.name=='indent'?1:-1,ac=X[0],ad=X[X.length-1],ae=q.list.listToArray(T,C),af=ae[ad.getCustomData('listarray_index')].indent;for(aa=ac.getCustomData('listarray_index');aa<=ad.getCustomData('listarray_index');aa++){ae[aa].indent+=ab;var ag=ae[aa].parent;ae[aa].parent=new o(ag.getName(),ag.getDocument());}for(aa=ad.getCustomData('listarray_index')+1;aa<ae.length&&ae[aa].indent>af;aa++)ae[aa].indent+=ab;var ah=q.list.arrayToList(ae,C,null,A.config.enterMode,T.getDirection());if(B.name=='outdent'){var ai;if((ai=T.getParent())&&ai.is('li')){var aj=ah.listNode.getChildren(),ak=[],al=aj.count(),am;for(aa=al-1;aa>=0;aa--){if((am=aj.getItem(aa))&&am.is&&am.is('li'))ak.push(am);}}}if(ah)ah.listNode.replace(T);if(ak&&ak.length)for(aa=0;aa<ak.length;aa++){var an=ak[aa],ao=an;while((ao=ao.getNext())&&ao.is&&ao.getName() in t){if(j&&!an.getFirst(function(ap){return u(ap)&&v(ap);}))an.append(J.document.createText('\xa0'));an.append(ao);}an.insertAfter(ai);}};function E(){var T=J.createIterator(),U=A.config.enterMode;T.enforceRealBlocks=true;T.enlargeBr=U!=2;var V;while(V=T.getNextParagraph(U==1?'p':'div'))F(V);};function F(T,U){if(T.getCustomData('indent_processed'))return false;if(B.useIndentClasses){var V=T.$.className.match(B.classNameRegex),W=0;if(V){V=V[1];W=B.indentClassMap[V];}if(B.name=='outdent')W--;else W++;if(W<0)return false;W=Math.min(W,A.config.indentClasses.length);W=Math.max(W,0);T.$.className=l.ltrim(T.$.className.replace(B.classNameRegex,''));if(W>0)T.addClass(A.config.indentClasses[W-1]);}else{var X=y(T,U),Y=parseInt(T.getStyle(X),10);if(isNaN(Y))Y=0;var Z=A.config.indentOffset||40;Y+=(B.name=='indent'?1:-1)*Z;if(Y<0)return false;Y=Math.max(Y,0);Y=Math.ceil(Y/Z)*Z;T.setStyle(X,Y?Y+(A.config.indentUnit||'px'):'');if(T.getAttribute('style')==='')T.removeAttribute('style');}o.setMarker(C,T,'indent_processed',1);return true;};var G=A.getSelection(),H=G.createBookmarks(1),I=G&&G.getRanges(1),J,K=I.createIterator();while(J=K.getNextRange()){var L=J.getCommonAncestor(),M=L;while(M&&!(M.type==1&&t[M.getName()]))M=M.getParent();if(!M){var N=J.getEnclosedNode();if(N&&N.type==1&&N.getName() in t){J.setStartAt(N,1);J.setEndAt(N,2);M=N;}}if(M&&J.startContainer.type==1&&J.startContainer.getName() in t){var O=new k.walker(J);O.evaluator=z;J.startContainer=O.next();
}if(M&&J.endContainer.type==1&&J.endContainer.getName() in t){O=new k.walker(J);O.evaluator=z;J.endContainer=O.previous();}if(M){var P=M.getFirst(z),Q=!!P.getNext(z),R=J.startContainer,S=P.equals(R)||P.contains(R);if(!(S&&(B.name=='indent'||B.useIndentClasses||parseInt(M.getStyle(y(M)),10))&&F(M,!Q&&P.getDirection())))D(M);}else E();}o.clearAllMarkers(C);A.forceNextSelectionCheck();G.selectBookmarks(H);}};q.add('indent',{init:function(A){var B=A.addCommand('indent',new x(A,'indent')),C=A.addCommand('outdent',new x(A,'outdent'));A.ui.addButton('Indent',{label:A.lang.indent,command:'indent'});A.ui.addButton('Outdent',{label:A.lang.outdent,command:'outdent'});A.on('selectionChange',l.bind(w,B));A.on('selectionChange',l.bind(w,C));if(i.ie6Compat||i.ie7Compat)A.addCss('ul,ol{\tmargin-left: 0px;\tpadding-left: 40px;}');A.on('dirChanged',function(D){var E=new k.range(A.document);E.setStartBefore(D.data.node);E.setEndAfter(D.data.node);var F=new k.walker(E),G;while(G=F.next()){if(G.type==1){if(!G.equals(D.data.node)&&G.getDirection()){E.setStartAfter(G);F=new k.walker(E);continue;}var H=A.config.indentClasses;if(H){var I=D.data.dir=='ltr'?['_rtl','']:['','_rtl'];for(var J=0;J<H.length;J++){if(G.hasClass(H[J]+I[0])){G.removeClass(H[J]+I[0]);G.addClass(H[J]+I[1]);}}}var K=G.getStyle('margin-right'),L=G.getStyle('margin-left');K?G.setStyle('margin-left',K):G.removeStyle('margin-left');L?G.setStyle('margin-right',L):G.removeStyle('margin-right');}}});},requires:['domiterator','list']});})();(function(){function t(y,z){var A=z.block||z.blockLimit;if(!A||A.getName()=='body')return 2;return u(A,y.config.useComputedState)==this.value?1:2;};function u(y,z){z=z===undefined||z;var A;if(z)A=y.getComputedStyle('text-align');else{while(!y.hasAttribute||!(y.hasAttribute('align')||y.getStyle('text-align'))){var B=y.getParent();if(!B)break;y=B;}A=y.getStyle('text-align')||y.getAttribute('align')||'';}A&&(A=A.replace(/-moz-|-webkit-|start|auto/i,''));!A&&z&&(A=y.getComputedStyle('direction')=='rtl'?'right':'left');return A;};function v(y){var z=y.editor.getCommand(this.name);z.state=t.call(this,y.editor,y.data.path);z.fire('state');};function w(y,z,A){var C=this;C.name=z;C.value=A;var B=y.config.justifyClasses;if(B){switch(A){case 'left':C.cssClassName=B[0];break;case 'center':C.cssClassName=B[1];break;case 'right':C.cssClassName=B[2];break;case 'justify':C.cssClassName=B[3];break;}C.cssClassRegex=new RegExp('(?:^|\\s+)(?:'+B.join('|')+')(?=$|\\s)');}};function x(y){var z=y.editor,A=new k.range(z.document);
A.setStartBefore(y.data.node);A.setEndAfter(y.data.node);var B=new k.walker(A),C;while(C=B.next()){if(C.type==1){if(!C.equals(y.data.node)&&C.getDirection()){A.setStartAfter(C);B=new k.walker(A);continue;}var D=z.config.justifyClasses;if(D)if(C.hasClass(D[0])){C.removeClass(D[0]);C.addClass(D[2]);}else if(C.hasClass(D[2])){C.removeClass(D[2]);C.addClass(D[0]);}var E='text-align',F=C.getStyle(E);if(F=='left')C.setStyle(E,'right');else if(F=='right')C.setStyle(E,'left');}}};w.prototype={exec:function(y){var K=this;var z=y.getSelection(),A=y.config.enterMode;if(!z)return;var B=z.createBookmarks(),C=z.getRanges(true),D=K.cssClassName,E,F,G=y.config.useComputedState;G=G===undefined||G;for(var H=C.length-1;H>=0;H--){E=C[H].createIterator();E.enlargeBr=A!=2;while(F=E.getNextParagraph(A==1?'p':'div')){F.removeAttribute('align');F.removeStyle('text-align');var I=D&&(F.$.className=l.ltrim(F.$.className.replace(K.cssClassRegex,''))),J=K.state==2&&(!G||u(F,true)!=K.value);if(D){if(J)F.addClass(D);else if(!I)F.removeAttribute('class');}else if(J)F.setStyle('text-align',K.value);}}y.focus();y.forceNextSelectionCheck();z.selectBookmarks(B);}};q.add('justify',{init:function(y){var z=new w(y,'justifyleft','left'),A=new w(y,'justifycenter','center'),B=new w(y,'justifyright','right'),C=new w(y,'justifyblock','justify');y.addCommand('justifyleft',z);y.addCommand('justifycenter',A);y.addCommand('justifyright',B);y.addCommand('justifyblock',C);y.ui.addButton('JustifyLeft',{label:y.lang.justify.left,command:'justifyleft'});y.ui.addButton('JustifyCenter',{label:y.lang.justify.center,command:'justifycenter'});y.ui.addButton('JustifyRight',{label:y.lang.justify.right,command:'justifyright'});y.ui.addButton('JustifyBlock',{label:y.lang.justify.block,command:'justifyblock'});y.on('selectionChange',l.bind(v,z));y.on('selectionChange',l.bind(v,B));y.on('selectionChange',l.bind(v,A));y.on('selectionChange',l.bind(v,C));y.on('dirChanged',x);},requires:['domiterator']});})();q.add('keystrokes',{beforeInit:function(t){t.keystrokeHandler=new h.keystrokeHandler(t);t.specialKeys={};},init:function(t){var u=t.config.keystrokes,v=t.config.blockedKeystrokes,w=t.keystrokeHandler.keystrokes,x=t.keystrokeHandler.blockedKeystrokes;for(var y=0;y<u.length;y++)w[u[y][0]]=u[y][1];for(y=0;y<v.length;y++)x[v[y]]=1;}});h.keystrokeHandler=function(t){var u=this;if(t.keystrokeHandler)return t.keystrokeHandler;u.keystrokes={};u.blockedKeystrokes={};u._={editor:t};return u;};(function(){var t,u=function(w){w=w.data;
var x=w.getKeystroke(),y=this.keystrokes[x],z=this._.editor;t=z.fire('key',{keyCode:x})===true;if(!t){if(y){var A={from:'keystrokeHandler'};t=z.execCommand(y,A)!==false;}if(!t){var B=z.specialKeys[x];t=B&&B(z)===true;if(!t)t=!!this.blockedKeystrokes[x];}}if(t)w.preventDefault(true);return!t;},v=function(w){if(t){t=false;w.data.preventDefault(true);}};h.keystrokeHandler.prototype={attach:function(w){w.on('keydown',u,this);if(i.opera||i.gecko&&i.mac)w.on('keypress',v,this);}};})();p.blockedKeystrokes=[1000+66,1000+73,1000+85];p.keystrokes=[[4000+121,'toolbarFocus'],[4000+122,'elementsPathFocus'],[2000+121,'contextMenu'],[1000+2000+121,'contextMenu'],[1000+90,'undo'],[1000+89,'redo'],[1000+2000+90,'redo'],[1000+76,'link'],[1000+66,'bold'],[1000+73,'italic'],[1000+85,'underline'],[4000+109,'toolbarCollapse'],[4000+48,'a11yHelp']];q.add('link',{init:function(t){t.addCommand('link',new h.dialogCommand('link'));t.addCommand('anchor',new h.dialogCommand('anchor'));t.addCommand('unlink',new h.unlinkCommand());t.ui.addButton('Link',{label:t.lang.link.toolbar,command:'link'});t.ui.addButton('Unlink',{label:t.lang.unlink,command:'unlink'});t.ui.addButton('Anchor',{label:t.lang.anchor.toolbar,command:'anchor'});h.dialog.add('link',this.path+'dialogs/link.js');h.dialog.add('anchor',this.path+'dialogs/anchor.js');var u=t.lang.dir=='rtl'?'right':'left';t.addCss('img.cke_anchor{background-image: url('+h.getUrl(this.path+'images/anchor.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'width: 18px !important;'+'height: 18px !important;'+'}\n'+'a.cke_anchor'+'{'+'background-image: url('+h.getUrl(this.path+'images/anchor.gif')+');'+'background-position: '+u+' center;'+'background-repeat: no-repeat;'+'border: 1px solid #a9a9a9;'+'padding-'+u+': 18px;'+'}');t.on('selectionChange',function(v){var w=t.getCommand('unlink'),x=v.data.path.lastElement&&v.data.path.lastElement.getAscendant('a',true);if(x&&x.getName()=='a'&&x.getAttribute('href'))w.setState(2);else w.setState(0);});t.on('doubleclick',function(v){var w=q.link.getSelectedLink(t)||v.data.element;if(!w.isReadOnly())if(w.is('a'))v.data.dialog=w.getAttribute('name')&&!w.getAttribute('href')?'anchor':'link';else if(w.is('img')&&w.data('cke-real-element-type')=='anchor')v.data.dialog='anchor';});if(t.addMenuItems)t.addMenuItems({anchor:{label:t.lang.anchor.menu,command:'anchor',group:'anchor'},link:{label:t.lang.link.menu,command:'link',group:'link',order:1},unlink:{label:t.lang.unlink,command:'unlink',group:'link',order:5}});
if(t.contextMenu)t.contextMenu.addListener(function(v,w){if(!v||v.isReadOnly())return null;var x=v.is('img')&&v.data('cke-real-element-type')=='anchor';if(!x){if(!(v=q.link.getSelectedLink(t)))return null;x=v.getAttribute('name')&&!v.getAttribute('href');}return x?{anchor:2}:{link:2,unlink:2};});},afterInit:function(t){var u=t.dataProcessor,v=u&&u.dataFilter;if(v)v.addRules({elements:{a:function(w){var x=w.attributes;if(x.name&&!x.href)return t.createFakeParserElement(w,'cke_anchor','anchor');}}});},requires:['fakeobjects']});q.link={getSelectedLink:function(t){try{var u=t.getSelection();if(u.getType()==3){var v=u.getSelectedElement();if(v.is('a'))return v;}var w=u.getRanges(true)[0];w.shrink(2);var x=w.getCommonAncestor();return x.getAscendant('a',true);}catch(y){return null;}}};h.unlinkCommand=function(){};h.unlinkCommand.prototype={exec:function(t){var u=t.getSelection(),v=u.createBookmarks(),w=u.getRanges(),x,y;for(var z=0;z<w.length;z++){x=w[z].getCommonAncestor(true);y=x.getAscendant('a',true);if(!y)continue;w[z].selectNodeContents(y);}u.selectRanges(w);t.document.$.execCommand('unlink',false,null);u.selectBookmarks(v);},startDisabled:true};l.extend(p,{linkShowAdvancedTab:true,linkShowTargetTab:true});(function(){var t={ol:1,ul:1},u=/^[\n\r\t ]*$/,v=k.walker.whitespaces(),w=k.walker.bookmark(),x=function(L){return!(v(L)||w(L));};q.list={listToArray:function(L,M,N,O,P){if(!t[L.getName()])return[];if(!O)O=0;if(!N)N=[];for(var Q=0,R=L.getChildCount();Q<R;Q++){var S=L.getChild(Q);if(S.$.nodeName.toLowerCase()!='li')continue;var T={parent:L,indent:O,element:S,contents:[]};if(!P){T.grandparent=L.getParent();if(T.grandparent&&T.grandparent.$.nodeName.toLowerCase()=='li')T.grandparent=T.grandparent.getParent();}else T.grandparent=P;if(M)o.setMarker(M,S,'listarray_index',N.length);N.push(T);for(var U=0,V=S.getChildCount(),W;U<V;U++){W=S.getChild(U);if(W.type==1&&t[W.getName()])q.list.listToArray(W,M,N,O+1,T.grandparent);else T.contents.push(W);}}return N;},arrayToList:function(L,M,N,O,P){if(!N)N=0;if(!L||L.length<N+1)return null;var Q=L[N].parent.getDocument(),R=new k.documentFragment(Q),S=null,T=N,U=Math.max(L[N].indent,0),V=null,W=O==1?'p':'div';while(1){var X=L[T];if(X.indent==U){if(!S||L[T].parent.getName()!=S.getName()){S=L[T].parent.clone(false,1);P&&S.setAttribute('dir',P);R.append(S);}V=S.append(X.element.clone(0,1));for(var Y=0;Y<X.contents.length;Y++)V.append(X.contents[Y].clone(1,1));T++;}else if(X.indent==Math.max(U,0)+1){var Z=q.list.arrayToList(L,null,T,O);
if(!V.getChildCount()&&j&&!(Q.$.documentMode>7))V.append(Q.createText('\xa0'));V.append(Z.listNode);T=Z.nextIndex;}else if(X.indent==-1&&!N&&X.grandparent){V;if(t[X.grandparent.getName()])V=X.element.clone(false,true);else if(P||X.element.hasAttributes()||O!=2){V=Q.createElement(W);X.element.copyAttributes(V,{type:1,value:1});var aa=X.element.getDirection()||P;aa&&V.setAttribute('dir',aa);if(!P&&O==2&&!V.hasAttributes())V=new k.documentFragment(Q);}else V=new k.documentFragment(Q);for(Y=0;Y<X.contents.length;Y++)V.append(X.contents[Y].clone(1,1));if(V.type==11&&T!=L.length-1){var ab=V.getLast();if(ab&&ab.type==1&&ab.getAttribute('type')=='_moz')ab.remove();if(!(ab=V.getLast(x)&&ab.type==1&&ab.getName() in m.$block))V.append(Q.createElement('br'));}if(V.type==1&&V.getName()==W&&V.$.firstChild){V.trim();var ac=V.getFirst();if(ac.type==1&&ac.isBlockBoundary()){var ad=new k.documentFragment(Q);V.moveChildren(ad);V=ad;}}var ae=V.$.nodeName.toLowerCase();if(!j&&(ae=='div'||ae=='p'))V.appendBogus();R.append(V);S=null;T++;}else return null;if(L.length<=T||Math.max(L[T].indent,0)<U)break;}if(M){var af=R.getFirst();while(af){if(af.type==1)o.clearMarkers(M,af);af=af.getNextSourceNode();}}return{listNode:R,nextIndex:T};}};function y(L){var M=L.data.path,N=M.blockLimit,O=M.elements,P,Q;for(Q=0;Q<O.length&&(P=O[Q])&&!P.equals(N);Q++){if(t[O[Q].getName()])return this.setState(this.type==O[Q].getName()?1:2);}return this.setState(2);};function z(L,M,N,O){var P=q.list.listToArray(M.root,N),Q=[];for(var R=0;R<M.contents.length;R++){var S=M.contents[R];S=S.getAscendant('li',true);if(!S||S.getCustomData('list_item_processed'))continue;Q.push(S);o.setMarker(N,S,'list_item_processed',true);}var T=M.root,U=T.getDocument().createElement(this.type);T.copyAttributes(U,{start:1,type:1});U.removeStyle('list-style-type');for(R=0;R<Q.length;R++){var V=Q[R].getCustomData('listarray_index');P[V].parent=U;}var W=q.list.arrayToList(P,N,null,L.config.enterMode),X,Y=W.listNode.getChildCount();for(R=0;R<Y&&(X=W.listNode.getChild(R));R++){if(X.getName()==this.type)O.push(X);}W.listNode.replace(M.root);};var A=/^h[1-6]$/;function B(L,M,N){var O=M.contents,P=M.root.getDocument(),Q=[];if(O.length==1&&O[0].equals(M.root)){var R=P.createElement('div');O[0].moveChildren&&O[0].moveChildren(R);O[0].append(R);O[0]=R;}var S=M.contents[0].getParent();for(var T=0;T<O.length;T++)S=S.getCommonAncestor(O[T].getParent());var U=L.config.useComputedState,V,W;U=U===undefined||U;for(T=0;T<O.length;T++){var X=O[T],Y;
while(Y=X.getParent()){if(Y.equals(S)){Q.push(X);if(!W&&X.getDirection())W=1;var Z=X.getDirection(U);if(V!==null)if(V&&V!=Z)V=null;else V=Z;break;}X=Y;}}if(Q.length<1)return;var aa=Q[Q.length-1].getNext(),ab=P.createElement(this.type);N.push(ab);var ac,ad;while(Q.length){ac=Q.shift();ad=P.createElement('li');if(ac.is('pre')||A.test(ac.getName()))ac.appendTo(ad);else{if(V&&ac.getDirection()){ac.removeStyle('direction');ac.removeAttribute('dir');}ac.copyAttributes(ad);ac.moveChildren(ad);ac.remove();}ad.appendTo(ab);}if(V&&W)ab.setAttribute('dir',V);if(aa)ab.insertBefore(aa);else ab.appendTo(S);};function C(L,M,N){var O=q.list.listToArray(M.root,N),P=[];for(var Q=0;Q<M.contents.length;Q++){var R=M.contents[Q];R=R.getAscendant('li',true);if(!R||R.getCustomData('list_item_processed'))continue;P.push(R);o.setMarker(N,R,'list_item_processed',true);}var S=null;for(Q=0;Q<P.length;Q++){var T=P[Q].getCustomData('listarray_index');O[T].indent=-1;S=T;}for(Q=S+1;Q<O.length;Q++){if(O[Q].indent>O[Q-1].indent+1){var U=O[Q-1].indent+1-O[Q].indent,V=O[Q].indent;while(O[Q]&&O[Q].indent>=V){O[Q].indent+=U;Q++;}Q--;}}var W=q.list.arrayToList(O,N,null,L.config.enterMode,M.root.getAttribute('dir')),X=W.listNode,Y,Z;function aa(ab){if((Y=X[ab?'getFirst':'getLast']())&&!(Y.is&&Y.isBlockBoundary())&&(Z=M.root[ab?'getPrevious':'getNext'](k.walker.whitespaces(true)))&&!(Z.is&&Z.isBlockBoundary({br:1})))L.document.createElement('br')[ab?'insertBefore':'insertAfter'](Y);};aa(true);aa();X.replace(M.root);};function D(L,M){this.name=L;this.type=M;};D.prototype={exec:function(L){L.focus();var M=L.document,N=L.getSelection(),O=N&&N.getRanges(true);if(!O||O.length<1)return;if(this.state==2){var P=M.getBody();P.trim();if(!P.getFirst()){var Q=M.createElement(L.config.enterMode==1?'p':L.config.enterMode==3?'div':'br');Q.appendTo(P);O=new k.rangeList([new k.range(M)]);if(Q.is('br')){O[0].setStartBefore(Q);O[0].setEndAfter(Q);}else O[0].selectNodeContents(Q);N.selectRanges(O);}else{var R=O.length==1&&O[0],S=R&&R.getEnclosedNode();if(S&&S.is&&this.type==S.getName())this.setState(1);}}var T=N.createBookmarks(true),U=[],V={},W=O.createIterator(),X=0;while((R=W.getNextRange())&&++X){var Y=R.getBoundaryNodes(),Z=Y.startNode,aa=Y.endNode;if(Z.type==1&&Z.getName()=='td')R.setStartAt(Y.startNode,1);if(aa.type==1&&aa.getName()=='td')R.setEndAt(Y.endNode,2);var ab=R.createIterator(),ac;ab.forceBrBreak=this.state==2;while(ac=ab.getNextParagraph()){if(ac.getCustomData('list_block'))continue;else o.setMarker(V,ac,'list_block',1);
var ad=new k.elementPath(ac),ae=ad.elements,af=ae.length,ag=null,ah=0,ai=ad.blockLimit,aj;for(var ak=af-1;ak>=0&&(aj=ae[ak]);ak--){if(t[aj.getName()]&&ai.contains(aj)){ai.removeCustomData('list_group_object_'+X);var al=aj.getCustomData('list_group_object');if(al)al.contents.push(ac);else{al={root:aj,contents:[ac]};U.push(al);o.setMarker(V,aj,'list_group_object',al);}ah=1;break;}}if(ah)continue;var am=ai;if(am.getCustomData('list_group_object_'+X))am.getCustomData('list_group_object_'+X).contents.push(ac);else{al={root:am,contents:[ac]};o.setMarker(V,am,'list_group_object_'+X,al);U.push(al);}}}var an=[];while(U.length>0){al=U.shift();if(this.state==2){if(t[al.root.getName()])z.call(this,L,al,V,an);else B.call(this,L,al,an);}else if(this.state==1&&t[al.root.getName()])C.call(this,L,al,V);}for(ak=0;ak<an.length;ak++){ag=an[ak];var ao,ap=this;(ao=function(aq){var ar=ag[aq?'getPrevious':'getNext'](k.walker.whitespaces(true));if(ar&&ar.getName&&ar.getName()==ap.type){ar.remove();ar.moveChildren(ag,aq);}})();ao(1);}o.clearAllMarkers(V);N.selectBookmarks(T);L.focus();}};var E=m,F=/[\t\r\n ]*(?:&nbsp;|\xa0)$/;function G(L,M){var N,O=L.children,P=O.length;for(var Q=0;Q<P;Q++){N=O[Q];if(N.name&&N.name in M)return Q;}return P;};function H(L){return function(M){var N=M.children,O=G(M,E.$list),P=N[O],Q=P&&P.previous,R;if(Q&&(Q.name&&Q.name=='br'||Q.value&&(R=Q.value.match(F)))){var S=Q;if(!(R&&R.index)&&S==N[0])N[0]=L||j?new h.htmlParser.text('\xa0'):new h.htmlParser.element('br',{});else if(S.name=='br')N.splice(O-1,1);else S.value=S.value.replace(F,'');}};};var I={elements:{}};for(var J in E.$listItem)I.elements[J]=H();var K={elements:{}};for(J in E.$listItem)K.elements[J]=H(true);q.add('list',{init:function(L){var M=L.addCommand('numberedlist',new D('numberedlist','ol')),N=L.addCommand('bulletedlist',new D('bulletedlist','ul'));L.ui.addButton('NumberedList',{label:L.lang.numberedlist,command:'numberedlist'});L.ui.addButton('BulletedList',{label:L.lang.bulletedlist,command:'bulletedlist'});L.on('selectionChange',l.bind(y,M));L.on('selectionChange',l.bind(y,N));},afterInit:function(L){var M=L.dataProcessor;if(M){M.dataFilter.addRules(I);M.htmlFilter.addRules(K);}},requires:['domiterator']});})();(function(){q.liststyle={requires:['dialog'],init:function(t){t.addCommand('numberedListStyle',new h.dialogCommand('numberedListStyle'));h.dialog.add('numberedListStyle',this.path+'dialogs/liststyle.js');t.addCommand('bulletedListStyle',new h.dialogCommand('bulletedListStyle'));
h.dialog.add('bulletedListStyle',this.path+'dialogs/liststyle.js');if(t.addMenuItems){t.addMenuGroup('list',108);t.addMenuItems({numberedlist:{label:t.lang.list.numberedTitle,group:'list',command:'numberedListStyle'},bulletedlist:{label:t.lang.list.bulletedTitle,group:'list',command:'bulletedListStyle'}});}if(t.contextMenu)t.contextMenu.addListener(function(u,v){if(!u||u.isReadOnly())return null;while(u){var w=u.getName();if(w=='ol')return{numberedlist:2};else if(w=='ul')return{bulletedlist:2};u=u.getParent();}return null;});}};q.add('liststyle',q.liststyle);})();(function(){function t(z){if(!z||z.type!=1||z.getName()!='form')return[];var A=[],B=['style','className'];for(var C=0;C<B.length;C++){var D=B[C],E=z.$.elements.namedItem(D);if(E){var F=new o(E);A.push([F,F.nextSibling]);F.remove();}}return A;};function u(z,A){if(!z||z.type!=1||z.getName()!='form')return;if(A.length>0)for(var B=A.length-1;B>=0;B--){var C=A[B][0],D=A[B][1];if(D)C.insertBefore(D);else C.appendTo(z);}};function v(z,A){var B=t(z),C={},D=z.$;if(!A){C['class']=D.className||'';D.className='';}C.inline=D.style.cssText||'';if(!A)D.style.cssText='position: static; overflow: visible';u(B);return C;};function w(z,A){var B=t(z),C=z.$;if('class' in A)C.className=A['class'];if('inline' in A)C.style.cssText=A.inline;u(B);};function x(z){var A=h.instances;for(var B in A){var C=A[B];if(C.mode=='wysiwyg'){var D=C.document.getBody();D.setAttribute('contentEditable',false);D.setAttribute('contentEditable',true);}}if(z.focusManager.hasFocus){z.toolbox.focus();z.focus();}};function y(z){if(!j||i.version>6)return null;var A=o.createFromHtml('<iframe frameborder="0" tabindex="-1" src="javascript:void((function(){document.open();'+(i.isCustomDomain()?"document.domain='"+this.getDocument().$.domain+"';":'')+'document.close();'+'})())"'+' style="display:block;position:absolute;z-index:-1;'+'progid:DXImageTransform.Microsoft.Alpha(opacity=0);'+'"></iframe>');return z.append(A,true);};q.add('maximize',{init:function(z){var A=z.lang,B=h.document,C=B.getWindow(),D,E,F,G;function H(){var J=C.getViewPaneSize();G&&G.setStyles({width:J.width+'px',height:J.height+'px'});z.resize(J.width,J.height,null,true);};var I=2;z.addCommand('maximize',{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(){var J=z.container.getChild(1),K=z.getThemeSpace('contents');if(z.mode=='wysiwyg'){var L=z.getSelection();D=L&&L.getRanges();E=C.getScrollPosition();}else{var M=z.textarea.$;D=!j&&[M.selectionStart,M.selectionEnd];E=[M.scrollLeft,M.scrollTop];
}if(this.state==2){C.on('resize',H);F=C.getScrollPosition();var N=z.container;while(N=N.getParent()){N.setCustomData('maximize_saved_styles',v(N));N.setStyle('z-index',z.config.baseFloatZIndex-1);}K.setCustomData('maximize_saved_styles',v(K,true));J.setCustomData('maximize_saved_styles',v(J,true));var O={overflow:i.webkit?'':'hidden',width:0,height:0};B.getDocumentElement().setStyles(O);!i.gecko&&B.getDocumentElement().setStyle('position','fixed');B.getBody().setStyles(O);j?setTimeout(function(){C.$.scrollTo(0,0);},0):C.$.scrollTo(0,0);J.setStyle('position','absolute');J.$.offsetLeft;J.setStyles({'z-index':z.config.baseFloatZIndex-1,left:'0px',top:'0px'});G=y(J);J.addClass('cke_maximized');H();var P=J.getDocumentPosition();J.setStyles({left:-1*P.x+'px',top:-1*P.y+'px'});i.gecko&&x(z);}else if(this.state==1){C.removeListener('resize',H);var Q=[K,J];for(var R=0;R<Q.length;R++){w(Q[R],Q[R].getCustomData('maximize_saved_styles'));Q[R].removeCustomData('maximize_saved_styles');}N=z.container;while(N=N.getParent()){w(N,N.getCustomData('maximize_saved_styles'));N.removeCustomData('maximize_saved_styles');}j?setTimeout(function(){C.$.scrollTo(F.x,F.y);},0):C.$.scrollTo(F.x,F.y);J.removeClass('cke_maximized');if(i.webkit){J.setStyle('display','inline');setTimeout(function(){J.setStyle('display','block');},0);}if(G){G.remove();G=null;}z.fire('resize');}this.toggleState();var S=this.uiItems[0];if(S){var T=this.state==2?A.maximize:A.minimize,U=z.element.getDocument().getById(S._.id);U.getChild(1).setHtml(T);U.setAttribute('title',T);U.setAttribute('href','javascript:void("'+T+'");');}if(z.mode=='wysiwyg'){if(D){i.gecko&&x(z);z.getSelection().selectRanges(D);var V=z.getSelection().getStartElement();V&&V.scrollIntoView(true);}else C.$.scrollTo(E.x,E.y);}else{if(D){M.selectionStart=D[0];M.selectionEnd=D[1];}M.scrollLeft=E[0];M.scrollTop=E[1];}D=E=null;I=this.state;},canUndo:false});z.ui.addButton('Maximize',{label:A.maximize,command:'maximize'});z.on('mode',function(){var J=z.getCommand('maximize');J.setState(J.state==0?0:I);},null,null,100);}});})();var a={url:'',poster:'',width:507,height:322,autoplay:'false',contentType:'',streamType:''},b={url:'',poster:'',width:507,height:322,autoplay:'false',contentType:'',streamType:''},c='';(function(){q.add('mediaembed',{requires:['iframedialog'],init:function(t){var u=t.lang.mediaembed,v=this;h.dialog.add('MediaEmbedDialog',function(w){return{title:'Embed Media Dialog',minWidth:550,minHeight:200,contents:[{id:'iframe',label:'Embed Media',expand:true,elements:[{type:'html',id:'pageMediaEmbed',label:'Embed Media',style:'width : 100%',html:'<iframe src="'+v.path.toLowerCase()+'dialogs/mediaembed_'+w.config.language+'.html" frameborder="0" name="iframeMediaEmbed" id="iframeMediaEmbed" allowtransparency="1" style="width:100%;height:250px;margin:0;padding:0;"></iframe>'}]}],onShow:function(){e('iframe#iframeMediaEmbed',true);
},onOk:function(){d(this.getParentEditor(),'iframe#iframeMediaEmbed',true);}};});h.dialog.add('MediaEmbedDialogMod',function(w){return{title:'Embed Media Dialog',minWidth:550,minHeight:200,contents:[{id:'iframe',label:'Embed Media',expand:true,elements:[{type:'html',id:'pageMediaEmbedMod',label:'Embed Media',style:'width : 100%',html:'<iframe src="'+v.path.toLowerCase()+'dialogs/mediaembed_'+w.config.language+'.html" frameborder="0" name="iframeMediaEmbed" id="iframeMediaEmbedMod" allowtransparency="1" style="width:100%;height:250px;margin:0;padding:0;"></iframe>'}]}],onShow:function(){e('iframe#iframeMediaEmbedMod',false);},onOk:function(){d(this.getParentEditor(),'iframe#iframeMediaEmbedMod',false);}};});t.addCommand('mediaembed',new h.dialogCommand('MediaEmbedDialog'));t.addCommand('mediaembedmod',new h.dialogCommand('MediaEmbedDialogMod'));t.addCommand('MediaEmbedRemove',{exec:function(w){var x=w.getSelection(),y=x.createBookmarks(),z=x.getStartElement();z.remove(false);x.selectBookmarks(y);}});t.ui.addButton('MediaEmbed',{label:'Embed Media',command:'mediaembed',icon:this.path.toLowerCase()+'images/icon.png'});t.on('doubleclick',function(w){var x=w.data,y=x.element,z=y.getHtml();if(z.indexOf('include:media-player')==-1)return null;g(z,y);x.dialog='MediaEmbedDialogMod';});if(t.addMenuItems){t.addMenuGroup('mediaembed');t.addMenuItems({MediaEmbedDialogMod:{label:u.edit,command:'mediaembedmod',group:'mediaembed',icon:this.path.toLowerCase()+'images/icon.png',order:1},RemoveMedia:{label:u.remove,command:'MediaEmbedRemove',group:'mediaembed',icon:this.path.toLowerCase()+'images/iconremove.png',order:5}});}if(t.contextMenu)t.contextMenu.addListener(function(w,x){var y=w.getHtml();if(y.indexOf('include:media-player')==-1)return null;g(y,w);return{MediaEmbedDialogMod:2,RemoveMedia:2};});}});})();function d(t,u,v){var w=$(u),x=w.contents(),y=x.find('#txtUrl').val();if(y!=''&&y.indexOf('.')!=-1){var z='${include:media-player url=['+encodeURI(y)+']',A=x.find('#txtPosterUrl').val();if(A.length>0)z=z+' poster=['+encodeURI(A)+']';var B=x.find('#txtContentType').val();if(B.length>0)z=z+' content-type=['+B+']';var C=x.find('#txtWidth').val();if(C.length>0&&C!=a.width)z=z+' width=['+C+']';var D=x.find('#txtHeight').val();if(D.length>0&&D!=a.height)z=z+' height=['+D+']';var E=x.find('#chkAutoplay');if(E.attr('checked')==true)z+=' autoplay=[true]';var F=x.find('#chkLiveStream');if(F.attr('checked')==true)z+=' stream-type=[live]';var G=x.find('#txtAlign').val();if(z.length>0)z+='}';
var H='';if(B.length>0&&B=='audio/mp3')H='vrtx-media-player-audio';else if(f(y)=='mp3')H='vrtx-media-player-audio';else H='vrtx-media-player';var I=t.getSelection().getStartElement();if(I.is('p'))I.renameNode('div');if(v){var J=H;if(G!='')J=J+' '+G;I.appendHtml('<div class="'+J+'">'+z+'</div>');}else{I.removeAttribute('class');if(G!=''&&H!=''){I.addClass(H);I.addClass(G);}else I.addClass(H);I.setText(z);}}else{alert('Du må spesifisere en URL');return false;}};function e(t,u){var v=setInterval(function(){var w=$(t);if(w){var x=w.contents();if(x.find('#chkAutoplay').length){x.find('#txtUrl').val(u?a.url:b.url);x.find('#txtPosterUrl').val(u?a.poster:b.poster);x.find('#txtWidth').val(u?a.width:b.width);x.find('#txtHeight').val(u?a.height:b.height);x.find('#txtContentType').val(u?a.contentType:b.contentType);var y=u?a.autoplay:b.autoplay;if(y=='true')x.find('#chkAutoplay').attr('checked',true);else x.find('#chkAutoplay').attr('checked',false);var z=u?a.streamType:b.streamType;if(z=='live')x.find('#chkLiveStream').attr('checked',true);else x.find('#chkLiveStream').attr('checked',false);if(c!=''&&c!=' '&&!u)x.find('#txtAlign').val(c);else x.find('#txtAlign').val('');if(!u){b.url=a.url;b.poster=a.poster;b.width=a.width;b.height=a.height;b.autoplay=a.autoplay;b.streamType=a.streamType;b.contentType=a.contentType;c='';}clearInterval(v);}}},50);};function f(t){var u=t.match(/\.(avi|asf|fla|flv|mov|mp3|mp4|m4v|mpg|mpeg|mpv|qt|swf|wma|wmv)$/i);if(u!=null&&u.length&&u.length>0)u=u[1];else u='';return u;};function g(t,u){var v=[],w=t,x=u.$.className;c=$.trim(x.replace(/vrtx-media-player[\w-]*/g,''));for(var y in b){if(y=='contentType')v=new RegExp('(?:content\\-type[\\s]*?=[\\s]*?\\[[\\s]*?)(.*?)(?=[\\s]*?\\])');else if(y=='streamType')v=new RegExp('(?:stream\\-type[\\s]*?=[\\s]*?\\[[\\s]*?)(.*?)(?=[\\s]*?\\])');else v=new RegExp('(?:'+y+'[\\s]*?=[\\s]*?\\[[\\s]*?)(.*?)(?=[\\s]*?\\])');var z=v.exec(t);if(z!=null)if(z.length=2)if(y=='url'||y=='poster')b[y]=decodeURI($.trim(z[1]));else b[y]=$.trim(z[1]);t=w;}};q.add('newpage',{init:function(t){t.addCommand('newpage',{modes:{wysiwyg:1,source:1},exec:function(u){var v=this;u.setData(u.config.newpage_html||'',function(){setTimeout(function(){u.fire('afterCommandExec',{name:v.name,command:v});},200);});u.focus();},async:true});t.ui.addButton('NewPage',{label:t.lang.newPage,command:'newpage'});}});q.add('pagebreak',{init:function(t){t.addCommand('pagebreak',q.pagebreakCmd);t.ui.addButton('PageBreak',{label:t.lang.pagebreak,command:'pagebreak'});
t.addCss('img.cke_pagebreak{background-image: url('+h.getUrl(this.path+'images/pagebreak.gif')+');'+'background-position: center center;'+'background-repeat: no-repeat;'+'clear: both;'+'display: block;'+'float: none;'+'width:100% !important; _width:99.9% !important;'+'border-top: #999999 1px dotted;'+'border-bottom: #999999 1px dotted;'+'height: 5px !important;'+'page-break-after: always;'+'}');},afterInit:function(t){var u=t.dataProcessor,v=u&&u.dataFilter;if(v)v.addRules({elements:{div:function(w){var x=w.attributes,y=x&&x.style,z=y&&w.children.length==1&&w.children[0],A=z&&z.name=='span'&&z.attributes.style;if(A&&/page-break-after\s*:\s*always/i.test(y)&&/display\s*:\s*none/i.test(A)){var B=t.createFakeParserElement(w,'cke_pagebreak','div'),C=t.lang.pagebreakAlt;B.attributes.alt=C;B.attributes['aria-label']=C;return B;}}}});},requires:['fakeobjects']});q.pagebreakCmd={exec:function(t){var u=t.lang.pagebreakAlt,v=o.createFromHtml('<div style="page-break-after: always;"><span style="display: none;">&nbsp;</span></div>');v=t.createFakeElement(v,'cke_pagebreak','div');v.setAttributes({alt:u,'aria-label':u,title:u});var w=t.getSelection().getRanges(true);t.fire('saveSnapshot');for(var x,y=w.length-1;y>=0;y--){x=w[y];if(y<w.length-1)v=v.clone(true);x.splitBlock('p');x.insertNode(v);if(y==w.length-1){x.moveToPosition(v,4);x.select();}var z=v.getPrevious();if(z&&m[z.getName()].div)v.move(z);}t.fire('saveSnapshot');}};(function(){q.add('pastefromword',{init:function(t){var u=0,v=function(){setTimeout(function(){u=0;},0);};t.addCommand('pastefromword',{canUndo:false,exec:function(){u=1;if(t.execCommand('paste')===false)t.on('dialogHide',function(w){w.removeListener();v();});else v();}});t.ui.addButton('PasteFromWord',{label:t.lang.pastefromword.toolbar,command:'pastefromword'});t.on('pasteState',function(w){t.getCommand('pastefromword').setState(w.data);});t.on('paste',function(w){var x=w.data,y;if((y=x.html)&&(u||/(class=\"?Mso|style=\"[^\"]*\bmso\-|w:WordDocument)/.test(y))){var z=this.loadFilterRules(function(){if(z)t.fire('paste',x);else if(!t.config.pasteFromWordPromptCleanup||u||confirm(t.lang.pastefromword.confirmCleanup))x.html=h.cleanWord(y,t);});z&&w.cancel();}},this);},loadFilterRules:function(t){var u=h.cleanWord;if(u)t();else{var v=h.getUrl(p.pasteFromWordCleanupFile||this.path+'filter/default.js');h.scriptLoader.load(v,t,null,true);}return!u;},requires:['clipboard']});})();(function(){var t={exec:function(u){var v=l.tryThese(function(){var w=window.clipboardData.getData('Text');
if(!w)throw 0;return w;});if(!v){u.openDialog('pastetext');return false;}else u.fire('paste',{text:v});return true;}};q.add('pastetext',{init:function(u){var v='pastetext',w=u.addCommand(v,t);u.ui.addButton('PasteText',{label:u.lang.pasteText.button,command:v});h.dialog.add(v,h.getUrl(this.path+'dialogs/pastetext.js'));if(u.config.forcePasteAsPlainText)u.on('beforeCommandExec',function(x){if(x.data.name=='paste'){u.execCommand('pastetext');x.cancel();}},null,null,0);u.on('pasteState',function(x){u.getCommand('pastetext').setState(x.data);});},requires:['clipboard']});})();q.add('popup');l.extend(h.editor.prototype,{popup:function(t,u,v,w){u=u||'80%';v=v||'70%';if(typeof u=='string'&&u.length>1&&u.substr(u.length-1,1)=='%')u=parseInt(window.screen.width*parseInt(u,10)/100,10);if(typeof v=='string'&&v.length>1&&v.substr(v.length-1,1)=='%')v=parseInt(window.screen.height*parseInt(v,10)/100,10);if(u<640)u=640;if(v<420)v=420;var x=parseInt((window.screen.height-v)/2,10),y=parseInt((window.screen.width-u)/2,10);w=(w||'location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes')+',width='+u+',height='+v+',top='+x+',left='+y;var z=window.open('',null,w,true);if(!z)return false;try{z.moveTo(y,x);z.resizeTo(u,v);z.focus();z.location.href=t;}catch(A){z=window.open(t,null,w,true);}return true;}});(function(){var t={modes:{wysiwyg:1,source:1},canUndo:false,exec:function(v){var w,x=v.config,y=x.baseHref?'<base href="'+x.baseHref+'"/>':'',z=i.isCustomDomain();if(x.fullPage)w=v.getData().replace(/<head>/,'$&'+y).replace(/[^>]*(?=<\/title>)/,'$& &mdash; '+v.lang.preview);else{var A='<body ',B=v.document&&v.document.getBody();if(B){if(B.getAttribute('id'))A+='id="'+B.getAttribute('id')+'" ';if(B.getAttribute('class'))A+='class="'+B.getAttribute('class')+'" ';}A+='>';w=v.config.docType+'<html dir="'+v.config.contentsLangDirection+'">'+'<head>'+y+'<title>'+v.lang.preview+'</title>'+l.buildStyleHtml(v.config.contentsCss)+'</head>'+A+v.getData()+'</body></html>';}var C=640,D=420,E=80;try{var F=window.screen;C=Math.round(F.width*0.8);D=Math.round(F.height*0.7);E=Math.round(F.width*0.1);}catch(I){}var G='';if(z){window._cke_htmlToLoad=w;G='javascript:void( (function(){document.open();document.domain="'+document.domain+'";'+'document.write( window.opener._cke_htmlToLoad );'+'document.close();'+'window.opener._cke_htmlToLoad = null;'+'})() )';}var H=window.open(G,null,'toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width='+C+',height='+D+',left='+E);
if(!z){H.document.open();H.document.write(w);H.document.close();}}},u='preview';q.add(u,{init:function(v){v.addCommand(u,t);v.ui.addButton('Preview',{label:v.lang.preview,command:u});}});})();q.add('print',{init:function(t){var u='print',v=t.addCommand(u,q.print);t.ui.addButton('Print',{label:t.lang.print,command:u});}});q.print={exec:function(t){if(i.opera)return;else if(i.gecko)t.window.$.print();else t.document.$.execCommand('Print');},canUndo:false,modes:{wysiwyg:!i.opera}};q.add('removeformat',{requires:['selection'],init:function(t){t.addCommand('removeFormat',q.removeformat.commands.removeformat);t.ui.addButton('RemoveFormat',{label:t.lang.removeFormat,command:'removeFormat'});t._.removeFormat={filters:[]};}});q.removeformat={commands:{removeformat:{exec:function(t){var u=t._.removeFormatRegex||(t._.removeFormatRegex=new RegExp('^(?:'+t.config.removeFormatTags.replace(/,/g,'|')+')$','i')),v=t._.removeAttributes||(t._.removeAttributes=t.config.removeFormatAttributes.split(',')),w=q.removeformat.filter,x=t.getSelection().getRanges(1),y=x.createIterator(),z;while(z=y.getNextRange()){if(!z.collapsed)z.enlarge(1);var A=z.createBookmark(),B=A.startNode,C=A.endNode,D,E=function(G){var H=new k.elementPath(G),I=H.elements;for(var J=1,K;K=I[J];J++){if(K.equals(H.block)||K.equals(H.blockLimit))break;if(u.test(K.getName())&&w(t,K))G.breakParent(K);}};E(B);if(C){E(C);D=B.getNextSourceNode(true,1);while(D){if(D.equals(C))break;var F=D.getNextSourceNode(false,1);if(!(D.getName()=='img'&&D.data('cke-realelement'))&&w(t,D))if(u.test(D.getName()))D.remove(1);else{D.removeAttributes(v);t.fire('removeFormatCleanup',D);}D=F;}}z.moveToBookmark(A);}t.getSelection().selectRanges(x);}}},filter:function(t,u){var v=t._.removeFormat.filters;for(var w=0;w<v.length;w++){if(v[w](u)===false)return false;}return true;}};h.editor.prototype.addRemoveFormatFilter=function(t){this._.removeFormat.filters.push(t);};p.removeFormatTags='b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var';p.removeFormatAttributes='class,style,lang,width,height,align,hspace,valign';q.add('resize',{init:function(t){var u=t.config;!u.resize_dir&&(u.resize_dir='both');u.resize_maxWidth==undefined&&(u.resize_maxWidth=3000);u.resize_maxHeight==undefined&&(u.resize_maxHeight=3000);u.resize_minWidth==undefined&&(u.resize_minWidth=750);u.resize_minHeight==undefined&&(u.resize_minHeight=250);if(u.resize_enabled!==false){var v=null,w,x,y=(u.resize_dir=='both'||u.resize_dir=='horizontal')&&u.resize_minWidth!=u.resize_maxWidth,z=(u.resize_dir=='both'||u.resize_dir=='vertical')&&u.resize_minHeight!=u.resize_maxHeight;
function A(D){var E=D.data.$.screenX-w.x,F=D.data.$.screenY-w.y,G=x.width,H=x.height,I=G+E*(t.lang.dir=='rtl'?-1:1),J=H+F;if(y)G=Math.max(u.resize_minWidth,Math.min(I,u.resize_maxWidth));if(z)H=Math.max(u.resize_minHeight,Math.min(J,u.resize_maxHeight));t.resize(G,H);};function B(D){h.document.removeListener('mousemove',A);h.document.removeListener('mouseup',B);if(t.document){t.document.removeListener('mousemove',A);t.document.removeListener('mouseup',B);}};var C=l.addFunction(function(D){if(!v)v=t.getResizable();x={width:v.$.offsetWidth||0,height:v.$.offsetHeight||0};w={x:D.screenX,y:D.screenY};u.resize_minWidth>x.width&&(u.resize_minWidth=x.width);u.resize_minHeight>x.height&&(u.resize_minHeight=x.height);h.document.on('mousemove',A);h.document.on('mouseup',B);if(t.document){t.document.on('mousemove',A);t.document.on('mouseup',B);}});t.on('destroy',function(){l.removeFunction(C);});t.on('themeSpace',function(D){if(D.data.space=='bottom'){var E='';if(y&&!z)E=' cke_resizer_horizontal';if(!y&&z)E=' cke_resizer_vertical';D.data.html+='<div class="cke_resizer'+E+'"'+' title="'+l.htmlEncode(t.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+C+', event)"'+'></div>';}},t,null,100);}}});(function(){var t={modes:{wysiwyg:1,source:1},exec:function(v){var w=v.element.$.form;if(w)try{w.submit();}catch(x){if(w.submit.click)w.submit.click();}}},u='save';q.add(u,{init:function(v){var w=v.addCommand(u,t);w.modes={wysiwyg:!!v.element.$.form};v.ui.addButton('Save',{label:v.lang.save,command:u});}});})();(function(){var t='scaytcheck',u='';function v(A,B){var C=0,D;for(D in B){if(B[D]==A){C=1;break;}}return C;};var w=function(){var A=this,B=function(){var F=A.config,G={};G.srcNodeRef=A.document.getWindow().$.frameElement;G.assocApp='CKEDITOR.'+h.version+'@'+h.revision;G.customerid=F.scayt_customerid||'1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2';G.customDictionaryIds=F.scayt_customDictionaryIds||'';G.userDictionaryName=F.scayt_userDictionaryName||'';G.sLang=F.scayt_sLang||'en_US';G.onLoad=function(){if(!(j&&i.version<8))this.addStyle(this.selectorCss(),'padding-bottom: 2px !important;');if(A.focusManager.hasFocus&&!x.isControlRestored(A))this.focus();};G.onBeforeChange=function(){if(x.getScayt(A)&&!A.checkDirty())setTimeout(function(){A.resetDirty();},0);};var H=window.scayt_custom_params;if(typeof H=='object')for(var I in H)G[I]=H[I];if(x.getControlId(A))G.id=x.getControlId(A);var J=new window.scayt(G);J.afterMarkupRemove.push(function(Q){new o(Q,J.document).mergeSiblings();
});var K=x.instances[A.name];if(K){J.sLang=K.sLang;J.option(K.option());J.paused=K.paused;}x.instances[A.name]=J;var L='scaytButton',M=window.scayt.uiTags,N=[];for(var O=0,P=4;O<P;O++)N.push(M[O]&&x.uiTabs[O]);x.uiTabs=N;try{J.setDisabled(x.isPaused(A)===false);}catch(Q){}A.fire('showScaytState');};A.on('contentDom',B);A.on('contentDomUnload',function(){var F=h.document.getElementsByTag('script'),G=/^dojoIoScript(\d+)$/i,H=/^https?:\/\/svc\.spellchecker\.net\/spellcheck\/script\/ssrv\.cgi/i;for(var I=0;I<F.count();I++){var J=F.getItem(I),K=J.getId(),L=J.getAttribute('src');if(K&&L&&K.match(G)&&L.match(H))J.remove();}});A.on('beforeCommandExec',function(F){if((F.data.name=='source'||F.data.name=='newpage')&&A.mode=='wysiwyg'){var G=x.getScayt(A);if(G){x.setPaused(A,!G.disabled);x.setControlId(A,G.id);G.destroy(true);delete x.instances[A.name];}}else if(F.data.name=='source'&&A.mode=='source')x.markControlRestore(A);});A.on('afterCommandExec',function(F){if(!x.isScaytEnabled(A))return;if(A.mode=='wysiwyg'&&(F.data.name=='undo'||F.data.name=='redo'))window.setTimeout(function(){x.getScayt(A).refresh();},10);});A.on('destroy',function(F){var G=F.editor,H=x.getScayt(G);if(!H)return;delete x.instances[G.name];x.setControlId(G,H.id);H.destroy(true);});A.on('afterSetData',function(){if(x.isScaytEnabled(A))window.setTimeout(function(){var F=x.getScayt(A);F&&F.refresh();},10);});A.on('insertElement',function(){var F=x.getScayt(A);if(x.isScaytEnabled(A)){if(j)A.getSelection().unlock(true);window.setTimeout(function(){F.focus();F.refresh();},10);}},this,null,50);A.on('insertHtml',function(){var F=x.getScayt(A);if(x.isScaytEnabled(A)){if(j)A.getSelection().unlock(true);window.setTimeout(function(){F.focus();F.refresh();},10);}},this,null,50);A.on('scaytDialog',function(F){F.data.djConfig=window.djConfig;F.data.scayt_control=x.getScayt(A);F.data.tab=u;F.data.scayt=window.scayt;});var C=A.dataProcessor,D=C&&C.htmlFilter;if(D)D.addRules({elements:{span:function(F){if(F.attributes['data-scayt_word']&&F.attributes['data-scaytid']){delete F.name;return F;}}}});var E=q.undo.Image.prototype;E.equals=l.override(E.equals,function(F){return function(G){var L=this;var H=L.contents,I=G.contents,J=x.getScayt(L.editor);if(J&&x.isScaytReady(L.editor)){L.contents=J.reset(H)||'';G.contents=J.reset(I)||'';}var K=F.apply(L,arguments);L.contents=H;G.contents=I;return K;};});if(A.document)B();};q.scayt={engineLoaded:false,instances:{},controlInfo:{},setControlInfo:function(A,B){if(A&&A.name&&typeof this.controlInfo[A.name]!='object')this.controlInfo[A.name]={};
for(var C in B)this.controlInfo[A.name][C]=B[C];},isControlRestored:function(A){if(A&&A.name&&this.controlInfo[A.name])return this.controlInfo[A.name].restored;return false;},markControlRestore:function(A){this.setControlInfo(A,{restored:true});},setControlId:function(A,B){this.setControlInfo(A,{id:B});},getControlId:function(A){if(A&&A.name&&this.controlInfo[A.name]&&this.controlInfo[A.name].id)return this.controlInfo[A.name].id;return null;},setPaused:function(A,B){this.setControlInfo(A,{paused:B});},isPaused:function(A){if(A&&A.name&&this.controlInfo[A.name])return this.controlInfo[A.name].paused;return undefined;},getScayt:function(A){return this.instances[A.name];},isScaytReady:function(A){return this.engineLoaded===true&&'undefined'!==typeof window.scayt&&this.getScayt(A);},isScaytEnabled:function(A){var B=this.getScayt(A);return B?B.disabled===false:false;},loadEngine:function(A){if(i.gecko&&i.version<10900||i.opera||i.air)return A.fire('showScaytState');if(this.engineLoaded===true)return w.apply(A);else if(this.engineLoaded==-1)return h.on('scaytReady',function(){w.apply(A);});h.on('scaytReady',w,A);h.on('scaytReady',function(){this.engineLoaded=true;},this,null,0);this.engineLoaded=-1;var B=document.location.protocol;B=B.search(/https?:/)!=-1?B:'http:';var C='svc.spellchecker.net/scayt26/loader__base.js',D=A.config.scayt_srcUrl||B+'//'+C,E=x.parseUrl(D).path+'/';if(window.scayt==undefined){h._djScaytConfig={baseUrl:E,addOnLoad:[function(){h.fireOnce('scaytReady');}],isDebug:false};h.document.getHead().append(h.document.createElement('script',{attributes:{type:'text/javascript',async:'true',src:D}}));}else h.fireOnce('scaytReady');return null;},parseUrl:function(A){var B;if(A.match&&(B=A.match(/(.*)[\/\\](.*?\.\w+)$/)))return{path:B[1],file:B[2]};else return A;}};var x=q.scayt,y=function(A,B,C,D,E,F,G){A.addCommand(D,E);A.addMenuItem(D,{label:C,command:D,group:F,order:G});},z={preserveState:true,editorFocus:false,canUndo:false,exec:function(A){if(x.isScaytReady(A)){var B=x.isScaytEnabled(A);this.setState(B?2:1);var C=x.getScayt(A);C.focus();C.setDisabled(B);}else if(!A.config.scayt_autoStartup&&x.engineLoaded>=0){this.setState(0);x.loadEngine(A);}}};q.add('scayt',{requires:['menubutton'],beforeInit:function(A){var B=A.config.scayt_contextMenuItemsOrder||'suggest|moresuggest|control',C='';B=B.split('|');if(B&&B.length)for(var D=0;D<B.length;D++)C+='scayt_'+B[D]+(B.length!=parseInt(D,10)+1?',':'');A.config.menu_groups=C+','+A.config.menu_groups;},init:function(A){var B={},C={},D=A.addCommand(t,z);
h.dialog.add(t,h.getUrl(this.path+'dialogs/options.js'));var E=A.config.scayt_uiTabs||'1,1,1',F=[];E=E.split(',');for(var G=0,H=3;G<H;G++){var I=parseInt(E[G]||'1',10);F.push(I);}var J='scaytButton';A.addMenuGroup(J);var K={},L=A.lang.scayt;K.scaytToggle={label:L.enable,command:t,group:J};if(F[0]==1)K.scaytOptions={label:L.options,group:J,onClick:function(){u='options';A.openDialog(t);}};if(F[1]==1)K.scaytLangs={label:L.langs,group:J,onClick:function(){u='langs';A.openDialog(t);}};if(F[2]==1)K.scaytDict={label:L.dictionariesTab,group:J,onClick:function(){u='dictionaries';A.openDialog(t);}};K.scaytAbout={label:A.lang.scayt.about,group:J,onClick:function(){u='about';A.openDialog(t);}};F[3]=1;x.uiTabs=F;A.addMenuItems(K);A.ui.add('Scayt',5,{label:L.title,title:i.opera?L.opera_title:L.title,className:'cke_button_scayt',modes:{wysiwyg:1},onRender:function(){D.on('state',function(){this.setState(D.state);},this);},onMenu:function(){var N=x.isScaytEnabled(A);A.getMenuItem('scaytToggle').label=L[N?'disable':'enable'];return{scaytToggle:2,scaytOptions:N&&x.uiTabs[0]?2:0,scaytLangs:N&&x.uiTabs[1]?2:0,scaytDict:N&&x.uiTabs[2]?2:0,scaytAbout:N&&x.uiTabs[3]?2:0};}});if(A.contextMenu&&A.addMenuItems)A.contextMenu.addListener(function(N,O){if(!x.isScaytEnabled(A)||O.getRanges()[0].checkReadOnly())return null;var P=x.getScayt(A),Q=P.getScaytNode();if(!Q)return null;var R=P.getWord(Q);if(!R)return null;var S=P.getLang(),T={},U=window.scayt.getSuggestion(R,S);if(!U||!U.length)return null;for(G in B){delete A._.menuItems[G];delete A._.commands[G];}for(G in C){delete A._.menuItems[G];delete A._.commands[G];}B={};C={};var V=A.config.scayt_moreSuggestions||'on',W=false,X=A.config.scayt_maxSuggestions;typeof X!='number'&&(X=5);!X&&(X=U.length);var Y=A.config.scayt_contextCommands||'all';Y=Y.split('|');for(var Z=0,aa=U.length;Z<aa;Z+=1){var ab='scayt_suggestion_'+U[Z].replace(' ','_'),ac=(function(ag,ah){return{exec:function(){P.replace(ag,ah);}};})(Q,U[Z]);if(Z<X){y(A,'button_'+ab,U[Z],ab,ac,'scayt_suggest',Z+1);T[ab]=2;C[ab]=2;}else if(V=='on'){y(A,'button_'+ab,U[Z],ab,ac,'scayt_moresuggest',Z+1);B[ab]=2;W=true;}}if(W){A.addMenuItem('scayt_moresuggest',{label:L.moreSuggestions,group:'scayt_moresuggest',order:10,getItems:function(){return B;}});C.scayt_moresuggest=2;}if(v('all',Y)||v('ignore',Y)){var ad={exec:function(){P.ignore(Q);}};y(A,'ignore',L.ignore,'scayt_ignore',ad,'scayt_control',1);C.scayt_ignore=2;}if(v('all',Y)||v('ignoreall',Y)){var ae={exec:function(){P.ignoreAll(Q);
}};y(A,'ignore_all',L.ignoreAll,'scayt_ignore_all',ae,'scayt_control',2);C.scayt_ignore_all=2;}if(v('all',Y)||v('add',Y)){var af={exec:function(){window.scayt.addWordToUserDictionary(Q);}};y(A,'add_word',L.addWord,'scayt_add_word',af,'scayt_control',3);C.scayt_add_word=2;}if(P.fireOnContextMenu)P.fireOnContextMenu(A);return C;});var M=function(){A.removeListener('showScaytState',M);if(!i.opera&&!i.air)D.setState(x.isScaytEnabled(A)?1:2);else D.setState(0);};A.on('showScaytState',M);if(i.opera||i.air)A.on('instanceReady',function(){M();});if(A.config.scayt_autoStartup)A.on('instanceReady',function(){x.loadEngine(A);});},afterInit:function(A){var B,C=function(D){if(D.hasAttribute('data-scaytid'))return false;};if(A._.elementsPath&&(B=A._.elementsPath.filters))B.push(C);A.addRemoveFormatFilter&&A.addRemoveFormatFilter(C);}});})();q.add('smiley',{requires:['dialog'],init:function(t){t.config.smiley_path=t.config.smiley_path||this.path+'images/';t.addCommand('smiley',new h.dialogCommand('smiley'));t.ui.addButton('Smiley',{label:t.lang.smiley.toolbar,command:'smiley'});h.dialog.add('smiley',this.path+'dialogs/smiley.js');}});p.smiley_images=['regular_smile.gif','sad_smile.gif','wink_smile.gif','teeth_smile.gif','confused_smile.gif','tounge_smile.gif','embaressed_smile.gif','omg_smile.gif','whatchutalkingabout_smile.gif','angry_smile.gif','angel_smile.gif','shades_smile.gif','devil_smile.gif','cry_smile.gif','lightbulb.gif','thumbs_down.gif','thumbs_up.gif','heart.gif','broken_heart.gif','kiss.gif','envelope.gif'];p.smiley_descriptions=['smiley','sad','wink','laugh','frown','cheeky','blush','surprise','indecision','angry','angel','cool','devil','crying','enlightened','no','yes','heart','broken heart','kiss','mail'];(function(){var t='.%2 p,.%2 div,.%2 pre,.%2 address,.%2 blockquote,.%2 h1,.%2 h2,.%2 h3,.%2 h4,.%2 h5,.%2 h6{background-repeat: no-repeat;background-position: top %3;border: 1px dotted gray;padding-top: 8px;padding-%3: 8px;}.%2 p{%1p.png);}.%2 div{%1div.png);}.%2 pre{%1pre.png);}.%2 address{%1address.png);}.%2 blockquote{%1blockquote.png);}.%2 h1{%1h1.png);}.%2 h2{%1h2.png);}.%2 h3{%1h3.png);}.%2 h4{%1h4.png);}.%2 h5{%1h5.png);}.%2 h6{%1h6.png);}',u=/%1/g,v=/%2/g,w=/%3/g,x={preserveState:true,editorFocus:false,exec:function(y){this.toggleState();this.refresh(y);},refresh:function(y){var z=this.state==1?'addClass':'removeClass';y.document.getBody()[z]('cke_show_blocks');}};q.add('showblocks',{requires:['wysiwygarea'],init:function(y){var z=y.addCommand('showblocks',x);
z.canUndo=false;if(y.config.startupOutlineBlocks)z.setState(1);y.addCss(t.replace(u,'background-image: url('+h.getUrl(this.path)+'images/block_').replace(v,'cke_show_blocks ').replace(w,y.lang.dir=='rtl'?'right':'left'));y.ui.addButton('ShowBlocks',{label:y.lang.showBlocks,command:'showblocks'});y.on('mode',function(){if(z.state!=0)z.refresh(y);});y.on('contentDom',function(){if(z.state!=0)z.refresh(y);});}});})();(function(){var t='cke_show_border',u,v=(i.ie6Compat?['.%1 table.%2,','.%1 table.%2 td, .%1 table.%2 th,','{','border : #d3d3d3 1px dotted','}']:['.%1 table.%2,','.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,','.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,','.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,','.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th','{','border : #d3d3d3 1px dotted','}']).join('');u=v.replace(/%2/g,t).replace(/%1/g,'cke_show_borders ');var w={preserveState:true,editorFocus:false,exec:function(x){this.toggleState();this.refresh(x);},refresh:function(x){var y=this.state==1?'addClass':'removeClass';x.document.getBody()[y]('cke_show_borders');}};q.add('showborders',{requires:['wysiwygarea'],modes:{wysiwyg:1},init:function(x){var y=x.addCommand('showborders',w);y.canUndo=false;if(x.config.startupShowBorders!==false)y.setState(1);x.addCss(u);x.on('mode',function(){if(y.state!=0)y.refresh(x);},null,null,100);x.on('contentDom',function(){if(y.state!=0)y.refresh(x);});x.on('removeFormatCleanup',function(z){var A=z.data;if(x.getCommand('showborders').state==1&&A.is('table')&&(!A.hasAttribute('border')||parseInt(A.getAttribute('border'),10)<=0))A.addClass(t);});},afterInit:function(x){var y=x.dataProcessor,z=y&&y.dataFilter,A=y&&y.htmlFilter;if(z)z.addRules({elements:{table:function(B){var C=B.attributes,D=C['class'],E=parseInt(C.border,10);if(!E||E<=0)C['class']=(D||'')+' '+t;}}});if(A)A.addRules({elements:{table:function(B){var C=B.attributes,D=C['class'];D&&(C['class']=D.replace(t,'').replace(/\s{2}/,' ').replace(/^\s+|\s+$/,''));}}});}});h.on('dialogDefinition',function(x){var y=x.data.name;if(y=='table'||y=='tableProperties'){var z=x.data.definition,A=z.getContents('info'),B=A.get('txtBorder'),C=B.commit;B.commit=l.override(C,function(F){return function(G,H){F.apply(this,arguments);var I=parseInt(this.getValue(),10);H[!I||I<=0?'addClass':'removeClass'](t);};});var D=z.getContents('advanced'),E=D&&D.get('advCSSClasses');if(E){E.setup=l.override(E.setup,function(F){return function(){F.apply(this,arguments);
this.setValue(this.getValue().replace(/cke_show_border/,''));};});E.commit=l.override(E.commit,function(F){return function(G,H){F.apply(this,arguments);if(!parseInt(H.getAttribute('border'),10))H.addClass('cke_show_border');};});}}});})();q.add('sourcearea',{requires:['editingblock'],init:function(t){var u=q.sourcearea,v=h.document.getWindow();t.on('editingBlockReady',function(){var w,x;t.addMode('source',{load:function(y,z){if(j&&i.version<8)y.setStyle('position','relative');t.textarea=w=new o('textarea');w.setAttributes({dir:'ltr',tabIndex:i.webkit?-1:t.tabIndex,role:'textbox','aria-label':t.lang.editorTitle.replace('%1',t.name)});w.addClass('cke_source');w.addClass('cke_enable_context_menu');var A={width:i.ie7Compat?'99%':'100%',height:'100%',resize:'none',outline:'none','text-align':'left'};if(j){x=function(){w.hide();w.setStyle('height',y.$.clientHeight+'px');w.setStyle('width',y.$.clientWidth+'px');w.show();};t.on('resize',x);v.on('resize',x);setTimeout(x,0);}y.setHtml('');y.append(w);w.setStyles(A);t.fire('ariaWidget',w);w.on('blur',function(){t.focusManager.blur();});w.on('focus',function(){t.focusManager.focus();});t.mayBeDirty=true;this.loadData(z);var B=t.keystrokeHandler;if(B)B.attach(w);setTimeout(function(){t.mode='source';t.fire('mode');},i.gecko||i.webkit?100:0);},loadData:function(y){w.setValue(y);t.fire('dataReady');},getData:function(){return w.getValue();},getSnapshotData:function(){return w.getValue();},unload:function(y){w.clearCustomData();t.textarea=w=null;if(x){t.removeListener('resize',x);v.removeListener('resize',x);}if(j&&i.version<8)y.removeStyle('position');},focus:function(){w.focus();}});});t.addCommand('source',u.commands.source);if(t.ui.addButton)t.ui.addButton('Source',{label:t.lang.source,command:'source'});t.on('mode',function(){t.getCommand('source').setState(t.mode=='source'?1:2);});}});q.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:false,exec:function(t){if(t.mode=='wysiwyg')t.fire('saveSnapshot');t.getCommand('source').setState(0);t.setMode(t.mode=='source'?'wysiwyg':'source');},canUndo:false}}};(function(){q.add('stylescombo',{requires:['richcombo','styles'],init:function(u){var v=u.config,w=u.lang.stylesCombo,x={},y=[];function z(A){u.getStylesSet(function(B){if(!y.length){var C,D;for(var E=0,F=B.length;E<F;E++){var G=B[E];D=G.name;C=x[D]=new h.style(G);C._name=D;C._.enterMode=v.enterMode;y.push(C);}y.sort(t);}A&&A();});};u.ui.addRichCombo('Styles',{label:w.label,title:w.panelTitle,className:'cke_styles',panel:{css:u.skin.editor.css.concat(v.contentsCss),multiSelect:true,attributes:{'aria-label':w.panelTitle}},init:function(){var A=this;
z(function(){var B,C,D;for(var E=0,F=y.length;E<F;E++){B=y[E];C=B._name;var G=B.type;if(G!=D){A.startGroup(w['panelTitle'+String(G)]);D=G;}A.add(C,B.type==3?C:B.buildPreview(),C);}A.commit();A.onOpen();});},onClick:function(A){u.focus();u.fire('saveSnapshot');var B=x[A],C=u.getSelection(),D=new k.elementPath(C.getStartElement());B[B.checkActive(D)?'remove':'apply'](u.document);u.fire('saveSnapshot');},onRender:function(){u.on('selectionChange',function(A){var B=this.getValue(),C=A.data.path,D=C.elements;for(var E=0,F=D.length,G;E<F;E++){G=D[E];for(var H in x){if(x[H].checkElementRemovable(G,true)){if(H!=B)this.setValue(H);return;}}}this.setValue('');},this);},onOpen:function(){var H=this;if(j||i.webkit)u.focus();var A=u.getSelection(),B=A.getSelectedElement(),C=new k.elementPath(B||A.getStartElement()),D=[0,0,0,0];H.showAll();H.unmarkAll();for(var E in x){var F=x[E],G=F.type;if(F.checkActive(C))H.mark(E);else if(G==3&&!F.checkApplicable(C)){H.hideItem(E);D[G]--;}D[G]++;}if(!D[1])H.hideGroup(w['panelTitle'+String(1)]);if(!D[2])H.hideGroup(w['panelTitle'+String(2)]);if(!D[3])H.hideGroup(w['panelTitle'+String(3)]);}});u.on('instanceReady',function(){z();});}});function t(u,v){var w=u.type,x=v.type;return w==x?0:w==3?-1:x==3?1:x==1?1:-1;};})();q.add('table',{init:function(t){var u=q.table,v=t.lang.table;t.addCommand('table',new h.dialogCommand('table'));t.addCommand('tableProperties',new h.dialogCommand('tableProperties'));t.ui.addButton('Table',{label:v.toolbar,command:'table'});h.dialog.add('table',this.path+'dialogs/table.js');h.dialog.add('tableProperties',this.path+'dialogs/table.js');if(t.addMenuItems)t.addMenuItems({table:{label:v.menu,command:'tableProperties',group:'table',order:5},tabledelete:{label:v.deleteTable,command:'tableDelete',group:'table',order:1}});t.on('doubleclick',function(w){var x=w.data.element;if(x.is('table'))w.data.dialog='tableProperties';});if(t.contextMenu)t.contextMenu.addListener(function(w,x){if(!w||w.isReadOnly())return null;var y=w.hasAscendant('table',1);if(y)return{tabledelete:2,table:2};return null;});}});(function(){var t=/^(?:td|th)$/;function u(N){var O=N.createBookmarks(),P=N.getRanges(),Q=[],R={};function S(aa){if(Q.length>0)return;if(aa.type==1&&t.test(aa.getName())&&!aa.getCustomData('selected_cell')){o.setMarker(R,aa,'selected_cell',true);Q.push(aa);}};for(var T=0;T<P.length;T++){var U=P[T];if(U.collapsed){var V=U.getCommonAncestor(),W=V.getAscendant('td',true)||V.getAscendant('th',true);if(W)Q.push(W);}else{var X=new k.walker(U),Y;
X.guard=S;while(Y=X.next()){var Z=Y.getParent();if(Z&&t.test(Z.getName())&&!Z.getCustomData('selected_cell')){o.setMarker(R,Z,'selected_cell',true);Q.push(Z);}}}}o.clearAllMarkers(R);N.selectBookmarks(O);return Q;};function v(N){var O=0,P=N.length-1,Q={},R,S,T;while(R=N[O++])o.setMarker(Q,R,'delete_cell',true);O=0;while(R=N[O++]){if((S=R.getPrevious())&&!S.getCustomData('delete_cell')||(S=R.getNext())&&!S.getCustomData('delete_cell')){o.clearAllMarkers(Q);return S;}}o.clearAllMarkers(Q);T=N[0].getParent();if(T=T.getPrevious())return T.getLast();T=N[P].getParent();if(T=T.getNext())return T.getChild(0);return null;};function w(N,O){var P=u(N),Q=P[0],R=Q.getAscendant('table'),S=Q.getDocument(),T=P[0].getParent(),U=T.$.rowIndex,V=P[P.length-1],W=V.getParent().$.rowIndex+V.$.rowSpan-1,X=new o(R.$.rows[W]),Y=O?U:W,Z=O?T:X,aa=l.buildTableMap(R),ab=aa[Y],ac=O?aa[Y-1]:aa[Y+1],ad=aa[0].length,ae=S.createElement('tr');for(var af=0;af<ad;af++){var ag;if(ab[af].rowSpan>1&&ac&&ab[af]==ac[af]){ag=ab[af];ag.rowSpan+=1;}else{ag=new o(ab[af]).clone();ag.removeAttribute('rowSpan');!j&&ag.appendBogus();ae.append(ag);ag=ag.$;}af+=ag.colSpan-1;}O?ae.insertBefore(Z):ae.insertAfter(Z);};function x(N){if(N instanceof k.selection){var O=u(N),P=O[0],Q=P.getAscendant('table'),R=l.buildTableMap(Q),S=O[0].getParent(),T=S.$.rowIndex,U=O[O.length-1],V=U.getParent().$.rowIndex+U.$.rowSpan-1,W=[];for(var X=T;X<=V;X++){var Y=R[X],Z=new o(Q.$.rows[X]);for(var aa=0;aa<Y.length;aa++){var ab=new o(Y[aa]),ac=ab.getParent().$.rowIndex;if(ab.$.rowSpan==1)ab.remove();else{ab.$.rowSpan-=1;if(ac==X){var ad=R[X+1];ad[aa-1]?ab.insertAfter(new o(ad[aa-1])):new o(Q.$.rows[X+1]).append(ab,1);}}aa+=ab.$.colSpan-1;}W.push(Z);}var ae=Q.$.rows,af=new o(ae[T]||ae[T-1]||Q.$.parentNode);for(X=W.length;X>=0;X--)x(W[X]);return af;}else if(N instanceof o){Q=N.getAscendant('table');if(Q.$.rows.length==1)Q.remove();else N.remove();}return null;};function y(N,O){var P=N.getParent(),Q=P.$.cells,R=0;for(var S=0;S<Q.length;S++){var T=Q[S];R+=O?1:T.colSpan;if(T==N.$)break;}return R-1;};function z(N,O){var P=O?Infinity:0;for(var Q=0;Q<N.length;Q++){var R=y(N[Q],O);if(O?R<P:R>P)P=R;}return P;};function A(N,O){var P=u(N),Q=P[0],R=Q.getAscendant('table'),S=z(P,1),T=z(P),U=O?S:T,V=l.buildTableMap(R),W=[],X=[],Y=V.length;for(var Z=0;Z<Y;Z++){W.push(V[Z][U]);var aa=O?V[Z][U-1]:V[Z][U+1];aa&&X.push(aa);}for(Z=0;Z<Y;Z++){var ab;if(W[Z].colSpan>1&&X.length&&X[Z]==W[Z]){ab=W[Z];ab.colSpan+=1;}else{ab=new o(W[Z]).clone();ab.removeAttribute('colSpan');
!j&&ab.appendBogus();ab[O?'insertBefore':'insertAfter'].call(ab,new o(W[Z]));ab=ab.$;}Z+=ab.rowSpan-1;}};function B(N){var O=u(N),P=O[0],Q=O[O.length-1],R=P.getAscendant('table'),S=l.buildTableMap(R),T,U,V=[];for(var W=0,X=S.length;W<X;W++)for(var Y=0,Z=S[W].length;Y<Z;Y++){if(S[W][Y]==P.$)T=Y;if(S[W][Y]==Q.$)U=Y;}for(W=T;W<=U;W++)for(Y=0;Y<S.length;Y++){var aa=S[Y],ab=new o(R.$.rows[Y]),ac=new o(aa[W]);if(ac.$.colSpan==1)ac.remove();else ac.$.colSpan-=1;Y+=ac.$.rowSpan-1;if(!ab.$.cells.length)V.push(ab);}var ad=R.$.rows[0]&&R.$.rows[0].cells,ae=new o(ad[T]||(T?ad[T-1]:R.$.parentNode));if(V.length==X)R.remove();return ae;};function C(N){var O=[],P=N[0]&&N[0].getAscendant('table'),Q,R,S,T;for(Q=0,R=N.length;Q<R;Q++)O.push(N[Q].$.cellIndex);O.sort();for(Q=1,R=O.length;Q<R;Q++){if(O[Q]-O[Q-1]>1){S=O[Q-1]+1;break;}}if(!S)S=O[0]>0?O[0]-1:O[O.length-1]+1;var U=P.$.rows;for(Q=0,R=U.length;Q<R;Q++){T=U[Q].cells[S];if(T)break;}return T?new o(T):P.getPrevious();};function D(N,O){var P=N.getStartElement(),Q=P.getAscendant('td',1)||P.getAscendant('th',1);if(!Q)return;var R=Q.clone();if(!j)R.appendBogus();if(O)R.insertBefore(Q);else R.insertAfter(Q);};function E(N){if(N instanceof k.selection){var O=u(N),P=O[0]&&O[0].getAscendant('table'),Q=v(O);for(var R=O.length-1;R>=0;R--)E(O[R]);if(Q)G(Q,true);else if(P)P.remove();}else if(N instanceof o){var S=N.getParent();if(S.getChildCount()==1)S.remove();else N.remove();}};function F(N){var O=N.getBogus();O&&O.remove();N.trim();};function G(N,O){var P=new k.range(N.getDocument());if(!P['moveToElementEdit'+(O?'End':'Start')](N)){P.selectNodeContents(N);P.collapse(O?false:true);}P.select(true);};function H(N,O,P){var Q=N[O];if(typeof P=='undefined')return Q;for(var R=0;Q&&R<Q.length;R++){if(P.is&&Q[R]==P.$)return R;else if(R==P)return new o(Q[R]);}return P.is?-1:null;};function I(N,O,P){var Q=[];for(var R=0;R<N.length;R++){var S=N[R];if(typeof P=='undefined')Q.push(S[O]);else if(P.is&&S[O]==P.$)return R;else if(R==P)return new o(S[O]);}return typeof P=='undefined'?Q:P.is?-1:null;};function J(N,O,P){var Q=u(N),R;if((O?Q.length!=1:Q.length<2)||(R=N.getCommonAncestor())&&R.type==1&&R.is('table'))return false;var S,T=Q[0],U=T.getAscendant('table'),V=l.buildTableMap(U),W=V.length,X=V[0].length,Y=T.getParent().$.rowIndex,Z=H(V,Y,T);if(O){var aa;try{var ab=parseInt(T.getAttribute('rowspan'),10)||1,ac=parseInt(T.getAttribute('colspan'),10)||1;aa=V[O=='up'?Y-ab:O=='down'?Y+ab:Y][O=='left'?Z-ac:O=='right'?Z+ac:Z];}catch(au){return false;}if(!aa||T.$==aa)return false;
Q[O=='up'||O=='left'?'unshift':'push'](new o(aa));}var ad=T.getDocument(),ae=Y,af=0,ag=0,ah=!P&&new k.documentFragment(ad),ai=0;for(var aj=0;aj<Q.length;aj++){S=Q[aj];var ak=S.getParent(),al=S.getFirst(),am=S.$.colSpan,an=S.$.rowSpan,ao=ak.$.rowIndex,ap=H(V,ao,S);ai+=am*an;ag=Math.max(ag,ap-Z+am);af=Math.max(af,ao-Y+an);if(!P){if(F(S),S.getChildren().count()){if(ao!=ae&&al&&!(al.isBlockBoundary&&al.isBlockBoundary({br:1}))){var aq=ah.getLast(k.walker.whitespaces(true));if(aq&&!(aq.is&&aq.is('br')))ah.append('br');}S.moveChildren(ah);}aj?S.remove():S.setHtml('');}ae=ao;}if(!P){ah.moveChildren(T);if(!j)T.appendBogus();if(ag>=X)T.removeAttribute('rowSpan');else T.$.rowSpan=af;if(af>=W)T.removeAttribute('colSpan');else T.$.colSpan=ag;var ar=new k.nodeList(U.$.rows),as=ar.count();for(aj=as-1;aj>=0;aj--){var at=ar.getItem(aj);if(!at.$.cells.length){at.remove();as++;continue;}}return T;}else return af*ag==ai;};function K(N,O){var P=u(N);if(P.length>1)return false;else if(O)return true;var Q=P[0],R=Q.getParent(),S=R.getAscendant('table'),T=l.buildTableMap(S),U=R.$.rowIndex,V=H(T,U,Q),W=Q.$.rowSpan,X,Y,Z,aa;if(W>1){Y=Math.ceil(W/2);Z=Math.floor(W/2);aa=U+Y;var ab=new o(S.$.rows[aa]),ac=H(T,aa),ad;X=Q.clone();for(var ae=0;ae<ac.length;ae++){ad=ac[ae];if(ad.parentNode==ab.$&&ae>V){X.insertBefore(new o(ad));break;}else ad=null;}if(!ad)ab.append(X,true);}else{Z=Y=1;ab=R.clone();ab.insertAfter(R);ab.append(X=Q.clone());var af=H(T,U);for(var ag=0;ag<af.length;ag++)af[ag].rowSpan++;}if(!j)X.appendBogus();Q.$.rowSpan=Y;X.$.rowSpan=Z;if(Y==1)Q.removeAttribute('rowSpan');if(Z==1)X.removeAttribute('rowSpan');return X;};function L(N,O){var P=u(N);if(P.length>1)return false;else if(O)return true;var Q=P[0],R=Q.getParent(),S=R.getAscendant('table'),T=l.buildTableMap(S),U=R.$.rowIndex,V=H(T,U,Q),W=Q.$.colSpan,X,Y,Z;if(W>1){Y=Math.ceil(W/2);Z=Math.floor(W/2);}else{Z=Y=1;var aa=I(T,V);for(var ab=0;ab<aa.length;ab++)aa[ab].colSpan++;}X=Q.clone();X.insertAfter(Q);if(!j)X.appendBogus();Q.$.colSpan=Y;X.$.colSpan=Z;if(Y==1)Q.removeAttribute('colSpan');if(Z==1)X.removeAttribute('colSpan');return X;};var M={thead:1,tbody:1,tfoot:1,td:1,tr:1,th:1};q.tabletools={init:function(N){var O=N.lang.table;N.addCommand('cellProperties',new h.dialogCommand('cellProperties'));h.dialog.add('cellProperties',this.path+'dialogs/tableCell.js');N.addCommand('tableDelete',{exec:function(P){var Q=P.getSelection(),R=Q&&Q.getStartElement(),S=R&&R.getAscendant('table',1);if(!S)return;Q.selectElement(S);var T=Q.getRanges()[0];
T.collapse();Q.selectRanges([T]);var U=S.getParent();if(U.getChildCount()==1&&!U.is('body','td','th'))U.remove();else S.remove();}});N.addCommand('rowDelete',{exec:function(P){var Q=P.getSelection();G(x(Q));}});N.addCommand('rowInsertBefore',{exec:function(P){var Q=P.getSelection();w(Q,true);}});N.addCommand('rowInsertAfter',{exec:function(P){var Q=P.getSelection();w(Q);}});N.addCommand('columnDelete',{exec:function(P){var Q=P.getSelection(),R=B(Q);R&&G(R,true);}});N.addCommand('columnInsertBefore',{exec:function(P){var Q=P.getSelection();A(Q,true);}});N.addCommand('columnInsertAfter',{exec:function(P){var Q=P.getSelection();A(Q);}});N.addCommand('cellDelete',{exec:function(P){var Q=P.getSelection();E(Q);}});N.addCommand('cellMerge',{exec:function(P){G(J(P.getSelection()),true);}});N.addCommand('cellMergeRight',{exec:function(P){G(J(P.getSelection(),'right'),true);}});N.addCommand('cellMergeDown',{exec:function(P){G(J(P.getSelection(),'down'),true);}});N.addCommand('cellVerticalSplit',{exec:function(P){G(K(P.getSelection()));}});N.addCommand('cellHorizontalSplit',{exec:function(P){G(L(P.getSelection()));}});N.addCommand('cellInsertBefore',{exec:function(P){var Q=P.getSelection();D(Q,true);}});N.addCommand('cellInsertAfter',{exec:function(P){var Q=P.getSelection();D(Q);}});if(N.addMenuItems)N.addMenuItems({tablecell:{label:O.cell.menu,group:'tablecell',order:1,getItems:function(){var P=N.getSelection(),Q=u(P);return{tablecell_insertBefore:2,tablecell_insertAfter:2,tablecell_delete:2,tablecell_merge:J(P,null,true)?2:0,tablecell_merge_right:J(P,'right',true)?2:0,tablecell_merge_down:J(P,'down',true)?2:0,tablecell_split_vertical:K(P,true)?2:0,tablecell_split_horizontal:L(P,true)?2:0,tablecell_properties:Q.length>0?2:0};}},tablecell_insertBefore:{label:O.cell.insertBefore,group:'tablecell',command:'cellInsertBefore',order:5},tablecell_insertAfter:{label:O.cell.insertAfter,group:'tablecell',command:'cellInsertAfter',order:10},tablecell_delete:{label:O.cell.deleteCell,group:'tablecell',command:'cellDelete',order:15},tablecell_merge:{label:O.cell.merge,group:'tablecell',command:'cellMerge',order:16},tablecell_merge_right:{label:O.cell.mergeRight,group:'tablecell',command:'cellMergeRight',order:17},tablecell_merge_down:{label:O.cell.mergeDown,group:'tablecell',command:'cellMergeDown',order:18},tablecell_split_horizontal:{label:O.cell.splitHorizontal,group:'tablecell',command:'cellHorizontalSplit',order:19},tablecell_split_vertical:{label:O.cell.splitVertical,group:'tablecell',command:'cellVerticalSplit',order:20},tablecell_properties:{label:O.cell.title,group:'tablecellproperties',command:'cellProperties',order:21},tablerow:{label:O.row.menu,group:'tablerow',order:1,getItems:function(){return{tablerow_insertBefore:2,tablerow_insertAfter:2,tablerow_delete:2};
}},tablerow_insertBefore:{label:O.row.insertBefore,group:'tablerow',command:'rowInsertBefore',order:5},tablerow_insertAfter:{label:O.row.insertAfter,group:'tablerow',command:'rowInsertAfter',order:10},tablerow_delete:{label:O.row.deleteRow,group:'tablerow',command:'rowDelete',order:15},tablecolumn:{label:O.column.menu,group:'tablecolumn',order:1,getItems:function(){return{tablecolumn_insertBefore:2,tablecolumn_insertAfter:2,tablecolumn_delete:2};}},tablecolumn_insertBefore:{label:O.column.insertBefore,group:'tablecolumn',command:'columnInsertBefore',order:5},tablecolumn_insertAfter:{label:O.column.insertAfter,group:'tablecolumn',command:'columnInsertAfter',order:10},tablecolumn_delete:{label:O.column.deleteColumn,group:'tablecolumn',command:'columnDelete',order:15}});if(N.contextMenu)N.contextMenu.addListener(function(P,Q){if(!P||P.isReadOnly())return null;while(P){if(P.getName() in M)return{tablecell:2,tablerow:2,tablecolumn:2};P=P.getParent();}return null;});},getSelectedCells:u};q.add('tabletools',q.tabletools);})();l.buildTableMap=function(t){var u=t.$.rows,v=-1,w=[];for(var x=0;x<u.length;x++){v++;!w[v]&&(w[v]=[]);var y=-1;for(var z=0;z<u[x].cells.length;z++){var A=u[x].cells[z];y++;while(w[v][y])y++;var B=isNaN(A.colSpan)?1:A.colSpan,C=isNaN(A.rowSpan)?1:A.rowSpan;for(var D=0;D<C;D++){if(!w[v+D])w[v+D]=[];for(var E=0;E<B;E++)w[v+D][y+E]=u[x].cells[z];}y+=B-1;}}return w;};q.add('specialchar',{availableLangs:{en:1},init:function(t){var u='specialchar',v=this;h.dialog.add(u,this.path+'dialogs/specialchar.js');t.addCommand(u,{exec:function(){var w=t.langCode;w=v.availableLangs[w]?w:'en';h.scriptLoader.load(h.getUrl(v.path+'lang/'+w+'.js'),function(){l.extend(t.lang.specialChar,v.lang[w]);t.openDialog(u);});},modes:{wysiwyg:1},canUndo:false});t.ui.addButton('SpecialChar',{label:t.lang.specialChar.toolbar,command:u});}});p.specialChars=['!','&quot;','#','$','%','&amp;',"'",'(',')','*','+','-','.','/','0','1','2','3','4','5','6','7','8','9',':',';','&lt;','=','&gt;','?','@','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z','[',']','^','_','`','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','{','|','}','~','&euro;','&lsquo;','&rsquo;','&ldquo;','&rdquo;','&ndash;','&mdash;','&iexcl;','&cent;','&pound;','&curren;','&yen;','&brvbar;','&sect;','&uml;','&copy;','&ordf;','&laquo;','&not;','&reg;','&macr;','&deg;','&','&sup2;','&sup3;','&acute;','&micro;','&para;','&middot;','&cedil;','&sup1;','&ordm;','&','&frac14;','&frac12;','&frac34;','&iquest;','&Agrave;','&Aacute;','&Acirc;','&Atilde;','&Auml;','&Aring;','&AElig;','&Ccedil;','&Egrave;','&Eacute;','&Ecirc;','&Euml;','&Igrave;','&Iacute;','&Icirc;','&Iuml;','&ETH;','&Ntilde;','&Ograve;','&Oacute;','&Ocirc;','&Otilde;','&Ouml;','&times;','&Oslash;','&Ugrave;','&Uacute;','&Ucirc;','&Uuml;','&Yacute;','&THORN;','&szlig;','&agrave;','&aacute;','&acirc;','&atilde;','&auml;','&aring;','&aelig;','&ccedil;','&egrave;','&eacute;','&ecirc;','&euml;','&igrave;','&iacute;','&icirc;','&iuml;','&eth;','&ntilde;','&ograve;','&oacute;','&ocirc;','&otilde;','&ouml;','&divide;','&oslash;','&ugrave;','&uacute;','&ucirc;','&uuml;','&uuml;','&yacute;','&thorn;','&yuml;','&OElig;','&oelig;','&#372;','&#374','&#373','&#375;','&sbquo;','&#8219;','&bdquo;','&hellip;','&trade;','&#9658;','&bull;','&rarr;','&rArr;','&hArr;','&diams;','&asymp;'];
(function(){var t={editorFocus:false,modes:{wysiwyg:1,source:1}},u={exec:function(x){x.container.focusNext(true,x.tabIndex);}},v={exec:function(x){x.container.focusPrevious(true,x.tabIndex);}};function w(x){return{editorFocus:false,canUndo:false,modes:{wysiwyg:1},exec:function(y){if(y.focusManager.hasFocus){var z=y.getSelection(),A=z.getCommonAncestor(),B;if(B=A.getAscendant('td',true)||A.getAscendant('th',true)){var C=new k.range(y.document),D=l.tryThese(function(){var K=B.getParent(),L=K.$.cells[B.$.cellIndex+(x?-1:1)];L.parentNode.parentNode;return L;},function(){var K=B.getParent(),L=K.getAscendant('table'),M=L.$.rows[K.$.rowIndex+(x?-1:1)];return M.cells[x?M.cells.length-1:0];});if(!(D||x)){var E=B.getAscendant('table').$,F=B.getParent().$.cells,G=new o(E.insertRow(-1),y.document);for(var H=0,I=F.length;H<I;H++){var J=G.append(new o(F[H],y.document).clone(false,false));!j&&J.appendBogus();}C.moveToElementEditStart(G);}else if(D){D=new o(D);C.moveToElementEditStart(D);if(!(C.checkStartOfBlock()&&C.checkEndOfBlock()))C.selectNodeContents(D);}else return true;C.select(true);return true;}}return false;}};};q.add('tab',{requires:['keystrokes'],init:function(x){var y=x.config.enableTabKeyTools!==false,z=x.config.tabSpaces||0,A='';while(z--)A+='\xa0';if(A)x.on('key',function(B){if(B.data.keyCode==9){x.insertHtml(A);B.cancel();}});if(y)x.on('key',function(B){if(B.data.keyCode==9&&x.execCommand('selectNextCell')||B.data.keyCode==2000+9&&x.execCommand('selectPreviousCell'))B.cancel();});if(i.webkit||i.gecko)x.on('key',function(B){var C=B.data.keyCode;if(C==9&&!A){B.cancel();x.execCommand('blur');}if(C==2000+9){x.execCommand('blurBack');B.cancel();}});x.addCommand('blur',l.extend(u,t));x.addCommand('blurBack',l.extend(v,t));x.addCommand('selectNextCell',w());x.addCommand('selectPreviousCell',w(true));}});})();o.prototype.focusNext=function(t,u){var D=this;var v=D.$,w=u===undefined?D.getTabIndex():u,x,y,z,A,B,C;if(w<=0){B=D.getNextSourceNode(t,1);while(B){if(B.isVisible()&&B.getTabIndex()===0){z=B;break;}B=B.getNextSourceNode(false,1);}}else{B=D.getDocument().getBody().getFirst();while(B=B.getNextSourceNode(false,1)){if(!x)if(!y&&B.equals(D)){y=true;if(t){if(!(B=B.getNextSourceNode(true,1)))break;x=1;}}else if(y&&!D.contains(B))x=1;if(!B.isVisible()||(C=B.getTabIndex())<0)continue;if(x&&C==w){z=B;break;}if(C>w&&(!z||!A||C<A)){z=B;A=C;}else if(!z&&C===0){z=B;A=C;}}}if(z)z.focus();};o.prototype.focusPrevious=function(t,u){var D=this;var v=D.$,w=u===undefined?D.getTabIndex():u,x,y,z,A=0,B,C=D.getDocument().getBody().getLast();
while(C=C.getPreviousSourceNode(false,1)){if(!x)if(!y&&C.equals(D)){y=true;if(t){if(!(C=C.getPreviousSourceNode(true,1)))break;x=1;}}else if(y&&!D.contains(C))x=1;if(!C.isVisible()||(B=C.getTabIndex())<0)continue;if(w<=0){if(x&&B===0){z=C;break;}if(B>A){z=C;A=B;}}else{if(x&&B==w){z=C;break;}if(B<w&&(!z||B>A)){z=C;A=B;}}}if(z)z.focus();};(function(){q.add('templates',{requires:['dialog'],init:function(v){h.dialog.add('templates',h.getUrl(this.path+'dialogs/templates.js'));v.addCommand('templates',new h.dialogCommand('templates'));v.ui.addButton('Templates',{label:v.lang.templates.button,command:'templates'});}});var t={},u={};h.addTemplates=function(v,w){t[v]=w;};h.getTemplates=function(v){return t[v];};h.loadTemplates=function(v,w){var x=[];for(var y=0,z=v.length;y<z;y++){if(!u[v[y]]){x.push(v[y]);u[v[y]]=1;}}if(x.length)h.scriptLoader.load(x,w);else setTimeout(w,0);};})();p.templates_files=[h.getUrl('plugins/templates/templates/default.js')];p.templates_replaceContent=true;(function(){var t=function(){this.toolbars=[];this.focusCommandExecuted=false;};t.prototype.focus=function(){for(var v=0,w;w=this.toolbars[v++];)for(var x=0,y;y=w.items[x++];){if(y.focus){y.focus();return;}}};var u={toolbarFocus:{modes:{wysiwyg:1,source:1},exec:function(v){if(v.toolbox){v.toolbox.focusCommandExecuted=true;if(j||i.air)setTimeout(function(){v.toolbox.focus();},100);else v.toolbox.focus();}}}};q.add('toolbar',{init:function(v){var w=function(x,y){var z,A,B,C=v.lang.dir=='rtl';switch(y){case C?37:39:case 9:do{z=x.next;if(!z){A=x.toolbar.next;B=A&&A.items.length;while(B===0){A=A.next;B=A&&A.items.length;}if(A)z=A.items[0];}x=z;}while(x&&!x.focus)if(x)x.focus();else v.toolbox.focus();return false;case C?39:37:case 2000+9:do{z=x.previous;if(!z){A=x.toolbar.previous;B=A&&A.items.length;while(B===0){A=A.previous;B=A&&A.items.length;}if(A)z=A.items[B-1];}x=z;}while(x&&!x.focus)if(x)x.focus();else{var D=v.toolbox.toolbars[v.toolbox.toolbars.length-1].items;D[D.length-1].focus();}return false;case 27:v.focus();return false;case 13:case 32:x.execute();return false;}return true;};v.on('themeSpace',function(x){if(x.data.space==v.config.toolbarLocation){v.toolbox=new t();var y=l.getNextId(),z=['<div class="cke_toolbox" role="toolbar" aria-labelledby="',y,'" onmousedown="return false;"'],A=v.config.toolbarStartupExpanded!==false,B;z.push(A?'>':' style="display:none">');z.push('<span id="',y,'" class="cke_voice_label">',v.lang.toolbar,'</span>');var C=v.toolbox.toolbars,D=v.config.toolbar instanceof Array?v.config.toolbar:v.config['toolbar_'+v.config.toolbar];
for(var E=0;E<D.length;E++){var F=D[E];if(!F)continue;var G=l.getNextId(),H={id:G,items:[]};if(B){z.push('</div>');B=0;}if(F==='/'){z.push('<div class="cke_break"></div>');continue;}z.push('<span id="',G,'" class="cke_toolbar" role="presentation"><span class="cke_toolbar_start"></span>');var I=C.push(H)-1;if(I>0){H.previous=C[I-1];H.previous.next=H;}for(var J=0;J<F.length;J++){var K,L=F[J];if(L=='-')K=r.separator;else K=v.ui.create(L);if(K){if(K.canGroup){if(!B){z.push('<span class="cke_toolgroup" role="presentation">');B=1;}}else if(B){z.push('</span>');B=0;}var M=K.render(v,z);I=H.items.push(M)-1;if(I>0){M.previous=H.items[I-1];M.previous.next=M;}M.toolbar=H;M.onkey=w;M.onfocus=function(){if(!v.toolbox.focusCommandExecuted)v.focus();};}}if(B){z.push('</span>');B=0;}z.push('<span class="cke_toolbar_end"></span></span>');}z.push('</div>');if(v.config.toolbarCanCollapse){var N=l.addFunction(function(){v.execCommand('toolbarCollapse');});v.on('destroy',function(){l.removeFunction(N);});var O=l.getNextId();v.addCommand('toolbarCollapse',{exec:function(P){var Q=h.document.getById(O),R=Q.getPrevious(),S=P.getThemeSpace('contents'),T=R.getParent(),U=parseInt(S.$.style.height,10),V=T.$.offsetHeight,W=!R.isVisible();if(!W){R.hide();Q.addClass('cke_toolbox_collapser_min');Q.setAttribute('title',P.lang.toolbarExpand);}else{R.show();Q.removeClass('cke_toolbox_collapser_min');Q.setAttribute('title',P.lang.toolbarCollapse);}Q.getFirst().setText(W?'▲':'◀');var X=T.$.offsetHeight-V;S.setStyle('height',U-X+'px');P.fire('resize');},modes:{wysiwyg:1,source:1}});z.push('<a title="'+(A?v.lang.toolbarCollapse:v.lang.toolbarExpand)+'" id="'+O+'" tabIndex="-1" class="cke_toolbox_collapser');if(!A)z.push(' cke_toolbox_collapser_min');z.push('" onclick="CKEDITOR.tools.callFunction('+N+')">','<span>&#9650;</span>','</a>');}x.data.html+=z.join('');}});v.on('destroy',function(){var x,y=0,z,A,B;x=this.toolbox.toolbars;for(;y<x.length;y++){A=x[y].items;for(z=0;z<A.length;z++){B=A[z];if(B.clickFn)l.removeFunction(B.clickFn);if(B.keyDownFn)l.removeFunction(B.keyDownFn);if(B.index)r.button._.instances[B.index]=null;}}});v.addCommand('toolbarFocus',u.toolbarFocus);}});})();r.separator={render:function(t,u){u.push('<span class="cke_separator" role="separator"></span>');return{};}};p.toolbarLocation='top';p.toolbar_Basic=[['Bold','Italic','-','NumberedList','BulletedList','-','Link','Unlink','-','About']];p.toolbar_Full=[['Source','-','Save','NewPage','Preview','-','Templates'],['Cut','Copy','Paste','PasteText','PasteFromWord','-','Print','SpellChecker','Scayt'],['Undo','Redo','-','Find','Replace','-','SelectAll','RemoveFormat'],['Form','Checkbox','Radio','TextField','Textarea','Select','Button','ImageButton','HiddenField'],'/',['Bold','Italic','Underline','Strike','-','Subscript','Superscript'],['NumberedList','BulletedList','-','Outdent','Indent','Blockquote','CreateDiv'],['JustifyLeft','JustifyCenter','JustifyRight','JustifyBlock'],['BidiLtr','BidiRtl'],['Link','Unlink','Anchor'],['Image','Flash','Table','HorizontalRule','Smiley','SpecialChar','PageBreak','Iframe'],'/',['Styles','Format','Font','FontSize'],['TextColor','BGColor'],['Maximize','ShowBlocks','-','About']];
p.toolbar='Full';p.toolbarCanCollapse=true;(function(){q.add('undo',{requires:['selection','wysiwygarea'],init:function(z){var A=new v(z),B=z.addCommand('undo',{exec:function(){if(A.undo()){z.selectionChange();this.fire('afterUndo');}},state:0,canUndo:false}),C=z.addCommand('redo',{exec:function(){if(A.redo()){z.selectionChange();this.fire('afterRedo');}},state:0,canUndo:false});A.onChange=function(){B.setState(A.undoable()?2:0);C.setState(A.redoable()?2:0);};function D(E){if(A.enabled&&E.data.command.canUndo!==false)A.save();};z.on('beforeCommandExec',D);z.on('afterCommandExec',D);z.on('saveSnapshot',function(){A.save();});z.on('contentDom',function(){z.document.on('keydown',function(E){if(!E.data.$.ctrlKey&&!E.data.$.metaKey)A.type(E);});});z.on('beforeModeUnload',function(){z.mode=='wysiwyg'&&A.save(true);});z.on('mode',function(){A.enabled=z.mode=='wysiwyg';A.onChange();});z.ui.addButton('Undo',{label:z.lang.undo,command:'undo'});z.ui.addButton('Redo',{label:z.lang.redo,command:'redo'});z.resetUndo=function(){A.reset();z.fire('saveSnapshot');};z.on('updateSnapshot',function(){if(A.currentImage&&new t(z).equals(A.currentImage))setTimeout(function(){A.update();},0);});}});q.undo={};var t=q.undo.Image=function(z){this.editor=z;var A=z.getSnapshot(),B=A&&z.getSelection();j&&A&&(A=A.replace(/\s+data-cke-expando=".*?"/g,''));this.contents=A;this.bookmarks=B&&B.createBookmarks2(true);},u=/\b(?:href|src|name)="[^"]*?"/gi;t.prototype={equals:function(z,A){var B=this.contents,C=z.contents;if(j&&(i.ie7Compat||i.ie6Compat)){B=B.replace(u,'');C=C.replace(u,'');}if(B!=C)return false;if(A)return true;var D=this.bookmarks,E=z.bookmarks;if(D||E){if(!D||!E||D.length!=E.length)return false;for(var F=0;F<D.length;F++){var G=D[F],H=E[F];if(G.startOffset!=H.startOffset||G.endOffset!=H.endOffset||!l.arrayCompare(G.start,H.start)||!l.arrayCompare(G.end,H.end))return false;}}return true;}};function v(z){this.editor=z;this.reset();};var w={8:1,46:1},x={16:1,17:1,18:1},y={37:1,38:1,39:1,40:1};v.prototype={type:function(z){var A=z&&z.data.getKey(),B=A in x,C=A in w,D=this.lastKeystroke in w,E=C&&A==this.lastKeystroke,F=A in y,G=this.lastKeystroke in y,H=!C&&!F,I=C&&!E,J=!(B||this.typing)||H&&(D||G);if(J||I){var K=new t(this.editor);l.setTimeout(function(){var M=this;var L=M.editor.getSnapshot();if(j)L=L.replace(/\s+data-cke-expando=".*?"/g,'');if(K.contents!=L){M.typing=true;if(!M.save(false,K,false))M.snapshots.splice(M.index+1,M.snapshots.length-M.index-1);M.hasUndo=true;M.hasRedo=false;
M.typesCount=1;M.modifiersCount=1;M.onChange();}},0,this);}this.lastKeystroke=A;if(C){this.typesCount=0;this.modifiersCount++;if(this.modifiersCount>25){this.save(false,null,false);this.modifiersCount=1;}}else if(!F){this.modifiersCount=0;this.typesCount++;if(this.typesCount>25){this.save(false,null,false);this.typesCount=1;}}},reset:function(){var z=this;z.lastKeystroke=0;z.snapshots=[];z.index=-1;z.limit=z.editor.config.undoStackSize||20;z.currentImage=null;z.hasUndo=false;z.hasRedo=false;z.resetType();},resetType:function(){var z=this;z.typing=false;delete z.lastKeystroke;z.typesCount=0;z.modifiersCount=0;},fireChange:function(){var z=this;z.hasUndo=!!z.getNextImage(true);z.hasRedo=!!z.getNextImage(false);z.resetType();z.onChange();},save:function(z,A,B){var D=this;var C=D.snapshots;if(!A)A=new t(D.editor);if(A.contents===false)return false;if(D.currentImage&&A.equals(D.currentImage,z))return false;C.splice(D.index+1,C.length-D.index-1);if(C.length==D.limit)C.shift();D.index=C.push(A)-1;D.currentImage=A;if(B!==false)D.fireChange();return true;},restoreImage:function(z){var B=this;B.editor.loadSnapshot(z.contents);if(z.bookmarks)B.editor.getSelection().selectBookmarks(z.bookmarks);else if(j){var A=B.editor.document.getBody().$.createTextRange();A.collapse(true);A.select();}B.index=z.index;B.update();B.fireChange();},getNextImage:function(z){var E=this;var A=E.snapshots,B=E.currentImage,C,D;if(B)if(z)for(D=E.index-1;D>=0;D--){C=A[D];if(!B.equals(C,true)){C.index=D;return C;}}else for(D=E.index+1;D<A.length;D++){C=A[D];if(!B.equals(C,true)){C.index=D;return C;}}return null;},redoable:function(){return this.enabled&&this.hasRedo;},undoable:function(){return this.enabled&&this.hasUndo;},undo:function(){var A=this;if(A.undoable()){A.save(true);var z=A.getNextImage(true);if(z)return A.restoreImage(z),true;}return false;},redo:function(){var A=this;if(A.redoable()){A.save(true);if(A.redoable()){var z=A.getNextImage(false);if(z)return A.restoreImage(z),true;}}return false;},update:function(){var z=this;z.snapshots.splice(z.index,1,z.currentImage=new t(z.editor));}};})();(function(){var t={table:1,pre:1},u=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,v=k.walker.whitespaces(true);function w(K){return K.getName() in t||K.isBlockBoundary()&&m.$empty[K.getName()];};function x(K){return function(L){if(this.mode=='wysiwyg'){this.focus();this.fire('saveSnapshot');K.call(this,L.data);l.setTimeout(function(){this.fire('saveSnapshot');
},0,this);}};};function y(K){var Q=this;if(Q.dataProcessor)K=Q.dataProcessor.toHtml(K);var L=Q.getSelection(),M=L.getRanges()[0];if(M.checkReadOnly())return;if(j){var N=L.isLocked;if(N)L.unlock();var O=L.getNative();if(O.type=='Control')O.clear();else if(L.getType()==2){M=L.getRanges()[0];var P=M&&M.endContainer;if(P&&P.type==1&&P.getAttribute('contenteditable')=='false'&&M.checkBoundaryOfElement(P,2)){M.setEndAfter(M.endContainer);M.deleteContents();}}try{O.createRange().pasteHTML(K);}catch(R){}if(N)Q.getSelection().lock();}else Q.document.$.execCommand('inserthtml',false,K);if(i.webkit){L=Q.getSelection();L.scrollIntoView();}};function z(K){var L=this.getSelection(),M=L.getStartElement().hasAscendant('pre',true)?2:this.config.enterMode,N=M==2,O=l.htmlEncode(K.replace(/\r\n|\r/g,'\n'));O=O.replace(/^[ \t]+|[ \t]+$/g,function(U,V,W){if(U.length==1)return '&nbsp;';else if(!V)return l.repeat('&nbsp;',U.length-1)+' ';else return ' '+l.repeat('&nbsp;',U.length-1);});O=O.replace(/[ \t]{2,}/g,function(U){return l.repeat('&nbsp;',U.length-1)+' ';});var P=M==1?'p':'div';if(!N)O=O.replace(/(\n{2})([\s\S]*?)(?:$|\1)/g,function(U,V,W){return '<'+P+'>'+W+'</'+P+'>';});O=O.replace(/\n/g,'<br>');if(!(N||j))O=O.replace(new RegExp('<br>(?=</'+P+'>)'),function(U){return l.repeat(U,2);});if(i.gecko||i.webkit){var Q=new k.elementPath(L.getStartElement()),R=[];for(var S=0;S<Q.elements.length;S++){var T=Q.elements[S].getName();if(T in m.$inline)R.unshift(Q.elements[S].getOuterHtml().match(/^<.*?>/));else if(T in m.$block)break;}O=R.join('')+O;}y.call(this,O);};function A(K){var L=this.getSelection(),M=L.getRanges(),N=K.getName(),O=m.$block[N],P=L.isLocked;if(P)L.unlock();var Q,R,S,T;for(var U=M.length-1;U>=0;U--){Q=M[U];if(!Q.checkReadOnly()){Q.deleteContents(1);R=!U&&K||K.clone(1);var V,W;if(O)while((V=Q.getCommonAncestor(0,1))&&(W=m[V.getName()])&&!(W&&W[N])){if(V.getName() in m.span)Q.splitElement(V);else if(Q.checkStartOfBlock()&&Q.checkEndOfBlock()){Q.setStartBefore(V);Q.collapse(true);V.remove();}else Q.splitBlock();}Q.insertNode(R);if(!S)S=R;}}if(S){Q.moveToPosition(S,4);if(O){var X=S.getNext(v),Y=X&&X.type==1&&X.getName();if(Y&&m.$block[Y]&&m[Y]['#'])Q.moveToElementEditStart(X);}}L.selectRanges([Q]);if(P)this.getSelection().lock();};function B(K){if(!K.checkDirty())setTimeout(function(){K.resetDirty();},0);};var C=k.walker.whitespaces(true),D=k.walker.bookmark(false,true);function E(K){return C(K)&&D(K);};function F(K){return K.type==3&&l.trim(K.getText()).match(/^(?:&nbsp;|\xa0)$/);
};function G(K){if(K.isLocked){K.unlock();setTimeout(function(){K.lock();},0);}};function H(K){return K.getOuterHtml().match(u);};C=k.walker.whitespaces(true);function I(K){var L=K.window,M=K.document,N=K.document.getBody(),O=N.getChildren().count();if(!O||O==1&&N.getFirst().hasAttribute('_moz_editor_bogus_node')){B(K);var P=K.element.getDocument(),Q=P.getDocumentElement(),R=Q.$.scrollTop,S=Q.$.scrollLeft,T=M.$.createEvent('KeyEvents');T.initKeyEvent('keypress',true,true,L.$,false,false,false,false,0,32);M.$.dispatchEvent(T);if(R!=Q.$.scrollTop||S!=Q.$.scrollLeft)P.getWindow().$.scrollTo(S,R);O&&N.getFirst().remove();M.getBody().appendBogus();var U=new k.range(M);U.setStartAt(N,1);U.select();}};function J(K){var L=K.editor,M=K.data.path,N=M.blockLimit,O=K.data.selection,P=O.getRanges()[0],Q=L.document.getBody(),R=L.config.enterMode;if(i.gecko){I(L);var S=M.block||M.blockLimit;if(S&&!S.getBogus()){L.fire('updateSnapshot');B(L);S.appendBogus();}}if(R!=2&&P.collapsed&&N.getName()=='body'&&!M.block){L.fire('updateSnapshot');B(L);j&&G(O);var T=P.fixBlock(true,L.config.enterMode==3?'div':'p');if(j){var U=T.getFirst(E);U&&F(U)&&U.remove();}if(H(T)){var V=T.getNext(C);if(V&&V.type==1&&!w(V)){P.moveToElementEditStart(V);T.remove();}else{V=T.getPrevious(C);if(V&&V.type==1&&!w(V)){P.moveToElementEditEnd(V);T.remove();}}}P.select();if(!j){L.forceNextSelectionCheck();L.selectionChange();}}var W=new k.range(L.document),X=new k.walker(W);W.selectNodeContents(Q);X.evaluator=function(Z){return Z.type==1&&Z.getName() in t;};X.guard=function(Z,aa){return!(Z.type==3&&C(Z)||aa);};if(X.previous()){L.fire('updateSnapshot');B(L);j&&G(O);var Y;if(R!=2)Y=Q.append(new o(R==1?'p':'div'));else Y=Q;if(!j)Y.appendBogus();}};q.add('wysiwygarea',{requires:['editingblock'],init:function(K){var L=K.config.enterMode!=2?K.config.enterMode==3?'div':'p':false,M=K.lang.editorTitle.replace('%1',K.name),N;K.on('editingBlockReady',function(){var T,U,V,W,X,Y,Z=i.isCustomDomain(),aa=function(ad){if(U)U.remove();var ae='document.open();'+(Z?'document.domain="'+document.domain+'";':'')+'document.close();';ae=i.air?'javascript:void(0)':j?'javascript:void(function(){'+encodeURIComponent(ae)+'}())':'';U=o.createFromHtml('<iframe style="width:100%;height:100%" frameBorder="0" title="'+M+'"'+' src="'+ae+'"'+' tabIndex="'+(i.webkit?-1:K.tabIndex)+'"'+' allowTransparency="true"'+'></iframe>');if(document.location.protocol=='chrome:')h.event.useCapture=true;U.on('load',function(ai){X=1;ai.removeListener();var aj=U.getFrameDocument();
aj.write(ad);i.air&&ac(aj.getWindow().$);});if(document.location.protocol=='chrome:')h.event.useCapture=false;var af=K.element,ag=i.gecko&&!af.isVisible(),ah={};if(ag){af.show();ah={position:af.getStyle('position'),top:af.getStyle('top')};af.setStyles({position:'absolute',top:'-3000px'});}T.append(U);if(ag)setTimeout(function(){af.hide();af.setStyles(ah);},1000);};N=l.addFunction(ac);var ab='<script id="cke_actscrpt" type="text/javascript" data-cke-temp="1">'+(Z?'document.domain="'+document.domain+'";':'')+'window.parent.CKEDITOR.tools.callFunction( '+N+', window );'+'</script>';function ac(ad){if(!X)return;X=0;K.fire('ariaWidget',U);var ae=ad.document,af=ae.body,ag=ae.getElementById('cke_actscrpt');ag&&ag.parentNode.removeChild(ag);af.spellcheck=!K.config.disableNativeSpellChecker;if(j){af.hideFocus=true;af.disabled=true;af.contentEditable=true;af.removeAttribute('disabled');}else setTimeout(function(){if(i.gecko&&i.version>=10900||i.opera)ae.$.body.contentEditable=true;else if(i.webkit)ae.$.body.parentNode.contentEditable=true;else ae.$.designMode='on';},0);i.gecko&&l.setTimeout(I,0,null,K);ad=K.window=new k.window(ad);ae=K.document=new n(ae);ae.on('dblclick',function(am){var an=am.data.getTarget(),ao={element:an,dialog:''};K.fire('doubleclick',ao);ao.dialog&&K.openDialog(ao.dialog);});j&&ae.on('click',function(am){var an=am.data.getTarget();if(an.is('input')){var ao=an.getAttribute('type');if(ao=='submit'||ao=='reset')am.data.preventDefault();}});if(!(j||i.opera))ae.on('mousedown',function(am){var an=am.data.getTarget();if(an.is('img','hr','input','textarea','select'))K.getSelection().selectElement(an);});if(i.gecko)ae.on('mouseup',function(am){if(am.data.$.button==2){var an=am.data.getTarget();if(!an.getOuterHtml().replace(u,'')){var ao=new k.range(ae);ao.moveToElementEditStart(an);ao.select(true);}}});ae.on('click',function(am){am=am.data;if(am.getTarget().is('a')&&am.$.button!=2)am.preventDefault();});if(i.webkit){ae.on('click',function(am){if(am.data.getTarget().is('input','select'))am.data.preventDefault();});ae.on('mouseup',function(am){if(am.data.getTarget().is('input','textarea'))am.data.preventDefault();});}if(j&&ae.$.compatMode=='CSS1Compat'||i.gecko||i.opera){var ah=ae.getDocumentElement();ah.on('mousedown',function(am){if(am.data.getTarget().equals(ah)){if(i.gecko&&i.version>=10900)R();S.focus();}});}var ai=j?U:ad;ai.on('blur',function(){K.focusManager.blur();});var aj;ai.on('focus',function(){var am=K.document;if(i.gecko&&i.version>=10900)R();
else if(i.opera)am.getBody().focus();else if(i.webkit)if(!aj){K.document.getDocumentElement().focus();aj=1;}K.focusManager.focus();});var ak=K.keystrokeHandler;if(ak)ak.attach(ae);if(j){ae.getDocumentElement().addClass(ae.$.compatMode);ae.on('keydown',function(am){var an=am.data.getKeystroke();if(an in {8:1,46:1}){var ao=K.getSelection(),ap=ao.getSelectedElement();if(ap){K.fire('saveSnapshot');var aq=ao.getRanges()[0].createBookmark();ap.remove();ao.selectBookmarks([aq]);K.fire('saveSnapshot');am.data.preventDefault();}}});if(ae.$.compatMode=='CSS1Compat'){var al={33:1,34:1};ae.on('keydown',function(am){if(am.data.getKeystroke() in al)setTimeout(function(){K.getSelection().scrollIntoView();},0);});}}if(K.contextMenu)K.contextMenu.addTarget(ae,K.config.browserContextMenuOnCtrl!==false);setTimeout(function(){K.fire('contentDom');if(Y){K.mode='wysiwyg';K.fire('mode');Y=false;}V=false;if(W){K.focus();W=false;}setTimeout(function(){K.fire('dataReady');},0);try{K.document.$.execCommand('enableInlineTableEditing',false,!K.config.disableNativeTableHandles);}catch(am){}if(K.config.disableObjectResizing)try{K.document.$.execCommand('enableObjectResizing',false,false);}catch(an){K.document.getBody().on(j?'resizestart':'resize',function(ao){ao.data.preventDefault();});}if(j)setTimeout(function(){if(K.document){var ao=K.document.$.body;ao.runtimeStyle.marginBottom='0px';ao.runtimeStyle.marginBottom='';}},1000);},0);};K.addMode('wysiwyg',{load:function(ad,ae,af){T=ad;if(j&&i.quirks)ad.setStyle('position','relative');K.mayBeDirty=true;Y=true;if(af)this.loadSnapshotData(ae);else this.loadData(ae);},loadData:function(ad){V=true;var ae=K.config,af=ae.fullPage,ag=ae.docType,ah='<style type="text/css" data-cke-temp="1">'+K._.styles.join('\n')+'</style>';!af&&(ah=l.buildStyleHtml(K.config.contentsCss)+ah);var ai=ae.baseHref?'<base href="'+ae.baseHref+'" data-cke-temp="1" />':'';if(af)ad=ad.replace(/<!DOCTYPE[^>]*>/i,function(aj){K.docType=ag=aj;return '';});if(K.dataProcessor)ad=K.dataProcessor.toHtml(ad,L);if(af){if(!/<body[\s|>]/.test(ad))ad='<body>'+ad;if(!/<html[\s|>]/.test(ad))ad='<html>'+ad+'</html>';if(!/<head[\s|>]/.test(ad))ad=ad.replace(/<html[^>]*>/,'$&<head><title></title></head>');else if(!/<title[\s|>]/.test(ad))ad=ad.replace(/<head[^>]*>/,'$&<title></title>');ai&&(ad=ad.replace(/<head>/,'$&'+ai));ad=ad.replace(/<\/head\s*>/,ah+'$&');ad=ag+ad;}else ad=ae.docType+'<html dir="'+ae.contentsLangDirection+'"'+' lang="'+(ae.contentsLanguage||K.langCode)+'">'+'<head>'+'<title>'+M+'</title>'+ai+ah+'</head>'+'<body'+(ae.bodyId?' id="'+ae.bodyId+'"':'')+(ae.bodyClass?' class="'+ae.bodyClass+'"':'')+'>'+ad+'</html>';
ad+=ab;this.onDispose();aa(ad);},getData:function(){var ad=K.config,ae=ad.fullPage,af=ae&&K.docType,ag=U.getFrameDocument(),ah=ae?ag.getDocumentElement().getOuterHtml():ag.getBody().getHtml();if(K.dataProcessor)ah=K.dataProcessor.toDataFormat(ah,L);if(ad.ignoreEmptyParagraph)ah=ah.replace(u,function(ai,aj){return aj;});if(af)ah=af+'\n'+ah;return ah;},getSnapshotData:function(){return U.getFrameDocument().getBody().getHtml();},loadSnapshotData:function(ad){U.getFrameDocument().getBody().setHtml(ad);},onDispose:function(){if(!K.document)return;K.document.getDocumentElement().clearCustomData();K.document.getBody().clearCustomData();K.window.clearCustomData();K.document.clearCustomData();U.clearCustomData();U.remove();},unload:function(ad){this.onDispose();K.window=K.document=U=T=W=null;K.fire('contentDomUnload');},focus:function(){var ad=K.window;if(V)W=true;else if(i.opera&&K.document){var ae=K.window.$.frameElement;ae.blur(),ae.focus();K.document.getBody().focus();K.selectionChange();}else if(!i.opera&&ad){i.air?setTimeout(function(){ad.focus();},0):ad.focus();K.selectionChange();}}});K.on('insertHtml',x(y),null,null,20);K.on('insertElement',x(A),null,null,20);K.on('insertText',x(z),null,null,20);K.on('selectionChange',J,null,null,1);});var O;K.on('contentDom',function(){var T=K.document.getElementsByTag('title').getItem(0);T.data('cke-title',K.document.$.title);K.document.$.title=M;});if(i.ie8Compat){K.addCss('html.CSS1Compat [contenteditable=false]{ min-height:0 !important;}');var P=[];for(var Q in m.$removeEmpty)P.push('html.CSS1Compat '+Q+'[contenteditable=false]');K.addCss(P.join(',')+'{ display:inline-block;}');}else if(i.gecko)K.addCss('html { height: 100% !important; }');function R(T){l.tryThese(function(){K.document.$.designMode='on';setTimeout(function(){K.document.$.designMode='off';if(h.currentInstance==K)K.document.getBody().focus();},50);},function(){K.document.$.designMode='off';var U=K.document.getBody();U.setAttribute('contentEditable',false);U.setAttribute('contentEditable',true);!T&&R(1);});};if(i.gecko||j||i.opera){var S;K.on('uiReady',function(){S=K.container.append(o.createFromHtml('<span tabindex="-1" style="position:absolute;" role="presentation"></span>'));S.on('focus',function(){K.focus();});K.focusGrabber=S;});K.on('destroy',function(){l.removeFunction(N);S.clearCustomData();delete K.focusGrabber;});}K.on('insertElement',function(T){var U=T.data;if(U.type==1&&(U.is('input')||U.is('textarea'))){if(!U.isReadOnly())U.data('cke-editable',U.hasAttribute('contenteditable')?'true':'1');
U.setAttribute('contentEditable',false);}});}});if(i.gecko)(function(){var K=document.body;if(!K)window.addEventListener('load',arguments.callee,false);else{var L=K.getAttribute('onpageshow');K.setAttribute('onpageshow',(L?L+';':'')+'event.persisted && (function(){'+'var allInstances = CKEDITOR.instances, editor, doc;'+'for ( var i in allInstances )'+'{'+'\teditor = allInstances[ i ];'+'\tdoc = editor.document;'+'\tif ( doc )'+'\t{'+'\t\tdoc.$.designMode = "off";'+'\t\tdoc.$.designMode = "on";'+'\t}'+'}'+'})();');}})();})();p.disableObjectResizing=false;p.disableNativeTableHandles=true;p.disableNativeSpellChecker=true;p.ignoreEmptyParagraph=true;q.add('wsc',{requires:['dialog'],init:function(t){var u='checkspell',v=t.addCommand(u,new h.dialogCommand(u));v.modes={wysiwyg:!i.opera&&!i.air&&document.domain==window.location.hostname};t.ui.addButton('SpellChecker',{label:t.lang.spellCheck.toolbar,command:u});h.dialog.add(u,this.path+'dialogs/wsc.js');}});p.wsc_customerId=p.wsc_customerId||'1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk';p.wsc_customLoaderScript=p.wsc_customLoaderScript||null;h.DIALOG_RESIZE_NONE=0;h.DIALOG_RESIZE_WIDTH=1;h.DIALOG_RESIZE_HEIGHT=2;h.DIALOG_RESIZE_BOTH=3;(function(){var t=l.cssLength;function u(W){return!!this._.tabs[W][0].$.offsetHeight;};function v(){var aa=this;var W=aa._.currentTabId,X=aa._.tabIdList.length,Y=l.indexOf(aa._.tabIdList,W)+X;for(var Z=Y-1;Z>Y-X;Z--){if(u.call(aa,aa._.tabIdList[Z%X]))return aa._.tabIdList[Z%X];}return null;};function w(){var aa=this;var W=aa._.currentTabId,X=aa._.tabIdList.length,Y=l.indexOf(aa._.tabIdList,W);for(var Z=Y+1;Z<Y+X;Z++){if(u.call(aa,aa._.tabIdList[Z%X]))return aa._.tabIdList[Z%X];}return null;};function x(W,X){var Y=W.$.getElementsByTagName('input');for(var Z=0,aa=Y.length;Z<aa;Z++){var ab=new o(Y[Z]);if(ab.getAttribute('type').toLowerCase()=='text')if(X){ab.setAttribute('value',ab.getCustomData('fake_value')||'');ab.removeCustomData('fake_value');}else{ab.setCustomData('fake_value',ab.getAttribute('value'));ab.setAttribute('value','');}}};h.dialog=function(W,X){var Y=h.dialog._.dialogDefinitions[X],Z=l.clone(z),aa=W.config.dialog_buttonsOrder||'OS',ab=W.lang.dir;if(aa=='OS'&&i.mac||aa=='rtl'&&ab=='ltr'||aa=='ltr'&&ab=='rtl')Z.buttons.reverse();Y=l.extend(Y(W),Z);Y=l.clone(Y);Y=new D(this,Y);var ac=h.document,ad=W.theme.buildDialog(W);this._={editor:W,element:ad.element,name:X,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:false,focusList:[],currentFocusIndex:0,hasFocus:false};
this.parts=ad.parts;l.setTimeout(function(){W.fire('ariaWidget',this.parts.contents);},0,this);this.parts.dialog.setStyles({position:i.ie6Compat?'absolute':'fixed',top:0,left:0,visibility:'hidden'});h.event.call(this);this.definition=Y=h.fire('dialogDefinition',{name:X,definition:Y},W).definition;var ae={};if(!('removeDialogTabs' in W._)&&W.config.removeDialogTabs){var af=W.config.removeDialogTabs.split(';');for(i=0;i<af.length;i++){var ag=af[i].split(':');if(ag.length==2){var ah=ag[0];if(!ae[ah])ae[ah]=[];ae[ah].push(ag[1]);}}W._.removeDialogTabs=ae;}if(W._.removeDialogTabs&&(ae=W._.removeDialogTabs[X]))for(i=0;i<ae.length;i++)Y.removeContents(ae[i]);if(Y.onLoad)this.on('load',Y.onLoad);if(Y.onShow)this.on('show',Y.onShow);if(Y.onHide)this.on('hide',Y.onHide);if(Y.onOk)this.on('ok',function(au){W.fire('saveSnapshot');setTimeout(function(){W.fire('saveSnapshot');},0);if(Y.onOk.call(this,au)===false)au.data.hide=false;});if(Y.onCancel)this.on('cancel',function(au){if(Y.onCancel.call(this,au)===false)au.data.hide=false;});var ai=this,aj=function(au){var av=ai._.contents,aw=false;for(var ax in av)for(var ay in av[ax]){aw=au.call(this,av[ax][ay]);if(aw)return;}};this.on('ok',function(au){aj(function(av){if(av.validate){var aw=av.validate(this);if(typeof aw=='string'){alert(aw);aw=false;}if(aw===false){if(av.select)av.select();else av.focus();au.data.hide=false;au.stop();return true;}}});},this,null,0);this.on('cancel',function(au){aj(function(av){if(av.isChanged()){if(!confirm(W.lang.common.confirmCancel))au.data.hide=false;return true;}});},this,null,0);this.parts.close.on('click',function(au){if(this.fire('cancel',{hide:true}).hide!==false)this.hide();au.data.preventDefault();},this);function ak(){var au=ai._.focusList;au.sort(function(ax,ay){if(ax.tabIndex!=ay.tabIndex)return ay.tabIndex-ax.tabIndex;else return ax.focusIndex-ay.focusIndex;});var av=au.length;for(var aw=0;aw<av;aw++)au[aw].focusIndex=aw;};function al(au){var av=ai._.focusList,aw=au?1:-1;if(av.length<1)return;var ax=ai._.currentFocusIndex;try{av[ax].getInputElement().$.blur();}catch(aA){}var ay=(ax+aw+av.length)%av.length,az=ay;while(!av[az].isFocusable()){az=(az+aw+av.length)%av.length;if(az==ay)break;}av[az].focus();if(av[az].type=='text')av[az].select();};this.changeFocus=al;var am;function an(au){var az=this;if(ai!=h.dialog._.currentTop)return;var av=au.data.getKeystroke(),aw=W.lang.dir=='rtl';am=0;if(av==9||av==2000+9){var ax=av==2000+9;if(ai._.tabBarMode){var ay=ax?v.call(ai):w.call(ai);
ai.selectPage(ay);ai._.tabs[ay][0].focus();}else al(!ax);am=1;}else if(av==4000+121&&!ai._.tabBarMode&&ai.getPageCount()>1){ai._.tabBarMode=true;ai._.tabs[ai._.currentTabId][0].focus();am=1;}else if((av==37||av==39)&&ai._.tabBarMode){ay=av==(aw?39:37)?v.call(ai):w.call(ai);ai.selectPage(ay);ai._.tabs[ay][0].focus();am=1;}else if((av==13||av==32)&&ai._.tabBarMode){az.selectPage(az._.currentTabId);az._.tabBarMode=false;az._.currentFocusIndex=-1;al(true);am=1;}if(am){au.stop();au.data.preventDefault();}};function ao(au){am&&au.data.preventDefault();};var ap=this._.element;this.on('show',function(){ap.on('keydown',an,this,null,0);if(i.opera||i.gecko&&i.mac)ap.on('keypress',ao,this);});this.on('hide',function(){ap.removeListener('keydown',an);if(i.opera||i.gecko&&i.mac)ap.removeListener('keypress',ao);});this.on('iframeAdded',function(au){var av=new n(au.data.iframe.$.contentWindow.document);av.on('keydown',an,this,null,0);});this.on('show',function(){var ay=this;ak();if(W.config.dialog_startupFocusTab&&ai._.pageCount>1){ai._.tabBarMode=true;ai._.tabs[ai._.currentTabId][0].focus();}else if(!ay._.hasFocus){ay._.currentFocusIndex=-1;if(Y.onFocus){var au=Y.onFocus.call(ay);au&&au.focus();}else al(true);if(ay._.editor.mode=='wysiwyg'&&j){var av=W.document.$.selection,aw=av.createRange();if(aw)if(aw.parentElement&&aw.parentElement().ownerDocument==W.document.$||aw.item&&aw.item(0).ownerDocument==W.document.$){var ax=document.body.createTextRange();ax.moveToElementText(ay.getElement().getFirst().$);ax.collapse(true);ax.select();}}}},this,null,4294967295);if(i.ie6Compat)this.on('load',function(au){var av=this.getElement(),aw=av.getFirst();aw.remove();aw.appendTo(av);},this);F(this);G(this);new k.text(Y.title,h.document).appendTo(this.parts.title);for(var aq=0;aq<Y.contents.length;aq++){var ar=Y.contents[aq];ar&&this.addPage(ar);}this.parts.tabs.on('click',function(au){var ax=this;var av=au.data.getTarget();if(av.hasClass('cke_dialog_tab')){var aw=av.$.id;ax.selectPage(aw.substring(4,aw.lastIndexOf('_')));if(ax._.tabBarMode){ax._.tabBarMode=false;ax._.currentFocusIndex=-1;al(true);}au.data.preventDefault();}},this);var as=[],at=h.dialog._.uiElementBuilders.hbox.build(this,{type:'hbox',className:'cke_dialog_footer_buttons',widths:[],children:Y.buttons},as).getChild();this.parts.footer.setHtml(as.join(''));for(aq=0;aq<at.length;aq++)this._.buttons[at[aq].id]=at[aq];};function y(W,X,Y){this.element=X;this.focusIndex=Y;this.tabIndex=0;this.isFocusable=function(){return!X.getAttribute('disabled')&&X.isVisible();
};this.focus=function(){W._.currentFocusIndex=this.focusIndex;this.element.focus();};X.on('keydown',function(Z){if(Z.data.getKeystroke() in {32:1,13:1})this.fire('click');});X.on('focus',function(){this.fire('mouseover');});X.on('blur',function(){this.fire('mouseout');});};h.dialog.prototype={destroy:function(){this.hide();this._.element.remove();},resize:(function(){return function(W,X){var Y=this;if(Y._.contentSize&&Y._.contentSize.width==W&&Y._.contentSize.height==X)return;h.dialog.fire('resize',{dialog:Y,skin:Y._.editor.skinName,width:W,height:X},Y._.editor);Y._.contentSize={width:W,height:X};};})(),getSize:function(){var W=this._.element.getFirst();return{width:W.$.offsetWidth||0,height:W.$.offsetHeight||0};},move:(function(){var W;return function(X,Y,Z){var ac=this;var aa=ac._.element.getFirst();if(W===undefined)W=aa.getComputedStyle('position')=='fixed';if(W&&ac._.position&&ac._.position.x==X&&ac._.position.y==Y)return;ac._.position={x:X,y:Y};if(!W){var ab=h.document.getWindow().getScrollPosition();X+=ab.x;Y+=ab.y;}aa.setStyles({left:(X>0?X:0)+'px',top:(Y>0?Y:0)+'px'});Z&&(ac._.moved=1);};})(),getPosition:function(){return l.extend({},this._.position);},show:function(){var W=this._.element,X=this.definition;if(!(W.getParent()&&W.getParent().equals(h.document.getBody())))W.appendTo(h.document.getBody());else W.setStyle('display','block');if(i.gecko&&i.version<10900){var Y=this.parts.dialog;Y.setStyle('position','absolute');setTimeout(function(){Y.setStyle('position','fixed');},0);}this.resize(this._.contentSize&&this._.contentSize.width||X.minWidth,this._.contentSize&&this._.contentSize.height||X.minHeight);this.reset();this.selectPage(this.definition.contents[0].id);if(h.dialog._.currentZIndex===null)h.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex;this._.element.getFirst().setStyle('z-index',h.dialog._.currentZIndex+=10);if(h.dialog._.currentTop===null){h.dialog._.currentTop=this;this._.parentDialog=null;K(this._.editor);W.on('keydown',O);W.on(i.opera?'keypress':'keyup',P);for(var Z in {keyup:1,keydown:1,keypress:1})W.on(Z,V);}else{this._.parentDialog=h.dialog._.currentTop;var aa=this._.parentDialog.getElement().getFirst();aa.$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2);h.dialog._.currentTop=this;}Q(this,this,'\x1b',null,function(){this.getButton('cancel')&&this.getButton('cancel').click();});this._.hasFocus=false;l.setTimeout(function(){this.layout();this.parts.dialog.setStyle('visibility','');this.fireOnce('load',{});
r.fire('ready',this);this.fire('show',{});this._.editor.fire('dialogShow',this);this.foreach(function(ab){ab.setInitValue&&ab.setInitValue();});},100,this);},layout:function(){var Y=this;var W=h.document.getWindow().getViewPaneSize(),X=Y.getSize();Y.move(Y._.moved?Y._.position.x:(W.width-X.width)/2,Y._.moved?Y._.position.y:(W.height-X.height)/2);},foreach:function(W){var Z=this;for(var X in Z._.contents)for(var Y in Z._.contents[X])W(Z._.contents[X][Y]);return Z;},reset:(function(){var W=function(X){if(X.reset)X.reset(1);};return function(){this.foreach(W);return this;};})(),setupContent:function(){var W=arguments;this.foreach(function(X){if(X.setup)X.setup.apply(X,W);});},commitContent:function(){var W=arguments;this.foreach(function(X){if(X.commit)X.commit.apply(X,W);});},hide:function(){if(!this.parts.dialog.isVisible())return;this.fire('hide',{});this._.editor.fire('dialogHide',this);var W=this._.element;W.setStyle('display','none');this.parts.dialog.setStyle('visibility','hidden');R(this);while(h.dialog._.currentTop!=this)h.dialog._.currentTop.hide();if(!this._.parentDialog)L();else{var X=this._.parentDialog.getElement().getFirst();X.setStyle('z-index',parseInt(X.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2));}h.dialog._.currentTop=this._.parentDialog;if(!this._.parentDialog){h.dialog._.currentZIndex=null;W.removeListener('keydown',O);W.removeListener(i.opera?'keypress':'keyup',P);for(var Y in {keyup:1,keydown:1,keypress:1})W.removeListener(Y,V);var Z=this._.editor;Z.focus();if(Z.mode=='wysiwyg'&&j){var aa=Z.getSelection();aa&&aa.unlock(true);}}else h.dialog._.currentZIndex-=10;delete this._.parentDialog;this.foreach(function(ab){ab.resetInitValue&&ab.resetInitValue();});},addPage:function(W){var ai=this;var X=[],Y=W.label?' title="'+l.htmlEncode(W.label)+'"':'',Z=W.elements,aa=h.dialog._.uiElementBuilders.vbox.build(ai,{type:'vbox',className:'cke_dialog_page_contents',children:W.elements,expand:!!W.expand,padding:W.padding,style:W.style||'width: 100%;'},X),ab=o.createFromHtml(X.join(''));ab.setAttribute('role','tabpanel');var ac=i,ad='cke_'+W.id+'_'+l.getNextNumber(),ae=o.createFromHtml(['<a class="cke_dialog_tab"',ai._.pageCount>0?' cke_last':'cke_first',Y,!!W.hidden?' style="display:none"':'',' id="',ad,'"',ac.gecko&&ac.version>=10900&&!ac.hc?'':' href="javascript:void(0)"',' tabIndex="-1"',' hidefocus="true"',' role="tab">',W.label,'</a>'].join(''));ab.setAttribute('aria-labelledby',ad);ai._.tabs[W.id]=[ae,ab];ai._.tabIdList.push(W.id);
!W.hidden&&ai._.pageCount++;ai._.lastTab=ae;ai.updateStyle();var af=ai._.contents[W.id]={},ag,ah=aa.getChild();while(ag=ah.shift()){af[ag.id]=ag;if(typeof ag.getChild=='function')ah.push.apply(ah,ag.getChild());}ab.setAttribute('name',W.id);ab.appendTo(ai.parts.contents);ae.unselectable();ai.parts.tabs.append(ae);if(W.accessKey){Q(ai,ai,'CTRL+'+W.accessKey,T,S);ai._.accessKeyMap['CTRL+'+W.accessKey]=W.id;}},selectPage:function(W){if(this._.currentTabId==W)return;if(this.fire('selectPage',{page:W,currentPage:this._.currentTabId})===true)return;for(var X in this._.tabs){var Y=this._.tabs[X][0],Z=this._.tabs[X][1];if(X!=W){Y.removeClass('cke_dialog_tab_selected');Z.hide();}Z.setAttribute('aria-hidden',X!=W);}var aa=this._.tabs[W];aa[0].addClass('cke_dialog_tab_selected');if(i.ie6Compat||i.ie7Compat){x(aa[1]);aa[1].show();setTimeout(function(){x(aa[1],1);},0);}else aa[1].show();this._.currentTabId=W;this._.currentTabIndex=l.indexOf(this._.tabIdList,W);},updateStyle:function(){this.parts.dialog[(this._.pageCount===1?'add':'remove')+'Class']('cke_single_page');},hidePage:function(W){var Y=this;var X=Y._.tabs[W]&&Y._.tabs[W][0];if(!X||Y._.pageCount==1||!X.isVisible())return;else if(W==Y._.currentTabId)Y.selectPage(v.call(Y));X.hide();Y._.pageCount--;Y.updateStyle();},showPage:function(W){var Y=this;var X=Y._.tabs[W]&&Y._.tabs[W][0];if(!X)return;X.show();Y._.pageCount++;Y.updateStyle();},getElement:function(){return this._.element;},getName:function(){return this._.name;},getContentElement:function(W,X){var Y=this._.contents[W];return Y&&Y[X];},getValueOf:function(W,X){return this.getContentElement(W,X).getValue();},setValueOf:function(W,X,Y){return this.getContentElement(W,X).setValue(Y);},getButton:function(W){return this._.buttons[W];},click:function(W){return this._.buttons[W].click();},disableButton:function(W){return this._.buttons[W].disable();},enableButton:function(W){return this._.buttons[W].enable();},getPageCount:function(){return this._.pageCount;},getParentEditor:function(){return this._.editor;},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement();},addFocusable:function(W,X){var Z=this;if(typeof X=='undefined'){X=Z._.focusList.length;Z._.focusList.push(new y(Z,W,X));}else{Z._.focusList.splice(X,0,new y(Z,W,X));for(var Y=X+1;Y<Z._.focusList.length;Y++)Z._.focusList[Y].focusIndex++;}}};l.extend(h.dialog,{add:function(W,X){if(!this._.dialogDefinitions[W]||typeof X=='function')this._.dialogDefinitions[W]=X;},exists:function(W){return!!this._.dialogDefinitions[W];
},getCurrent:function(){return h.dialog._.currentTop;},okButton:(function(){var W=function(X,Y){Y=Y||{};return l.extend({id:'ok',type:'button',label:X.lang.common.ok,'class':'cke_dialog_ui_button_ok',onClick:function(Z){var aa=Z.data.dialog;if(aa.fire('ok',{hide:true}).hide!==false)aa.hide();}},Y,true);};W.type='button';W.override=function(X){return l.extend(function(Y){return W(Y,X);},{type:'button'},true);};return W;})(),cancelButton:(function(){var W=function(X,Y){Y=Y||{};return l.extend({id:'cancel',type:'button',label:X.lang.common.cancel,'class':'cke_dialog_ui_button_cancel',onClick:function(Z){var aa=Z.data.dialog;if(aa.fire('cancel',{hide:true}).hide!==false)aa.hide();}},Y,true);};W.type='button';W.override=function(X){return l.extend(function(Y){return W(Y,X);},{type:'button'},true);};return W;})(),addUIElement:function(W,X){this._.uiElementBuilders[W]=X;}});h.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null};h.event.implementOn(h.dialog);h.event.implementOn(h.dialog.prototype,true);var z={resizable:3,minWidth:600,minHeight:400,buttons:[h.dialog.okButton,h.dialog.cancelButton]},A=function(W,X,Y){for(var Z=0,aa;aa=W[Z];Z++){if(aa.id==X)return aa;if(Y&&aa[Y]){var ab=A(aa[Y],X,Y);if(ab)return ab;}}return null;},B=function(W,X,Y,Z,aa){if(Y){for(var ab=0,ac;ac=W[ab];ab++){if(ac.id==Y){W.splice(ab,0,X);return X;}if(Z&&ac[Z]){var ad=B(ac[Z],X,Y,Z,true);if(ad)return ad;}}if(aa)return null;}W.push(X);return X;},C=function(W,X,Y){for(var Z=0,aa;aa=W[Z];Z++){if(aa.id==X)return W.splice(Z,1);if(Y&&aa[Y]){var ab=C(aa[Y],X,Y);if(ab)return ab;}}return null;},D=function(W,X){this.dialog=W;var Y=X.contents;for(var Z=0,aa;aa=Y[Z];Z++)Y[Z]=aa&&new E(W,aa);l.extend(this,X);};D.prototype={getContents:function(W){return A(this.contents,W);},getButton:function(W){return A(this.buttons,W);},addContents:function(W,X){return B(this.contents,W,X);},addButton:function(W,X){return B(this.buttons,W,X);},removeContents:function(W){C(this.contents,W);},removeButton:function(W){C(this.buttons,W);}};function E(W,X){this._={dialog:W};l.extend(this,X);};E.prototype={get:function(W){return A(this.elements,W,'children');},add:function(W,X){return B(this.elements,W,X,'children');},remove:function(W){C(this.elements,W,'children');}};function F(W){var X=null,Y=null,Z=W.getElement().getFirst(),aa=W.getParentEditor(),ab=aa.config.dialog_magnetDistance,ac=aa.skin.margins||[0,0,0,0];if(typeof ab=='undefined')ab=20;function ad(af){var ag=W.getSize(),ah=h.document.getWindow().getViewPaneSize(),ai=af.data.$.screenX,aj=af.data.$.screenY,ak=ai-X.x,al=aj-X.y,am,an;
X={x:ai,y:aj};Y.x+=ak;Y.y+=al;if(Y.x+ac[3]<ab)am=-ac[3];else if(Y.x-ac[1]>ah.width-ag.width-ab)am=ah.width-ag.width+(aa.lang.dir=='rtl'?0:ac[1]);else am=Y.x;if(Y.y+ac[0]<ab)an=-ac[0];else if(Y.y-ac[2]>ah.height-ag.height-ab)an=ah.height-ag.height+ac[2];else an=Y.y;W.move(am,an,1);af.data.preventDefault();};function ae(af){h.document.removeListener('mousemove',ad);h.document.removeListener('mouseup',ae);if(i.ie6Compat){var ag=J.getChild(0).getFrameDocument();ag.removeListener('mousemove',ad);ag.removeListener('mouseup',ae);}};W.parts.title.on('mousedown',function(af){X={x:af.data.$.screenX,y:af.data.$.screenY};h.document.on('mousemove',ad);h.document.on('mouseup',ae);Y=W.getPosition();if(i.ie6Compat){var ag=J.getChild(0).getFrameDocument();ag.on('mousemove',ad);ag.on('mouseup',ae);}af.data.preventDefault();},W);};function G(W){var X=W.definition,Y=X.resizable;if(Y==0)return;var Z=W.getParentEditor(),aa,ab,ac,ad,ae,af;function ag(ak){if(W._.moved&&Z.lang.dir=='rtl'){var al=W._.element.getFirst();al.setStyle('right',ak+'px');al.removeStyle('left');}else if(!W._.moved)W.layout();};var ah=l.addFunction(function(ak){ae=W.getSize();var al=W.parts.contents,am=al.$.getElementsByTagName('iframe').length;if(am){af=o.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>');al.append(af);}ab=ae.height-W.parts.contents.getSize('height',!(i.gecko||i.opera||j&&i.quirks));aa=ae.width-W.parts.contents.getSize('width',1);ad={x:ak.screenX,y:ak.screenY};ac=h.document.getWindow().getViewPaneSize();h.document.on('mousemove',ai);h.document.on('mouseup',aj);if(i.ie6Compat){var an=J.getChild(0).getFrameDocument();an.on('mousemove',ai);an.on('mouseup',aj);}ak.preventDefault&&ak.preventDefault();});W.on('load',function(){var ak='';if(Y==1)ak=' cke_resizer_horizontal';else if(Y==2)ak=' cke_resizer_vertical';var al=o.createFromHtml('<div class="cke_resizer'+ak+'"'+' title="'+l.htmlEncode(Z.lang.resize)+'"'+' onmousedown="CKEDITOR.tools.callFunction('+ah+', event )"></div>');W.parts.footer.append(al,1);});Z.on('destroy',function(){l.removeFunction(ah);});function ai(ak){var al=Z.lang.dir=='rtl',am=(ak.data.$.screenX-ad.x)*(al?-1:1),an=ak.data.$.screenY-ad.y,ao=ae.width,ap=ae.height,aq=ao+am*(W._.moved?1:2),ar=ap+an*(W._.moved?1:2),as=W._.element.getFirst(),at=al&&as.getComputedStyle('right'),au=W.getPosition();if(at)at=at=='auto'?ac.width-(au.x||0)-as.getSize('width'):parseInt(at,10);if(au.y+ar>ac.height)ar=ac.height-au.y;if((al?at:au.x)+aq>ac.width)aq=ac.width-(al?at:au.x);
if((Y==1||Y==3)&&!(al&&am>0&&!au.x))ao=Math.max(X.minWidth||0,aq-aa);if(Y==2||Y==3)ap=Math.max(X.minHeight||0,ar-ab);W.resize(ao,ap);ag(at);ak.data.preventDefault();};function aj(){h.document.removeListener('mouseup',aj);h.document.removeListener('mousemove',ai);if(af){af.remove();af=null;}if(i.ie6Compat){var ak=J.getChild(0).getFrameDocument();ak.removeListener('mouseup',aj);ak.removeListener('mousemove',ai);}if(Z.lang.dir=='rtl'){var al=W._.element.getFirst(),am=al.getComputedStyle('left');if(am=='auto')am=ac.width-parseInt(al.getStyle('right'),10)-W.getSize().width;else am=parseInt(am,10);al.removeStyle('right');W._.position.x+=1;W.move(am,W._.position.y);}};};var H,I={},J;function K(W){var X=h.document.getWindow(),Y=W.config,Z=Y.dialog_backgroundCoverColor||'white',aa=Y.dialog_backgroundCoverOpacity,ab=Y.baseFloatZIndex,ac=l.genKey(Z,aa,ab),ad=I[ac];if(!ad){var ae=['<div tabIndex="-1" style="position: ',i.ie6Compat?'absolute':'fixed','; z-index: ',ab,'; top: 0px; left: 0px; ',!i.ie6Compat?'background-color: '+Z:'','" class="cke_dialog_background_cover">'];if(i.ie6Compat){var af=i.isCustomDomain(),ag="<html><body style=\\'background-color:"+Z+";\\'></body></html>";ae.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:');ae.push('void((function(){document.open();'+(af?"document.domain='"+document.domain+"';":'')+"document.write( '"+ag+"' );"+'document.close();'+'})())');ae.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>');}ae.push('</div>');ad=o.createFromHtml(ae.join(''));ad.setOpacity(aa!=undefined?aa:0.5);ad.appendTo(h.document.getBody());I[ac]=ad;}else ad.show();J=ad;var ah=function(){var ak=X.getViewPaneSize();ad.setStyles({width:ak.width+'px',height:ak.height+'px'});},ai=function(){var ak=X.getScrollPosition(),al=h.dialog._.currentTop;ad.setStyles({left:ak.x+'px',top:ak.y+'px'});if(al)do{var am=al.getPosition();al.move(am.x,am.y);}while(al=al._.parentDialog)};H=ah;X.on('resize',ah);ah();if(!(i.mac&&i.webkit))ad.focus();if(i.ie6Compat){var aj=function(){ai();arguments.callee.prevScrollHandler.apply(this,arguments);};X.$.setTimeout(function(){aj.prevScrollHandler=window.onscroll||(function(){});window.onscroll=aj;},0);ai();}};function L(){if(!J)return;var W=h.document.getWindow();J.hide();W.removeListener('resize',H);if(i.ie6Compat)W.$.setTimeout(function(){var X=window.onscroll&&window.onscroll.prevScrollHandler;window.onscroll=X||null;
},0);H=null;};function M(){for(var W in I)I[W].remove();I={};};var N={},O=function(W){var X=W.data.$.ctrlKey||W.data.$.metaKey,Y=W.data.$.altKey,Z=W.data.$.shiftKey,aa=String.fromCharCode(W.data.$.keyCode),ab=N[(X?'CTRL+':'')+(Y?'ALT+':'')+(Z?'SHIFT+':'')+aa];if(!ab||!ab.length)return;ab=ab[ab.length-1];ab.keydown&&ab.keydown.call(ab.uiElement,ab.dialog,ab.key);W.data.preventDefault();},P=function(W){var X=W.data.$.ctrlKey||W.data.$.metaKey,Y=W.data.$.altKey,Z=W.data.$.shiftKey,aa=String.fromCharCode(W.data.$.keyCode),ab=N[(X?'CTRL+':'')+(Y?'ALT+':'')+(Z?'SHIFT+':'')+aa];if(!ab||!ab.length)return;ab=ab[ab.length-1];if(ab.keyup){ab.keyup.call(ab.uiElement,ab.dialog,ab.key);W.data.preventDefault();}},Q=function(W,X,Y,Z,aa){var ab=N[Y]||(N[Y]=[]);ab.push({uiElement:W,dialog:X,key:Y,keyup:aa||W.accessKeyUp,keydown:Z||W.accessKeyDown});},R=function(W){for(var X in N){var Y=N[X];for(var Z=Y.length-1;Z>=0;Z--){if(Y[Z].dialog==W||Y[Z].uiElement==W)Y.splice(Z,1);}if(Y.length===0)delete N[X];}},S=function(W,X){if(W._.accessKeyMap[X])W.selectPage(W._.accessKeyMap[X]);},T=function(W,X){},U={27:1,13:1},V=function(W){if(W.data.getKeystroke() in U)W.data.stopPropagation();};(function(){r.dialog={uiElement:function(W,X,Y,Z,aa,ab,ac){if(arguments.length<4)return;var ad=(Z.call?Z(X):Z)||'div',ae=['<',ad,' '],af=(aa&&aa.call?aa(X):aa)||{},ag=(ab&&ab.call?ab(X):ab)||{},ah=(ac&&ac.call?ac.call(this,W,X):ac)||'',ai=this.domId=ag.id||l.getNextId()+'_uiElement',aj=this.id=X.id,ak;ag.id=ai;var al={};if(X.type)al['cke_dialog_ui_'+X.type]=1;if(X.className)al[X.className]=1;var am=ag['class']&&ag['class'].split?ag['class'].split(' '):[];for(ak=0;ak<am.length;ak++){if(am[ak])al[am[ak]]=1;}var an=[];for(ak in al)an.push(ak);ag['class']=an.join(' ');if(X.title)ag.title=X.title;var ao=(X.style||'').split(';');for(ak in af)ao.push(ak+':'+af[ak]);if(X.hidden)ao.push('display:none');for(ak=ao.length-1;ak>=0;ak--){if(ao[ak]==='')ao.splice(ak,1);}if(ao.length>0)ag.style=(ag.style?ag.style+'; ':'')+ao.join('; ');for(ak in ag)ae.push(ak+'="'+l.htmlEncode(ag[ak])+'" ');ae.push('>',ah,'</',ad,'>');Y.push(ae.join(''));(this._||(this._={})).dialog=W;if(typeof X.isChanged=='boolean')this.isChanged=function(){return X.isChanged;};if(typeof X.isChanged=='function')this.isChanged=X.isChanged;h.event.implementOn(this);this.registerEvents(X);if(this.accessKeyUp&&this.accessKeyDown&&X.accessKey)Q(this,W,'CTRL+'+X.accessKey);var ap=this;W.on('load',function(){if(ap.getInputElement())ap.getInputElement().on('focus',function(){W._.tabBarMode=false;
W._.hasFocus=true;ap.fire('focus');},ap);});if(this.keyboardFocusable){this.tabIndex=X.tabIndex||0;this.focusIndex=W._.focusList.push(this)-1;this.on('focus',function(){W._.currentFocusIndex=ap.focusIndex;});}l.extend(this,X);},hbox:function(W,X,Y,Z,aa){if(arguments.length<4)return;this._||(this._={});var ab=this._.children=X,ac=aa&&aa.widths||null,ad=aa&&aa.height||null,ae={},af,ag=function(){var ai=['<tbody><tr class="cke_dialog_ui_hbox">'];for(af=0;af<Y.length;af++){var aj='cke_dialog_ui_hbox_child',ak=[];if(af===0)aj='cke_dialog_ui_hbox_first';if(af==Y.length-1)aj='cke_dialog_ui_hbox_last';ai.push('<td class="',aj,'" role="presentation" ');if(ac){if(ac[af])ak.push('width:'+t(ac[af]));}else ak.push('width:'+Math.floor(100/Y.length)+'%');if(ad)ak.push('height:'+t(ad));if(aa&&aa.padding!=undefined)ak.push('padding:'+t(aa.padding));if(ak.length>0)ai.push('style="'+ak.join('; ')+'" ');ai.push('>',Y[af],'</td>');}ai.push('</tr></tbody>');return ai.join('');},ah={role:'presentation'};aa&&aa.align&&(ah.align=aa.align);r.dialog.uiElement.call(this,W,aa||{type:'hbox'},Z,'table',ae,ah,ag);},vbox:function(W,X,Y,Z,aa){if(arguments.length<3)return;this._||(this._={});var ab=this._.children=X,ac=aa&&aa.width||null,ad=aa&&aa.heights||null,ae=function(){var af=['<table role="presentation" cellspacing="0" border="0" '];af.push('style="');if(aa&&aa.expand)af.push('height:100%;');af.push('width:'+t(ac||'100%'),';');af.push('"');af.push('align="',l.htmlEncode(aa&&aa.align||(W.getParentEditor().lang.dir=='ltr'?'left':'right')),'" ');af.push('><tbody>');for(var ag=0;ag<Y.length;ag++){var ah=[];af.push('<tr><td role="presentation" ');if(ac)ah.push('width:'+t(ac||'100%'));if(ad)ah.push('height:'+t(ad[ag]));else if(aa&&aa.expand)ah.push('height:'+Math.floor(100/Y.length)+'%');if(aa&&aa.padding!=undefined)ah.push('padding:'+t(aa.padding));if(ah.length>0)af.push('style="',ah.join('; '),'" ');af.push(' class="cke_dialog_ui_vbox_child">',Y[ag],'</td></tr>');}af.push('</tbody></table>');return af.join('');};r.dialog.uiElement.call(this,W,aa||{type:'vbox'},Z,'div',null,{role:'presentation'},ae);}};})();r.dialog.uiElement.prototype={getElement:function(){return h.document.getById(this.domId);},getInputElement:function(){return this.getElement();},getDialog:function(){return this._.dialog;},setValue:function(W,X){this.getInputElement().setValue(W);!X&&this.fire('change',{value:W});return this;},getValue:function(){return this.getInputElement().getValue();},isChanged:function(){return false;
},selectParentTab:function(){var Z=this;var W=Z.getInputElement(),X=W,Y;while((X=X.getParent())&&X.$.className.search('cke_dialog_page_contents')==-1){}if(!X)return Z;Y=X.getAttribute('name');if(Z._.dialog._.currentTabId!=Y)Z._.dialog.selectPage(Y);return Z;},focus:function(){this.selectParentTab().getInputElement().focus();return this;},registerEvents:function(W){var X=/^on([A-Z]\w+)/,Y,Z=function(ab,ac,ad,ae){ac.on('load',function(){ab.getInputElement().on(ad,ae,ab);});};for(var aa in W){if(!(Y=aa.match(X)))continue;if(this.eventProcessors[aa])this.eventProcessors[aa].call(this,this._.dialog,W[aa]);else Z(this,this._.dialog,Y[1].toLowerCase(),W[aa]);}return this;},eventProcessors:{onLoad:function(W,X){W.on('load',X,this);},onShow:function(W,X){W.on('show',X,this);},onHide:function(W,X){W.on('hide',X,this);}},accessKeyDown:function(W,X){this.focus();},accessKeyUp:function(W,X){},disable:function(){var W=this.getInputElement();W.setAttribute('disabled','true');W.addClass('cke_disabled');},enable:function(){var W=this.getInputElement();W.removeAttribute('disabled');W.removeClass('cke_disabled');},isEnabled:function(){return!this.getInputElement().getAttribute('disabled');},isVisible:function(){return this.getInputElement().isVisible();},isFocusable:function(){if(!this.isEnabled()||!this.isVisible())return false;return true;}};r.dialog.hbox.prototype=l.extend(new r.dialog.uiElement(),{getChild:function(W){var X=this;if(arguments.length<1)return X._.children.concat();if(!W.splice)W=[W];if(W.length<2)return X._.children[W[0]];else return X._.children[W[0]]&&X._.children[W[0]].getChild?X._.children[W[0]].getChild(W.slice(1,W.length)):null;}},true);r.dialog.vbox.prototype=new r.dialog.hbox();(function(){var W={build:function(X,Y,Z){var aa=Y.children,ab,ac=[],ad=[];for(var ae=0;ae<aa.length&&(ab=aa[ae]);ae++){var af=[];ac.push(af);ad.push(h.dialog._.uiElementBuilders[ab.type].build(X,ab,af));}return new r.dialog[Y.type](X,ad,ac,Z,Y);}};h.dialog.addUIElement('hbox',W);h.dialog.addUIElement('vbox',W);})();h.dialogCommand=function(W){this.dialogName=W;};h.dialogCommand.prototype={exec:function(W){W.openDialog(this.dialogName);},canUndo:false,editorFocus:j||i.webkit};(function(){var W=/^([a]|[^a])+$/,X=/^\d*$/,Y=/^\d*(?:\.\d+)?$/;h.VALIDATE_OR=1;h.VALIDATE_AND=2;h.dialog.validate={functions:function(){return function(){var af=this;var Z=af&&af.getValue?af.getValue():arguments[0],aa=undefined,ab=2,ac=[],ad;for(ad=0;ad<arguments.length;ad++){if(typeof arguments[ad]=='function')ac.push(arguments[ad]);
else break;}if(ad<arguments.length&&typeof arguments[ad]=='string'){aa=arguments[ad];ad++;}if(ad<arguments.length&&typeof arguments[ad]=='number')ab=arguments[ad];var ae=ab==2?true:false;for(ad=0;ad<ac.length;ad++){if(ab==2)ae=ae&&ac[ad](Z);else ae=ae||ac[ad](Z);}if(!ae){if(aa!==undefined)alert(aa);if(af&&(af.select||af.focus))af.select||af.focus();return false;}return true;};},regex:function(Z,aa){return function(){var ac=this;var ab=ac&&ac.getValue?ac.getValue():arguments[0];if(!Z.test(ab)){if(aa!==undefined)alert(aa);if(ac&&(ac.select||ac.focus))if(ac.select)ac.select();else ac.focus();return false;}return true;};},notEmpty:function(Z){return this.regex(W,Z);},integer:function(Z){return this.regex(X,Z);},number:function(Z){return this.regex(Y,Z);},equals:function(Z,aa){return this.functions(function(ab){return ab==Z;},aa);},notEqual:function(Z,aa){return this.functions(function(ab){return ab!=Z;},aa);}};h.on('instanceDestroyed',function(Z){if(l.isEmpty(h.instances)){var aa;while(aa=h.dialog._.currentTop)aa.hide();M();}var ab=Z.editor._.storedDialogs;for(var ac in ab)ab[ac].destroy();});})();l.extend(h.editor.prototype,{openDialog:function(W,X){if(this.mode=='wysiwyg'&&j){var Y=this.getSelection();Y&&Y.lock();}var Z=h.dialog._.dialogDefinitions[W],aa=this.skin.dialog;if(h.dialog._.currentTop===null)K(this);if(typeof Z=='function'&&aa._isLoaded){var ab=this._.storedDialogs||(this._.storedDialogs={}),ac=ab[W]||(ab[W]=new h.dialog(this,W));X&&X.call(ac,ac);ac.show();return ac;}else if(Z=='failed')throw new Error('[CKEDITOR.dialog.openDialog] Dialog "'+W+'" failed when loading definition.');var ad=this;function ae(ag){var ah=h.dialog._.dialogDefinitions[W],ai=ad.skin.dialog;if(!ai._isLoaded||af&&typeof ag=='undefined')return;if(typeof ah!='function')h.dialog._.dialogDefinitions[W]='failed';ad.openDialog(W,X);};if(typeof Z=='string'){var af=1;h.scriptLoader.load(h.getUrl(Z),ae,null,0,1);}h.skins.load(this,'dialog',ae);return null;}});})();q.add('dialog',{requires:['dialogui']});q.add('styles',{requires:['selection'],init:function(t){t.on('contentDom',function(){t.document.setCustomData('cke_includeReadonly',!t.config.disableReadonlyStyling);});}});h.editor.prototype.attachStyleStateChange=function(t,u){var v=this._.styleStateChangeCallbacks;if(!v){v=this._.styleStateChangeCallbacks=[];this.on('selectionChange',function(w){for(var x=0;x<v.length;x++){var y=v[x],z=y.style.checkActive(w.data.path)?1:2;if(y.state!==z){y.fn.call(this,z);y.state=z;}}});}v.push({style:t,fn:u});
};h.STYLE_BLOCK=1;h.STYLE_INLINE=2;h.STYLE_OBJECT=3;(function(){var t={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1},u={a:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1},v=/\s*(?:;\s*|$)/,w=k.walker.bookmark(0,1);h.style=function(aa,ab){if(ab){aa=l.clone(aa);S(aa.attributes,ab);S(aa.styles,ab);}var ac=this.element=(aa.element||'*').toLowerCase();this.type=ac=='#'||t[ac]?1:u[ac]?3:2;this._={definition:aa};};h.style.prototype={apply:function(aa){Z.call(this,aa,false);},remove:function(aa){Z.call(this,aa,true);},applyToRange:function(aa){var ab=this;return(ab.applyToRange=ab.type==2?y:ab.type==1?C:ab.type==3?A:null).call(ab,aa);},removeFromRange:function(aa){var ab=this;return(ab.removeFromRange=ab.type==2?z:ab.type==1?D:ab.type==3?B:null).call(ab,aa);},applyToObject:function(aa){Q(aa,this);},checkActive:function(aa){var ae=this;switch(ae.type){case 1:return ae.checkElementRemovable(aa.block||aa.blockLimit,true);case 3:case 2:var ab=aa.elements;for(var ac=0,ad;ac<ab.length;ac++){ad=ab[ac];if(ae.type==2&&(ad==aa.block||ad==aa.blockLimit))continue;if(ae.type==3&&!(ad.getName() in u))continue;if(ae.checkElementRemovable(ad,true))return true;}}return false;},checkApplicable:function(aa){switch(this.type){case 2:case 1:break;case 3:return aa.lastElement.getAscendant(this.element,true);}return true;},checkElementRemovable:function(aa,ab){if(!aa)return false;var ac=this._.definition,ad;if(aa.getName()==this.element){if(!ab&&!aa.hasAttributes())return true;ad=T(ac);if(ad._length){for(var ae in ad){if(ae=='_length')continue;var af=aa.getAttribute(ae)||'';if(ae=='style'?Y(ad[ae],W(af,false)):ad[ae]==af){if(!ab)return true;}else if(ab)return false;}if(ab)return true;}else return true;}var ag=U(this)[aa.getName()];if(ag){if(!(ad=ag.attributes))return true;for(var ah=0;ah<ad.length;ah++){ae=ad[ah][0];var ai=aa.getAttribute(ae);if(ai){var aj=ad[ah][1];if(aj===null||typeof aj=='string'&&ai==aj||aj.test(ai))return true;}}}return false;},buildPreview:function(){var aa=this._.definition,ab=[],ac=aa.element;if(ac=='bdo')ac='span';ab=['<',ac];var ad=aa.attributes;if(ad)for(var ae in ad)ab.push(' ',ae,'="',ad[ae],'"');var af=h.style.getStyleText(aa);if(af)ab.push(' style="',af,'"');ab.push('>',aa.name,'</',ac,'>');return ab.join('');}};h.style.getStyleText=function(aa){var ab=aa._ST;if(ab)return ab;ab=aa.styles;var ac=aa.attributes&&aa.attributes.style||'',ad='';if(ac.length)ac=ac.replace(v,';');for(var ae in ab){var af=ab[ae],ag=(ae+':'+af).replace(v,';');
if(af=='inherit')ad+=ag;else ac+=ag;}if(ac.length)ac=W(ac);ac+=ad;return aa._ST=ac;};function x(aa){var ab,ac;while(aa=aa.getParent()){if(aa.getName()=='body')break;if(aa.getAttribute('data-nostyle'))ab=aa;else if(!ac){var ad=aa.getAttribute('contentEditable');if(ad=='false')ab=aa;else if(ad=='true')ac=1;}}return ab;};function y(aa){var aE=this;var ab=aa.document;if(aa.collapsed){var ac=P(aE,ab);aa.insertNode(ac);aa.moveToPosition(ac,2);return;}var ad=aE.element,ae=aE._.definition,af,ag=ae.includeReadonly;if(ag==undefined)ag=ab.getCustomData('cke_includeReadonly');var ah=m[ad]||(af=true,m.span);aa.enlarge(1,1);aa.trim();var ai=aa.createBookmark(),aj=ai.startNode,ak=ai.endNode,al=aj,am,an=x(aj),ao=x(ak);if(an)al=an.getNextSourceNode(true);if(ao)ak=ao;if(al.getPosition(ak)==2)al=0;while(al){var ap=false;if(al.equals(ak)){al=null;ap=true;}else{var aq=al.type,ar=aq==1?al.getName():null,as=ar&&al.getAttribute('contentEditable')=='false',at=ar&&al.getAttribute('data-nostyle');if(ar&&al.data('cke-bookmark')){al=al.getNextSourceNode(true);continue;}if(!ar||ah[ar]&&!at&&(!as||ag)&&(al.getPosition(ak)|4|0|8)==4+0+8&&(!ae.childRule||ae.childRule(al))){var au=al.getParent();if(au&&((au.getDtd()||m.span)[ad]||af)&&(!ae.parentRule||ae.parentRule(au))){if(!am&&(!ar||!m.$removeEmpty[ar]||(al.getPosition(ak)|4|0|8)==4+0+8)){am=new k.range(ab);am.setStartBefore(al);}if(aq==3||as||aq==1&&!al.getChildCount()){var av=al,aw;while((ap=!av.getNext(w))&&(aw=av.getParent(),ah[aw.getName()])&&(aw.getPosition(aj)|2|0|8)==2+0+8&&(!ae.childRule||ae.childRule(aw)))av=aw;am.setEndAfter(av);}}else ap=true;}else ap=true;al=al.getNextSourceNode(at||as);}if(ap&&am&&!am.collapsed){var ax=P(aE,ab),ay=ax.hasAttributes(),az=am.getCommonAncestor(),aA={styles:{},attrs:{},blockedStyles:{},blockedAttrs:{}},aB,aC,aD;while(ax&&az){if(az.getName()==ad){for(aB in ae.attributes){if(aA.blockedAttrs[aB]||!(aD=az.getAttribute(aC)))continue;if(ax.getAttribute(aB)==aD)aA.attrs[aB]=1;else aA.blockedAttrs[aB]=1;}for(aC in ae.styles){if(aA.blockedStyles[aC]||!(aD=az.getStyle(aC)))continue;if(ax.getStyle(aC)==aD)aA.styles[aC]=1;else aA.blockedStyles[aC]=1;}}az=az.getParent();}for(aB in aA.attrs)ax.removeAttribute(aB);for(aC in aA.styles)ax.removeStyle(aC);if(ay&&!ax.hasAttributes())ax=null;if(ax){am.extractContents().appendTo(ax);M(aE,ax);am.insertNode(ax);ax.mergeSiblings();if(!j)ax.$.normalize();}else{ax=new o('span');am.extractContents().appendTo(ax);am.insertNode(ax);M(aE,ax);ax.remove(true);}am=null;}}aa.moveToBookmark(ai);
aa.shrink(2);};function z(aa){aa.enlarge(1,1);var ab=aa.createBookmark(),ac=ab.startNode;if(aa.collapsed){var ad=new k.elementPath(ac.getParent()),ae;for(var af=0,ag;af<ad.elements.length&&(ag=ad.elements[af]);af++){if(ag==ad.block||ag==ad.blockLimit)break;if(this.checkElementRemovable(ag)){var ah;if(aa.collapsed&&(aa.checkBoundaryOfElement(ag,2)||(ah=aa.checkBoundaryOfElement(ag,1)))){ae=ag;ae.match=ah?'start':'end';}else{ag.mergeSiblings();L(this,ag);}}}if(ae){var ai=ac;for(af=0;true;af++){var aj=ad.elements[af];if(aj.equals(ae))break;else if(aj.match)continue;else aj=aj.clone();aj.append(ai);ai=aj;}ai[ae.match=='start'?'insertBefore':'insertAfter'](ae);}}else{var ak=ab.endNode,al=this;function am(){var ap=new k.elementPath(ac.getParent()),aq=new k.elementPath(ak.getParent()),ar=null,as=null;for(var at=0;at<ap.elements.length;at++){var au=ap.elements[at];if(au==ap.block||au==ap.blockLimit)break;if(al.checkElementRemovable(au))ar=au;}for(at=0;at<aq.elements.length;at++){au=aq.elements[at];if(au==aq.block||au==aq.blockLimit)break;if(al.checkElementRemovable(au))as=au;}if(as)ak.breakParent(as);if(ar)ac.breakParent(ar);};am();var an=ac.getNext();while(!an.equals(ak)){var ao=an.getNextSourceNode();if(an.type==1&&this.checkElementRemovable(an)){if(an.getName()==this.element)L(this,an);else N(an,U(this)[an.getName()]);if(ao.type==1&&ao.contains(ac)){am();ao=ac.getNext();}}an=ao;}}aa.moveToBookmark(ab);};function A(aa){var ab=aa.getCommonAncestor(true,true),ac=ab.getAscendant(this.element,true);ac&&Q(ac,this);};function B(aa){var ab=aa.getCommonAncestor(true,true),ac=ab.getAscendant(this.element,true);if(!ac)return;var ad=this,ae=ad._.definition,af=ae.attributes,ag=h.style.getStyleText(ae);if(af)for(var ah in af)ac.removeAttribute(ah,af[ah]);if(ae.styles)for(var ai in ae.styles){if(!ae.styles.hasOwnProperty(ai))continue;ac.removeStyle(ai);}};function C(aa){var ab=aa.createBookmark(true),ac=aa.createIterator();ac.enforceRealBlocks=true;if(this._.enterMode)ac.enlargeBr=this._.enterMode!=2;var ad,ae=aa.document,af;while(ad=ac.getNextParagraph()){var ag=P(this,ae,ad);E(ad,ag);}aa.moveToBookmark(ab);};function D(aa){var af=this;var ab=aa.createBookmark(1),ac=aa.createIterator();ac.enforceRealBlocks=true;ac.enlargeBr=af._.enterMode!=2;var ad;while(ad=ac.getNextParagraph()){if(af.checkElementRemovable(ad))if(ad.is('pre')){var ae=af._.enterMode==2?null:aa.document.createElement(af._.enterMode==1?'p':'div');ae&&ad.copyAttributes(ae);E(ad,ae);}else L(af,ad,1);}aa.moveToBookmark(ab);
};function E(aa,ab){var ac=!ab;if(ac){ab=aa.getDocument().createElement('div');aa.copyAttributes(ab);}var ad=ab&&ab.is('pre'),ae=aa.is('pre'),af=ad&&!ae,ag=!ad&&ae;if(af)ab=K(aa,ab);else if(ag)ab=J(ac?[aa.getHtml()]:H(aa),ab);else aa.moveChildren(ab);ab.replace(aa);if(ad)G(ab);else if(ac)O(ab);};var F=k.walker.whitespaces(1);function G(aa){var ab;if(!((ab=aa.getPrevious(F))&&ab.is&&ab.is('pre')))return;var ac=I(ab.getHtml(),/\n$/,'')+'\n\n'+I(aa.getHtml(),/^\n/,'');if(j)aa.$.outerHTML='<pre>'+ac+'</pre>';else aa.setHtml(ac);ab.remove();};function H(aa){var ab=/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,ac=aa.getName(),ad=I(aa.getOuterHtml(),ab,function(af,ag,ah){return ag+'</pre>'+ah+'<pre>';}),ae=[];ad.replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(af,ag){ae.push(ag);});return ae;};function I(aa,ab,ac){var ad='',ae='';aa=aa.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(af,ag,ah){ag&&(ad=ag);ah&&(ae=ah);return '';});return ad+aa.replace(ab,ac)+ae;};function J(aa,ab){var ac;if(aa.length>1)ac=new k.documentFragment(ab.getDocument());for(var ad=0;ad<aa.length;ad++){var ae=aa[ad];ae=ae.replace(/(\r\n|\r)/g,'\n');ae=I(ae,/^[ \t]*\n/,'');ae=I(ae,/\n$/,'');ae=I(ae,/^[ \t]+|[ \t]+$/g,function(ag,ah,ai){if(ag.length==1)return '&nbsp;';else if(!ah)return l.repeat('&nbsp;',ag.length-1)+' ';else return ' '+l.repeat('&nbsp;',ag.length-1);});ae=ae.replace(/\n/g,'<br>');ae=ae.replace(/[ \t]{2,}/g,function(ag){return l.repeat('&nbsp;',ag.length-1)+' ';});if(ac){var af=ab.clone();af.setHtml(ae);ac.append(af);}else ab.setHtml(ae);}return ac||ab;};function K(aa,ab){var ac=aa.getBogus();ac&&ac.remove();var ad=aa.getHtml();ad=I(ad,/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,'');ad=ad.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,'$1');ad=ad.replace(/([ \t\n\r]+|&nbsp;)/g,' ');ad=ad.replace(/<br\b[^>]*>/gi,'\n');if(j){var ae=aa.getDocument().createElement('div');ae.append(ab);ab.$.outerHTML='<pre>'+ad+'</pre>';ab.copyAttributes(ae.getFirst());ab=ae.getFirst().remove();}else ab.setHtml(ad);return ab;};function L(aa,ab){var ac=aa._.definition,ad=l.extend({},ac.attributes,U(aa)[ab.getName()]),ae=ac.styles,af=l.isEmpty(ad)&&l.isEmpty(ae);for(var ag in ad){if((ag=='class'||aa._.definition.fullMatch)&&ab.getAttribute(ag)!=V(ag,ad[ag]))continue;af=ab.hasAttribute(ag);ab.removeAttribute(ag);}for(var ah in ae){if(aa._.definition.fullMatch&&ab.getStyle(ah)!=V(ah,ae[ah],true))continue;af=af||!!ab.getStyle(ah);ab.removeStyle(ah);
}if(af)!m.$block[ab.getName()]||aa._.enterMode==2&&!ab.hasAttributes()?O(ab):ab.renameNode(aa._.enterMode==1?'p':'div');};function M(aa,ab){var ac=aa._.definition,ad=ac.attributes,ae=ac.styles,af=U(aa),ag=ab.getElementsByTag(aa.element);for(var ah=ag.count();--ah>=0;)L(aa,ag.getItem(ah));for(var ai in af){if(ai!=aa.element){ag=ab.getElementsByTag(ai);for(ah=ag.count()-1;ah>=0;ah--){var aj=ag.getItem(ah);N(aj,af[ai]);}}}};function N(aa,ab){var ac=ab&&ab.attributes;if(ac)for(var ad=0;ad<ac.length;ad++){var ae=ac[ad][0],af;if(af=aa.getAttribute(ae)){var ag=ac[ad][1];if(ag===null||ag.test&&ag.test(af)||typeof ag=='string'&&af==ag)aa.removeAttribute(ae);}}O(aa);};function O(aa){if(!aa.hasAttributes())if(m.$block[aa.getName()]){var ab=aa.getPrevious(F),ac=aa.getNext(F);if(ab&&(ab.type==3||!ab.isBlockBoundary({br:1})))aa.append('br',1);if(ac&&(ac.type==3||!ac.isBlockBoundary({br:1})))aa.append('br');aa.remove(true);}else{var ad=aa.getFirst(),ae=aa.getLast();aa.remove(true);if(ad){ad.type==1&&ad.mergeSiblings();if(ae&&!ad.equals(ae)&&ae.type==1)ae.mergeSiblings();}}};function P(aa,ab,ac){var ad,ae=aa._.definition,af=aa.element;if(af=='*')af='span';ad=new o(af,ab);if(ac)ac.copyAttributes(ad);ad=Q(ad,aa);if(ab.getCustomData('doc_processing_style')&&ad.hasAttribute('id'))ad.removeAttribute('id');else ab.setCustomData('doc_processing_style',1);return ad;};function Q(aa,ab){var ac=ab._.definition,ad=ac.attributes,ae=h.style.getStyleText(ac);if(ad)for(var af in ad)aa.setAttribute(af,ad[af]);if(ae)aa.setAttribute('style',ae);return aa;};var R=/#\((.+?)\)/g;function S(aa,ab){for(var ac in aa)aa[ac]=aa[ac].replace(R,function(ad,ae){return ab[ae];});};function T(aa){var ab=aa._AC;if(ab)return ab;ab={};var ac=0,ad=aa.attributes;if(ad)for(var ae in ad){ac++;ab[ae]=ad[ae];}var af=h.style.getStyleText(aa);if(af){if(!ab.style)ac++;ab.style=af;}ab._length=ac;return aa._AC=ab;};function U(aa){if(aa._.overrides)return aa._.overrides;var ab=aa._.overrides={},ac=aa._.definition.overrides;if(ac){if(!l.isArray(ac))ac=[ac];for(var ad=0;ad<ac.length;ad++){var ae=ac[ad],af,ag,ah;if(typeof ae=='string')af=ae.toLowerCase();else{af=ae.element?ae.element.toLowerCase():aa.element;ah=ae.attributes;}ag=ab[af]||(ab[af]={});if(ah){var ai=ag.attributes=ag.attributes||[];for(var aj in ah)ai.push([aj.toLowerCase(),ah[aj]]);}}}return ab;};function V(aa,ab,ac){var ad=new o('span');ad[ac?'setStyle':'setAttribute'](aa,ab);return ad[ac?'getStyle':'getAttribute'](aa);};function W(aa,ab){var ac;if(ab!==false){var ad=new o('span');
ad.setAttribute('style',aa);ac=ad.getAttribute('style')||'';}else ac=aa;return ac.replace(/\s*([;:])\s*/,'$1').replace(/([^\s;])$/,'$1;').replace(/,\s+/g,',').replace(/\"/g,'').toLowerCase();};function X(aa){var ab={};aa.replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(ac,ad,ae){ab[ad]=ae;});return ab;};function Y(aa,ab){typeof aa=='string'&&(aa=X(aa));typeof ab=='string'&&(ab=X(ab));for(var ac in aa){if(!(ac in ab&&(ab[ac]==aa[ac]||aa[ac]=='inherit'||ab[ac]=='inherit')))return false;}return true;};function Z(aa,ab){var ac=aa.getSelection(),ad=ac.getRanges(),ae=ab?this.removeFromRange:this.applyToRange,af,ag=ad.createIterator();while(af=ag.getNextRange())ae.call(this,af);ac.selectRanges(ad);aa.removeCustomData('doc_processing_style');};})();h.styleCommand=function(t){this.style=t;};h.styleCommand.prototype.exec=function(t){var v=this;t.focus();var u=t.document;if(u)if(v.state==2)v.style.apply(u);else if(v.state==1)v.style.remove(u);return!!u;};h.stylesSet=new h.resourceManager('','stylesSet');h.addStylesSet=l.bind(h.stylesSet.add,h.stylesSet);h.loadStylesSet=function(t,u,v){h.stylesSet.addExternal(t,u,'');h.stylesSet.load(t,v);};h.editor.prototype.getStylesSet=function(t){if(!this._.stylesDefinitions){var u=this,v=u.config.stylesCombo_stylesSet||u.config.stylesSet||'default';if(v instanceof Array){u._.stylesDefinitions=v;t(v);return;}var w=v.split(':'),x=w[0],y=w[1],z=q.registered.styles.path;h.stylesSet.addExternal(x,y?w.slice(1).join(':'):z+'styles/'+x+'.js','');h.stylesSet.load(x,function(A){u._.stylesDefinitions=A[x];t(u._.stylesDefinitions);});}else t(this._.stylesDefinitions);};q.add('domiterator');(function(){function t(x){var y=this;if(arguments.length<1)return;y.range=x;y.forceBrBreak=0;y.enlargeBr=1;y.enforceRealBlocks=0;y._||(y._={});};var u=/^[\r\n\t ]+$/,v=k.walker.bookmark(false,true);function w(x,y,z){var A=x.getNextSourceNode(y,null,z);while(!v(A))A=A.getNextSourceNode(y,null,z);return A;};t.prototype={getNextParagraph:function(x){var X=this;var y,z,A,B,C,D;if(!X._.lastNode){z=X.range.clone();z.shrink(1,true);B=z.endContainer.hasAscendant('pre',true)||z.startContainer.hasAscendant('pre',true);z.enlarge(X.forceBrBreak&&!B||!X.enlargeBr?3:2);var E=new k.walker(z),F=k.walker.bookmark(true,true);E.evaluator=F;X._.nextNode=E.next();E=new k.walker(z);E.evaluator=F;var G=E.previous();X._.lastNode=G.getNextSourceNode(true);if(X._.lastNode&&X._.lastNode.type==3&&!l.trim(X._.lastNode.getText())&&X._.lastNode.getParent().isBlockBoundary()){var H=new k.range(z.document);
H.moveToPosition(X._.lastNode,4);if(H.checkEndOfBlock()){var I=new k.elementPath(H.endContainer),J=I.block||I.blockLimit;X._.lastNode=J.getNextSourceNode(true);}}if(!X._.lastNode){X._.lastNode=X._.docEndMarker=z.document.createText('');X._.lastNode.insertAfter(G);}z=null;}var K=X._.nextNode;G=X._.lastNode;X._.nextNode=null;while(K){var L=0,M=K.hasAscendant('pre'),N=K.type!=1,O=0;if(!N){var P=K.getName();if(K.isBlockBoundary(X.forceBrBreak&&!M&&{br:1})){if(P=='br')N=1;else if(!z&&!K.getChildCount()&&P!='hr'){y=K;A=K.equals(G);break;}if(z){z.setEndAt(K,3);if(P!='br')X._.nextNode=K;}L=1;}else{if(K.getFirst()){if(!z){z=new k.range(X.range.document);z.setStartAt(K,3);}K=K.getFirst();continue;}N=1;}}else if(K.type==3)if(u.test(K.getText()))N=0;if(N&&!z){z=new k.range(X.range.document);z.setStartAt(K,3);}A=(!L||N)&&K.equals(G);if(z&&!L)while(!K.getNext(v)&&!A){var Q=K.getParent();if(Q.isBlockBoundary(X.forceBrBreak&&!M&&{br:1})){L=1;A=A||Q.equals(G);break;}K=Q;N=1;A=K.equals(G);O=1;}if(N)z.setEndAt(K,4);K=w(K,O,G);A=!K;if(A||L&&z)break;}if(!y){if(!z){X._.docEndMarker&&X._.docEndMarker.remove();X._.nextNode=null;return null;}var R=new k.elementPath(z.startContainer),S=R.blockLimit,T={div:1,th:1,td:1};y=R.block;if(!y&&!X.enforceRealBlocks&&T[S.getName()]&&z.checkStartOfBlock()&&z.checkEndOfBlock())y=S;else if(!y||X.enforceRealBlocks&&y.getName()=='li'){y=X.range.document.createElement(x||'p');z.extractContents().appendTo(y);y.trim();z.insertNode(y);C=D=true;}else if(y.getName()!='li'){if(!z.checkStartOfBlock()||!z.checkEndOfBlock()){y=y.clone(false);z.extractContents().appendTo(y);y.trim();var U=z.splitBlock();C=!U.wasStartOfBlock;D=!U.wasEndOfBlock;z.insertNode(y);}}else if(!A)X._.nextNode=y.equals(G)?null:w(z.getBoundaryNodes().endNode,1,G);}if(C){var V=y.getPrevious();if(V&&V.type==1)if(V.getName()=='br')V.remove();else if(V.getLast()&&V.getLast().$.nodeName.toLowerCase()=='br')V.getLast().remove();}if(D){var W=y.getLast();if(W&&W.type==1&&W.getName()=='br')if(j||W.getPrevious(v)||W.getNext(v))W.remove();}if(!X._.nextNode)X._.nextNode=A||y.equals(G)?null:w(y,1,G);return y;}};k.range.prototype.createIterator=function(){return new t(this);};})();q.add('panelbutton',{requires:['button'],beforeInit:function(t){t.ui.addHandler(4,r.panelButton.handler);}});h.UI_PANELBUTTON=4;(function(){var t=function(u){var w=this;var v=w._;if(v.state==0)return;w.createPanel(u);if(v.on){v.panel.hide();return;}v.panel.showBlock(w._.id,w.document.getById(w._.id),4);};r.panelButton=l.createClass({base:r.button,$:function(u){var w=this;
var v=u.panel;delete u.panel;w.base(u);w.document=v&&v.parent&&v.parent.getDocument()||h.document;v.block={attributes:v.attributes};w.hasArrow=true;w.click=t;w._={panelDefinition:v};},statics:{handler:{create:function(u){return new r.panelButton(u);}}},proto:{createPanel:function(u){var v=this._;if(v.panel)return;var w=this._.panelDefinition||{},x=this._.panelDefinition.block,y=w.parent||h.document.getBody(),z=this._.panel=new r.floatPanel(u,y,w),A=z.addBlock(v.id,x),B=this;z.onShow=function(){if(B.className)this.element.getFirst().addClass(B.className+'_panel');B.setState(1);v.on=1;if(B.onOpen)B.onOpen();};z.onHide=function(C){if(B.className)this.element.getFirst().removeClass(B.className+'_panel');B.setState(B.modes&&B.modes[u.mode]?2:0);v.on=0;if(!C&&B.onClose)B.onClose();};z.onEscape=function(){z.hide();B.document.getById(v.id).focus();};if(this.onBlock)this.onBlock(z,A);A.onHide=function(){v.on=0;B.setState(2);};}}});})();q.add('floatpanel',{requires:['panel']});(function(){var t={},u=false;function v(w,x,y,z,A){var B=l.genKey(x.getUniqueId(),y.getUniqueId(),w.skinName,w.lang.dir,w.uiColor||'',z.css||'',A||''),C=t[B];if(!C){C=t[B]=new r.panel(x,z);C.element=y.append(o.createFromHtml(C.renderHtml(w),x));C.element.setStyles({display:'none',position:'absolute'});}return C;};r.floatPanel=l.createClass({$:function(w,x,y,z){y.forceIFrame=1;var A=x.getDocument(),B=v(w,A,x,y,z||0),C=B.element,D=C.getFirst().getFirst();this.element=C;this._={panel:B,parentElement:x,definition:y,document:A,iframe:D,children:[],dir:w.lang.dir};w.on('mode',function(){this.hide();},this);},proto:{addBlock:function(w,x){return this._.panel.addBlock(w,x);},addListBlock:function(w,x){return this._.panel.addListBlock(w,x);},getBlock:function(w){return this._.panel.getBlock(w);},showBlock:function(w,x,y,z,A){var B=this._.panel,C=B.showBlock(w);this.allowBlur(false);u=1;var D=this.element,E=this._.iframe,F=this._.definition,G=x.getDocumentPosition(D.getDocument()),H=this._.dir=='rtl',I=G.x+(z||0),J=G.y+(A||0);if(H&&(y==1||y==4))I+=x.$.offsetWidth;else if(!H&&(y==2||y==3))I+=x.$.offsetWidth-1;if(y==3||y==4)J+=x.$.offsetHeight-1;this._.panel._.offsetParentId=x.getId();D.setStyles({top:J+'px',left:0,display:''});D.setOpacity(0);D.getFirst().removeStyle('width');if(!this._.blurSet){var K=j?E:new k.window(E.$.contentWindow);h.event.useCapture=true;K.on('blur',function(L){var N=this;if(!N.allowBlur())return;var M;if(j&&!N.allowBlur()||(M=L.data.getTarget())&&M.getName&&M.getName()!='iframe')return;
if(N.visible&&!N._.activeChild&&!u)N.hide();},this);K.on('focus',function(){this._.focused=true;this.hideChild();this.allowBlur(true);},this);h.event.useCapture=false;this._.blurSet=1;}B.onEscape=l.bind(function(L){if(this.onEscape&&this.onEscape(L)===false)return false;},this);l.setTimeout(function(){if(H)I-=D.$.offsetWidth;var L=l.bind(function(){var M=D.getFirst();if(C.autoSize){var N=C.element.$;if(i.gecko||i.opera)N=N.parentNode;if(j)N=N.document.body;var O=N.scrollWidth;if(j&&i.quirks&&O>0)O+=(M.$.offsetWidth||0)-(M.$.clientWidth||0);O+=4;M.setStyle('width',O+'px');C.element.addClass('cke_frameLoaded');var P=C.element.$.scrollHeight;if(j&&i.quirks&&P>0)P+=(M.$.offsetHeight||0)-(M.$.clientHeight||0);M.setStyle('height',P+'px');B._.currentBlock.element.setStyle('display','none').removeStyle('display');}else M.removeStyle('height');var Q=B.element,R=Q.getWindow(),S=R.getScrollPosition(),T=R.getViewPaneSize(),U={height:Q.$.offsetHeight,width:Q.$.offsetWidth};if(H?I<0:I+U.width>T.width+S.x)I+=U.width*(H?1:-1);if(J+U.height>T.height+S.y)J-=U.height;if(j){var V=new o(D.$.offsetParent),W=V;if(W.getName()=='html')W=W.getDocument().getBody();if(W.getComputedStyle('direction')=='rtl')if(i.ie8Compat)I-=D.getDocument().getDocumentElement().$.scrollLeft*2;else I-=V.$.scrollWidth-V.$.clientWidth;}var X=D.getFirst(),Y;if(Y=X.getCustomData('activePanel'))Y.onHide&&Y.onHide.call(this,1);X.setCustomData('activePanel',this);D.setStyles({top:J+'px',left:I+'px'});D.setOpacity(1);},this);B.isLoaded?L():B.onLoad=L;l.setTimeout(function(){E.$.contentWindow.focus();this.allowBlur(true);},0,this);},i.air?200:0,this);this.visible=1;if(this.onShow)this.onShow.call(this);u=0;},hide:function(){var w=this;if(w.visible&&(!w.onHide||w.onHide.call(w)!==true)){w.hideChild();w.element.setStyle('display','none');w.visible=0;w.element.getFirst().removeCustomData('activePanel');}},allowBlur:function(w){var x=this._.panel;if(w!=undefined)x.allowBlur=w;return x.allowBlur;},showAsChild:function(w,x,y,z,A,B){if(this._.activeChild==w&&w._.panel._.offsetParentId==y.getId())return;this.hideChild();w.onHide=l.bind(function(){l.setTimeout(function(){if(!this._.focused)this.hide();},0,this);},this);this._.activeChild=w;this._.focused=false;w.showBlock(x,y,z,A,B);if(i.ie7Compat||i.ie8&&i.ie6Compat)setTimeout(function(){w.element.getChild(0).$.style.cssText+='';},100);},hideChild:function(){var w=this._.activeChild;if(w){delete w.onHide;delete this._.activeChild;w.hide();}}}});h.on('instanceDestroyed',function(){var w=l.isEmpty(h.instances);
for(var x in t){var y=t[x];if(w)y.destroy();else y.element.hide();}w&&(t={});});})();q.add('menu',{beforeInit:function(t){var u=t.config.menu_groups.split(','),v=t._.menuGroups={},w=t._.menuItems={};for(var x=0;x<u.length;x++)v[u[x]]=x+1;t.addMenuGroup=function(y,z){v[y]=z||100;};t.addMenuItem=function(y,z){if(v[z.group])w[y]=new h.menuItem(this,y,z);};t.addMenuItems=function(y){for(var z in y)this.addMenuItem(z,y[z]);};t.getMenuItem=function(y){return w[y];};},requires:['floatpanel']});(function(){h.menu=l.createClass({$:function(u,v){var y=this;v=y._.definition=v||{};y.id=l.getNextId();y.editor=u;y.items=[];y._.listeners=[];y._.level=v.level||1;var w=l.extend({},v.panel,{css:u.skin.editor.css,level:y._.level-1,block:{}}),x=w.block.attributes=w.attributes||{};!x.role&&(x.role='menu');y._.panelDefinition=w;},_:{onShow:function(){var C=this;var u=C.editor.getSelection();if(j)u&&u.lock();var v=u&&u.getStartElement(),w=C._.listeners,x=[];C.removeAll();for(var y=0;y<w.length;y++){var z=w[y](v,u);if(z)for(var A in z){var B=C.editor.getMenuItem(A);if(B){B.state=z[A];C.add(B);}}}},onClick:function(u){this.hide();if(u.onClick)u.onClick();else if(u.command)this.editor.execCommand(u.command);},onEscape:function(u){var v=this.parent;if(v){v._.panel.hideChild();var w=v._.panel._.panel._.currentBlock,x=w._.focusIndex;w._.markItem(x);}else if(u==27){this.hide();this.editor.focus();}return false;},onHide:function(){if(j){var u=this.editor.getSelection();u&&u.unlock();}this.onHide&&this.onHide();},showSubMenu:function(u){var C=this;var v=C._.subMenu,w=C.items[u],x=w.getItems&&w.getItems();if(!x){C._.panel.hideChild();return;}var y=C._.panel.getBlock(C.id);y._.focusIndex=u;if(v)v.removeAll();else{v=C._.subMenu=new h.menu(C.editor,l.extend({},C._.definition,{level:C._.level+1},true));v.parent=C;v._.onClick=l.bind(C._.onClick,C);}for(var z in x){var A=C.editor.getMenuItem(z);if(A){A.state=x[z];v.add(A);}}var B=C._.panel.getBlock(C.id).element.getDocument().getById(C.id+String(u));v.show(B,2);}},proto:{add:function(u){if(!u.order)u.order=this.items.length;this.items.push(u);},removeAll:function(){this.items=[];},show:function(u,v,w,x){if(!this.parent){this._.onShow();if(!this.items.length)return;}v=v||(this.editor.lang.dir=='rtl'?2:1);var y=this.items,z=this.editor,A=this._.panel,B=this._.element;if(!A){A=this._.panel=new r.floatPanel(this.editor,h.document.getBody(),this._.panelDefinition,this._.level);A.onEscape=l.bind(function(M){if(this._.onEscape(M)===false)return false;},this);
A.onHide=l.bind(function(){this._.onHide&&this._.onHide();},this);var C=A.addBlock(this.id,this._.panelDefinition.block);C.autoSize=true;var D=C.keys;D[40]='next';D[9]='next';D[38]='prev';D[2000+9]='prev';D[32]='click';D[z.lang.dir=='rtl'?37:39]='click';B=this._.element=C.element;B.addClass(z.skinClass);var E=B.getDocument();E.getBody().setStyle('overflow','hidden');E.getElementsByTag('html').getItem(0).setStyle('overflow','hidden');this._.itemOverFn=l.addFunction(function(M){var N=this;clearTimeout(N._.showSubTimeout);N._.showSubTimeout=l.setTimeout(N._.showSubMenu,z.config.menu_subMenuDelay||400,N,[M]);},this);this._.itemOutFn=l.addFunction(function(M){clearTimeout(this._.showSubTimeout);},this);this._.itemClickFn=l.addFunction(function(M){var O=this;var N=O.items[M];if(N.state==0){O.hide();return;}if(N.getItems)O._.showSubMenu(M);else O._.onClick(N);},this);}t(y);var F=z.container.getChild(1),G=F.hasClass('cke_mixed_dir_content')?' cke_mixed_dir_content':'',H=['<div class="cke_menu'+G+'" role="presentation">'],I=y.length,J=I&&y[0].group;for(var K=0;K<I;K++){var L=y[K];if(J!=L.group){H.push('<div class="cke_menuseparator" role="separator"></div>');J=L.group;}L.render(this,K,H);}H.push('</div>');B.setHtml(H.join(''));r.fire('ready',this);if(this.parent)this.parent._.panel.showAsChild(A,this.id,u,v,w,x);else A.showBlock(this.id,u,v,w,x);z.fire('menuShow',[A]);},addListener:function(u){this._.listeners.push(u);},hide:function(){var u=this;u._.onHide&&u._.onHide();u._.panel&&u._.panel.hide();}}});function t(u){u.sort(function(v,w){if(v.group<w.group)return-1;else if(v.group>w.group)return 1;return v.order<w.order?-1:v.order>w.order?1:0;});};h.menuItem=l.createClass({$:function(u,v,w){var x=this;l.extend(x,w,{order:0,className:'cke_button_'+v});x.group=u._.menuGroups[x.group];x.editor=u;x.name=v;},proto:{render:function(u,v,w){var D=this;var x=u.id+String(v),y=typeof D.state=='undefined'?2:D.state,z=' cke_'+(y==1?'on':y==0?'disabled':'off'),A=D.label;if(D.className)z+=' '+D.className;var B=D.getItems;w.push('<span class="cke_menuitem'+(D.icon&&D.icon.indexOf('.png')==-1?' cke_noalphafix':'')+'">'+'<a id="',x,'" class="',z,'" href="javascript:void(\'',(D.label||'').replace("'",''),'\')" title="',D.label,'" tabindex="-1"_cke_focus=1 hidefocus="true" role="menuitem"'+(B?'aria-haspopup="true"':'')+(y==0?'aria-disabled="true"':'')+(y==1?'aria-pressed="true"':''));if(i.opera||i.gecko&&i.mac)w.push(' onkeypress="return false;"');if(i.gecko)w.push(' onblur="this.style.cssText = this.style.cssText;"');
var C=(D.iconOffset||0)*-16;w.push(' onmouseover="CKEDITOR.tools.callFunction(',u._.itemOverFn,',',v,');" onmouseout="CKEDITOR.tools.callFunction(',u._.itemOutFn,',',v,');" onclick="CKEDITOR.tools.callFunction(',u._.itemClickFn,',',v,'); return false;"><span class="cke_icon_wrapper"><span class="cke_icon"'+(D.icon?' style="background-image:url('+h.getUrl(D.icon)+');background-position:0 '+C+'px;"':'')+'></span></span>'+'<span class="cke_label">');if(B)w.push('<span class="cke_menuarrow">','<span>&#',D.editor.lang.dir=='rtl'?'9668':'9658',';</span>','</span>');w.push(A,'</span></a></span>');}}});})();p.menu_groups='clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div';(function(){var t=function(v,w){return v._.modes&&v._.modes[w||v.mode];},u;q.add('editingblock',{init:function(v){if(!v.config.editingBlock)return;v.on('themeSpace',function(w){if(w.data.space=='contents')w.data.html+='<br>';});v.on('themeLoaded',function(){v.fireOnce('editingBlockReady');});v.on('uiReady',function(){v.setMode(v.config.startupMode);});v.on('afterSetData',function(){if(!u){function w(){u=true;t(v).loadData(v.getData());u=false;};if(v.mode)w();else v.on('mode',function(){w();v.removeListener('mode',arguments.callee);});}});v.on('beforeGetData',function(){if(!u&&v.mode){u=true;v.setData(t(v).getData());u=false;}});v.on('getSnapshot',function(w){if(v.mode)w.data=t(v).getSnapshotData();});v.on('loadSnapshot',function(w){if(v.mode)t(v).loadSnapshotData(w.data);});v.on('mode',function(w){w.removeListener();i.webkit&&v.container.on('focus',function(){v.focus();});if(v.config.startupFocus)v.focus();setTimeout(function(){v.fireOnce('instanceReady');h.fire('instanceReady',null,v);},0);});v.on('destroy',function(){var w=this;if(w.mode)w._.modes[w.mode].unload(w.getThemeSpace('contents'));});}});h.editor.prototype.mode='';h.editor.prototype.addMode=function(v,w){w.name=v;(this._.modes||(this._.modes={}))[v]=w;};h.editor.prototype.setMode=function(v){var w,x=this.getThemeSpace('contents'),y=this.checkDirty();if(this.mode){if(v==this.mode)return;this.fire('beforeModeUnload');var z=t(this);w=z.getData();z.unload(x);this.mode='';}x.setHtml('');var A=t(this,v);if(!A)throw '[CKEDITOR.editor.setMode] Unknown mode "'+v+'".';if(!y)this.on('mode',function(){this.resetDirty();this.removeListener('mode',arguments.callee);});A.load(x,typeof w!='string'?this.getData():w);};h.editor.prototype.focus=function(){var v=t(this);
if(v)v.focus();};})();p.startupMode='wysiwyg';p.editingBlock=true;(function(){function t(){var D=this;try{var A=D.getSelection();if(!A||!A.document.getWindow().$)return;var B=A.getStartElement(),C=new k.elementPath(B);if(!C.compare(D._.selectionPreviousPath)){D._.selectionPreviousPath=C;D.fire('selectionChange',{selection:A,path:C,element:B});}}catch(E){}};var u,v;function w(){v=true;if(u)return;x.call(this);u=l.setTimeout(x,200,this);};function x(){u=null;if(v){l.setTimeout(t,0,this);v=false;}};var y={modes:{wysiwyg:1,source:1},exec:function(A){switch(A.mode){case 'wysiwyg':A.document.$.execCommand('SelectAll',false,null);A.forceNextSelectionCheck();A.selectionChange();break;case 'source':var B=A.textarea.$;if(j)B.createTextRange().execCommand('SelectAll');else{B.selectionStart=0;B.selectionEnd=B.value.length;}B.focus();}},canUndo:false};q.add('selection',{init:function(A){A.on('contentDom',function(){var B=A.document,C=B.getBody(),D=B.getDocumentElement();if(j){var E,F,G=1;C.on('focusin',function(K){if(K.data.$.srcElement.nodeName!='BODY')return;if(E){var L=B.getCustomData('cke_locked_selection');if(G&&!L)try{E.select();}catch(M){}E=null;}});C.on('focus',function(){F=1;J();});C.on('beforedeactivate',function(K){if(K.data.$.toElement)return;F=0;G=1;});if(j&&i.version<8)A.on('blur',function(K){try{A.document&&A.document.$.selection.empty();}catch(L){}});D.on('mousedown',function(){G=0;});D.on('mouseup',function(){G=1;});if(j&&(i.ie7Compat||i.version<8||i.quirks))D.on('click',function(K){if(K.data.getTarget().getName()=='html')A.getSelection().getRanges()[0].select();});var H;C.on('mousedown',function(K){if(K.data.$.button==2){var L=A.document.$.selection;if(L.type=='None')H=A.window.getScrollPosition();}I();});C.on('mouseup',function(K){if(K.data.$.button==2&&H){A.document.$.documentElement.scrollLeft=H.x;A.document.$.documentElement.scrollTop=H.y;}H=null;F=1;setTimeout(function(){J(true);},0);});C.on('keydown',I);C.on('keyup',function(){F=1;J();});B.on('selectionchange',J);function I(){F=0;};function J(K){if(F){var L=A.document,M=A.getSelection(),N=M&&M.getNative();if(K&&N&&N.type=='None')if(!L.$.queryCommandEnabled('InsertImage')){l.setTimeout(J,50,this,true);return;}var O;if(N&&N.type&&N.type!='Control'&&(O=N.createRange())&&(O=O.parentElement())&&(O=O.nodeName)&&O.toLowerCase() in {input:1,textarea:1})return;E=N&&M.getRanges()[0];w.call(A);}};}else{B.on('mouseup',w,A);B.on('keyup',w,A);}});A.addCommand('selectAll',y);A.ui.addButton('SelectAll',{label:A.lang.selectAll,command:'selectAll'});
A.selectionChange=w;}});h.editor.prototype.getSelection=function(){return this.document&&this.document.getSelection();};h.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath;};n.prototype.getSelection=function(){var A=new k.selection(this);return!A||A.isInvalid?null:A;};h.SELECTION_NONE=1;h.SELECTION_TEXT=2;h.SELECTION_ELEMENT=3;k.selection=function(A){var D=this;var B=A.getCustomData('cke_locked_selection');if(B)return B;D.document=A;D.isLocked=0;D._={cache:{}};if(j){var C=D.getNative().createRange();if(!C||C.item&&C.item(0).ownerDocument!=D.document.$||C.parentElement&&C.parentElement().ownerDocument!=D.document.$)D.isInvalid=true;}return D;};var z={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,th:1,thead:1,tfoot:1};k.selection.prototype={getNative:j?function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.$.selection);}:function(){return this._.cache.nativeSel||(this._.cache.nativeSel=this.document.getWindow().$.getSelection());},getType:j?function(){var A=this._.cache;if(A.type)return A.type;var B=1;try{var C=this.getNative(),D=C.type;if(D=='Text')B=2;if(D=='Control')B=3;if(C.createRange().parentElement)B=2;}catch(E){}return A.type=B;}:function(){var A=this._.cache;if(A.type)return A.type;var B=2,C=this.getNative();if(!C)B=1;else if(C.rangeCount==1){var D=C.getRangeAt(0),E=D.startContainer;if(E==D.endContainer&&E.nodeType==1&&D.endOffset-D.startOffset==1&&z[E.childNodes[D.startOffset].nodeName.toLowerCase()])B=3;}return A.type=B;},getRanges:(function(){var A=j?(function(){function B(D){return new k.node(D).getIndex();};var C=function(D,E){D=D.duplicate();D.collapse(E);var F=D.parentElement();if(!F.hasChildNodes())return{container:F,offset:0};var G=F.children,H,I=D.duplicate(),J=0,K=G.length-1,L=-1,M,N;while(J<=K){L=Math.floor((J+K)/2);H=G[L];I.moveToElementText(H);M=I.compareEndPoints('StartToStart',D);if(M>0)K=L-1;else if(M<0)J=L+1;else return{container:F,offset:B(H)};}if(L==-1||L==G.length-1&&M<0){I.moveToElementText(F);I.setEndPoint('StartToStart',D);N=I.text.replace(/(\r\n|\r)/g,'\n').length;G=F.childNodes;if(!N){H=G[G.length-1];if(H.nodeType==1)return{container:F,offset:G.length};else return{container:H,offset:H.nodeValue.length};}var O=G.length;while(N>0)N-=G[--O].nodeValue.length;return{container:G[O],offset:-N};}else{I.collapse(M>0?true:false);I.setEndPoint(M>0?'StartToStart':'EndToStart',D);N=I.text.replace(/(\r\n|\r)/g,'\n').length;
if(!N)return{container:F,offset:B(H)+(M>0?0:1)};while(N>0){H=H[M>0?'previousSibling':'nextSibling'];try{N-=H.nodeValue.length;}catch(P){return{container:F,offset:B(H)};}}return{container:H,offset:M>0?-N:H.nodeValue.length+N};}};return function(){var N=this;var D=N.getNative(),E=D&&D.createRange(),F=N.getType(),G;if(!D)return[];if(F==2){G=new k.range(N.document);var H=C(E,true);G.setStart(new k.node(H.container),H.offset);H=C(E);G.setEnd(new k.node(H.container),H.offset);if(G.endContainer.getPosition(G.startContainer)&4&&G.endOffset<=G.startContainer.getIndex())G.collapse();return[G];}else if(F==3){var I=[];for(var J=0;J<E.length;J++){var K=E.item(J),L=K.parentNode,M=0;G=new k.range(N.document);for(;M<L.childNodes.length&&L.childNodes[M]!=K;M++){}G.setStart(new k.node(L),M);G.setEnd(new k.node(L),M+1);I.push(G);}return I;}return[];};})():function(){var B=[],C,D=this.document,E=this.getNative();if(!E)return B;if(!E.rangeCount){C=new k.range(D);C.moveToElementEditStart(D.getBody());B.push(C);}for(var F=0;F<E.rangeCount;F++){var G=E.getRangeAt(F);C=new k.range(D);C.setStart(new k.node(G.startContainer),G.startOffset);C.setEnd(new k.node(G.endContainer),G.endOffset);B.push(C);}return B;};return function(B){var C=this._.cache;if(C.ranges&&!B)return C.ranges;else if(!C.ranges)C.ranges=new k.rangeList(A.call(this));if(B){var D=C.ranges;for(var E=0;E<D.length;E++){var F=D[E],G=F.getCommonAncestor();if(G.isReadOnly())D.splice(E,1);if(F.collapsed)continue;var H=F.startContainer,I=F.endContainer,J=F.startOffset,K=F.endOffset,L=F.clone(),M;if(M=H.isReadOnly())F.setStartAfter(M);if(H&&H.type==3)if(J>=H.getLength())L.setStartAfter(H);else L.setStartBefore(H);if(I&&I.type==3)if(!K)L.setEndBefore(I);else L.setEndAfter(I);var N=new k.walker(L);N.evaluator=function(O){if(O.type==1&&O.isReadOnly()){var P=F.clone();F.setEndBefore(O);if(F.collapsed)D.splice(E--,1);if(!(O.getPosition(L.endContainer)&16)){P.setStartAfter(O);if(!P.collapsed)D.splice(E+1,0,P);}return true;}return false;};N.next();}}return C.ranges;};})(),getStartElement:function(){var H=this;var A=H._.cache;if(A.startElement!==undefined)return A.startElement;var B,C=H.getNative();switch(H.getType()){case 3:return H.getSelectedElement();case 2:var D=H.getRanges()[0];if(D){if(!D.collapsed){D.optimize();while(1){var E=D.startContainer,F=D.startOffset;if(F==(E.getChildCount?E.getChildCount():E.getLength())&&!E.isBlockBoundary())D.setStartAfter(E);else break;}B=D.startContainer;if(B.type!=1)return B.getParent();B=B.getChild(D.startOffset);
if(!B||B.type!=1)B=D.startContainer;else{var G=B.getFirst();while(G&&G.type==1){B=G;G=G.getFirst();}}}else{B=D.startContainer;if(B.type!=1)B=B.getParent();}B=B.$;}}return A.startElement=B?new o(B):null;},getSelectedElement:function(){var A=this._.cache;if(A.selectedElement!==undefined)return A.selectedElement;var B=this,C=l.tryThese(function(){return B.getNative().createRange().item(0);},function(){var D=B.getRanges()[0],E,F;for(var G=2;G&&!((E=D.getEnclosedNode())&&E.type==1&&z[E.getName()]&&(F=E));G--)D.shrink(1);return F.$;});return A.selectedElement=C?new o(C):null;},lock:function(){var A=this;A.getRanges();A.getStartElement();A.getSelectedElement();A._.cache.nativeSel={};A.isLocked=1;A.document.setCustomData('cke_locked_selection',A);},unlock:function(A){var F=this;var B=F.document,C=B.getCustomData('cke_locked_selection');if(C){B.setCustomData('cke_locked_selection',null);if(A){var D=C.getSelectedElement(),E=!D&&C.getRanges();F.isLocked=0;F.reset();B.getBody().focus();if(D)F.selectElement(D);else F.selectRanges(E);}}if(!C||!A){F.isLocked=0;F.reset();}},reset:function(){this._.cache={};},selectElement:function(A){var D=this;if(D.isLocked){var B=new k.range(D.document);B.setStartBefore(A);B.setEndAfter(A);D._.cache.selectedElement=A;D._.cache.startElement=A;D._.cache.ranges=new k.rangeList(B);D._.cache.type=3;return;}if(j){D.getNative().empty();try{B=D.document.$.body.createControlRange();B.addElement(A.$);B.select();}catch(E){B=D.document.$.body.createTextRange();B.moveToElementText(A.$);B.select();}finally{D.document.fire('selectionchange');}D.reset();}else{B=D.document.$.createRange();B.selectNode(A.$);var C=D.getNative();C.removeAllRanges();C.addRange(B);D.reset();}},selectRanges:function(A){var M=this;if(M.isLocked){M._.cache.selectedElement=null;M._.cache.startElement=A[0]&&A[0].getTouchedStartNode();M._.cache.ranges=new k.rangeList(A);M._.cache.type=2;return;}if(j){if(A.length>1){var B=A[A.length-1];A[0].setEnd(B.endContainer,B.endOffset);A.length=1;}if(A[0])A[0].select();M.reset();}else{var C=M.getNative();if(A.length)C.removeAllRanges();for(var D=0;D<A.length;D++){if(D<A.length-1){var E=A[D],F=A[D+1],G=E.clone();G.setStart(E.endContainer,E.endOffset);G.setEnd(F.startContainer,F.startOffset);if(!G.collapsed){G.shrink(1,true);var H=G.getCommonAncestor(),I=G.getEnclosedNode();if(H.isReadOnly()||I&&I.isReadOnly()){F.setStart(E.startContainer,E.startOffset);A.splice(D--,1);continue;}}}var J=A[D],K=M.document.$.createRange(),L=J.startContainer;if(J.collapsed&&(i.opera||i.gecko&&i.version<10900)&&L.type==1&&!L.getChildCount())L.appendText('');
K.setStart(L.$,J.startOffset);K.setEnd(J.endContainer.$,J.endOffset);C.addRange(K);}M.reset();}},createBookmarks:function(A){return this.getRanges().createBookmarks(A);},createBookmarks2:function(A){return this.getRanges().createBookmarks2(A);},selectBookmarks:function(A){var B=[];for(var C=0;C<A.length;C++){var D=new k.range(this.document);D.moveToBookmark(A[C]);B.push(D);}this.selectRanges(B);return this;},getCommonAncestor:function(){var A=this.getRanges(),B=A[0].startContainer,C=A[A.length-1].endContainer;return B.getCommonAncestor(C);},scrollIntoView:function(){var A=this.getStartElement();A.scrollIntoView();}};})();(function(){var t=k.walker.whitespaces(true),u=/\ufeff|\u00a0/,v={table:1,tbody:1,tr:1};k.range.prototype.select=j?function(w){var G=this;var x=G.collapsed,y,z;if(G.startContainer.type==1&&G.startContainer.getName() in v||G.endContainer.type==1&&G.endContainer.getName() in v)G.shrink(1,true);var A=G.createBookmark(),B=A.startNode,C;if(!x)C=A.endNode;var D=G.document.$.body.createTextRange();D.moveToElementText(B.$);D.moveStart('character',1);if(C){var E=G.document.$.body.createTextRange();E.moveToElementText(C.$);D.setEndPoint('EndToEnd',E);D.moveEnd('character',-1);}else{var F=B.getNext(t);y=!(F&&F.getText&&F.getText().match(u))&&(w||!B.hasPrevious()||B.getPrevious().is&&B.getPrevious().is('br'));z=G.document.createElement('span');z.setHtml('&#65279;');z.insertBefore(B);if(y)G.document.createText('\ufeff').insertBefore(B);}G.setStartBefore(B);B.remove();if(x){if(y){D.moveStart('character',-1);D.select();G.document.$.selection.clear();}else D.select();G.moveToPosition(z,3);z.remove();}else{G.setEndBefore(C);C.remove();D.select();}G.document.fire('selectionchange');}:function(){var z=this;var w=z.startContainer;if(z.collapsed&&w.type==1&&!w.getChildCount())w.append(new k.text(''));var x=z.document.$.createRange();x.setStart(w.$,z.startOffset);try{x.setEnd(z.endContainer.$,z.endOffset);}catch(A){if(A.toString().indexOf('NS_ERROR_ILLEGAL_VALUE')>=0){z.collapse(true);x.setEnd(z.endContainer.$,z.endOffset);}else throw A;}var y=z.document.getSelection().getNative();if(y){y.removeAllRanges();y.addRange(x);}};})();(function(){var t={elements:{$:function(u){var v=u.attributes,w=v&&v['data-cke-realelement'],x=w&&new h.htmlParser.fragment.fromHtml(decodeURIComponent(w)),y=x&&x.children[0];if(y&&u.attributes['data-cke-resizable']){var z=u.attributes.style;if(z){var A=/(?:^|\s)width\s*:\s*(\d+)/i.exec(z),B=A&&A[1];A=/(?:^|\s)height\s*:\s*(\d+)/i.exec(z);
var C=A&&A[1];if(B)y.attributes.width=B;if(C)y.attributes.height=C;}}return y;}}};q.add('fakeobjects',{requires:['htmlwriter'],afterInit:function(u){var v=u.dataProcessor,w=v&&v.htmlFilter;if(w)w.addRules(t);}});})();h.editor.prototype.createFakeElement=function(t,u,v,w){var x=this.lang.fakeobjects,y=x[v]||x.unknown,z={'class':u,src:h.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(t.getOuterHtml()),'data-cke-real-node-type':t.type,alt:y,title:y,align:t.getAttribute('align')||''};if(v)z['data-cke-real-element-type']=v;if(w)z['data-cke-resizable']=w;return this.document.createElement('img',{attributes:z});};h.editor.prototype.createFakeParserElement=function(t,u,v,w){var x=this.lang.fakeobjects,y=x[v]||x.unknown,z,A=new h.htmlParser.basicWriter();t.writeHtml(A);z=A.getHtml();var B={'class':u,src:h.getUrl('images/spacer.gif'),'data-cke-realelement':encodeURIComponent(z),'data-cke-real-node-type':t.type,alt:y,title:y,align:t.attributes.align||''};if(v)B['data-cke-real-element-type']=v;if(w)B['data-cke-resizable']=w;return new h.htmlParser.element('img',B);};h.editor.prototype.restoreRealElement=function(t){if(t.data('cke-real-node-type')!=1)return null;return o.createFromHtml(decodeURIComponent(t.data('cke-realelement')),this.document);};q.add('richcombo',{requires:['floatpanel','listblock','button'],beforeInit:function(t){t.ui.addHandler(3,r.richCombo.handler);}});h.UI_RICHCOMBO=3;r.richCombo=l.createClass({$:function(t){var v=this;l.extend(v,t,{title:t.label,modes:{wysiwyg:1}});var u=v.panel||{};delete v.panel;v.id=l.getNextNumber();v.document=u&&u.parent&&u.parent.getDocument()||h.document;u.className=(u.className||'')+' cke_rcombopanel';u.block={multiSelect:u.multiSelect,attributes:u.attributes};v._={panelDefinition:u,items:{},state:2};},statics:{handler:{create:function(t){return new r.richCombo(t);}}},proto:{renderHtml:function(t){var u=[];this.render(t,u);return u.join('');},render:function(t,u){var v=i,w='cke_'+this.id,x=l.addFunction(function(A){var D=this;var B=D._;if(B.state==0)return;D.createPanel(t);if(B.on){B.panel.hide();return;}D.commit();var C=D.getValue();if(C)B.list.mark(C);else B.list.unmarkAll();B.panel.showBlock(D.id,new o(A),4);},this),y={id:w,combo:this,focus:function(){var A=h.document.getById(w).getChild(1);A.focus();},clickFn:x};t.on('mode',function(){this.setState(this.modes[t.mode]?2:0);this.setValue('');},this);var z=l.addFunction(function(A,B){A=new k.event(A);var C=A.getKeystroke();switch(C){case 13:case 32:case 40:l.callFunction(x,B);
break;default:y.onkey(y,C);}A.preventDefault();});y.keyDownFn=z;u.push('<span class="cke_rcombo">','<span id=',w);if(this.className)u.push(' class="',this.className,' cke_off"');u.push('>','<span id="'+w+'_label" class=cke_label>',this.label,'</span>','<a hidefocus=true title="',this.title,'" tabindex="-1"',v.gecko&&v.version>=10900&&!v.hc?'':" href=\"javascript:void('"+this.label+"')\"",' role="button" aria-labelledby="',w,'_label" aria-describedby="',w,'_text" aria-haspopup="true"');if(i.opera||i.gecko&&i.mac)u.push(' onkeypress="return false;"');if(i.gecko)u.push(' onblur="this.style.cssText = this.style.cssText;"');u.push(' onkeydown="CKEDITOR.tools.callFunction( ',z,', event, this );" onclick="CKEDITOR.tools.callFunction(',x,', this); return false;"><span><span id="'+w+'_text" class="cke_text cke_inline_label">'+this.label+'</span>'+'</span>'+'<span class=cke_openbutton>'+(i.hc?'<span>&#9660;</span>':i.air?'&nbsp;':'')+'</span>'+'</a>'+'</span>'+'</span>');if(this.onRender)this.onRender();return y;},createPanel:function(t){if(this._.panel)return;var u=this._.panelDefinition,v=this._.panelDefinition.block,w=u.parent||h.document.getBody(),x=new r.floatPanel(t,w,u),y=x.addListBlock(this.id,v),z=this;x.onShow=function(){if(z.className)this.element.getFirst().addClass(z.className+'_panel');z.setState(1);y.focus(!z.multiSelect&&z.getValue());z._.on=1;if(z.onOpen)z.onOpen();};x.onHide=function(A){if(z.className)this.element.getFirst().removeClass(z.className+'_panel');z.setState(z.modes&&z.modes[t.mode]?2:0);z._.on=0;if(!A&&z.onClose)z.onClose();};x.onEscape=function(){x.hide();z.document.getById('cke_'+z.id).getFirst().getNext().focus();};y.onClick=function(A,B){z.document.getWindow().focus();if(z.onClick)z.onClick.call(z,A,B);if(B)z.setValue(A,z._.items[A]);else z.setValue('');x.hide();};this._.panel=x;this._.list=y;x.getBlock(this.id).onHide=function(){z._.on=0;z.setState(2);};if(this.init)this.init();},setValue:function(t,u){var w=this;w._.value=t;var v=w.document.getById('cke_'+w.id+'_text');if(v){if(!(t||u)){u=w.label;v.addClass('cke_inline_label');}else v.removeClass('cke_inline_label');v.setHtml(typeof u!='undefined'?u:t);}},getValue:function(){return this._.value||'';},unmarkAll:function(){this._.list.unmarkAll();},mark:function(t){this._.list.mark(t);},hideItem:function(t){this._.list.hideItem(t);},hideGroup:function(t){this._.list.hideGroup(t);},showAll:function(){this._.list.showAll();},add:function(t,u,v){this._.items[t]=v||t;this._.list.add(t,u,v);
},startGroup:function(t){this._.list.startGroup(t);},commit:function(){var t=this;if(!t._.committed){t._.list.commit();t._.committed=1;r.fire('ready',t);}t._.committed=1;},setState:function(t){var u=this;if(u._.state==t)return;u.document.getById('cke_'+u.id).setState(t);u._.state=t;}}});r.prototype.addRichCombo=function(t,u){this.add(t,3,u);};q.add('htmlwriter');h.htmlWriter=l.createClass({base:h.htmlParser.basicWriter,$:function(){var v=this;v.base();v.indentationChars='\t';v.selfClosingEnd=' />';v.lineBreakChars='\n';v.forceSimpleAmpersand=0;v.sortAttributes=1;v._.indent=0;v._.indentation='';v._.inPre=0;v._.rules={};var t=m;for(var u in l.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))v.setRules(u,{indent:1,breakBeforeOpen:1,breakAfterOpen:1,breakBeforeClose:!t[u]['#'],breakAfterClose:1});v.setRules('br',{breakAfterOpen:1});v.setRules('title',{indent:0,breakAfterOpen:0});v.setRules('style',{indent:0,breakBeforeClose:1});v.setRules('pre',{indent:0});},proto:{openTag:function(t,u){var w=this;var v=w._.rules[t];if(w._.indent)w.indentation();else if(v&&v.breakBeforeOpen){w.lineBreak();w.indentation();}w._.output.push('<',t);},openTagClose:function(t,u){var w=this;var v=w._.rules[t];if(u)w._.output.push(w.selfClosingEnd);else{w._.output.push('>');if(v&&v.indent)w._.indentation+=w.indentationChars;}if(v&&v.breakAfterOpen)w.lineBreak();t=='pre'&&(w._.inPre=1);},attribute:function(t,u){if(typeof u=='string'){this.forceSimpleAmpersand&&(u=u.replace(/&amp;/g,'&'));u=l.htmlEncodeAttr(u);}this._.output.push(' ',t,'="',u,'"');},closeTag:function(t){var v=this;var u=v._.rules[t];if(u&&u.indent)v._.indentation=v._.indentation.substr(v.indentationChars.length);if(v._.indent)v.indentation();else if(u&&u.breakBeforeClose){v.lineBreak();v.indentation();}v._.output.push('</',t,'>');t=='pre'&&(v._.inPre=0);if(u&&u.breakAfterClose)v.lineBreak();},text:function(t){var u=this;if(u._.indent){u.indentation();!u._.inPre&&(t=l.ltrim(t));}u._.output.push(t);},comment:function(t){if(this._.indent)this.indentation();this._.output.push('<!--',t,'-->');},lineBreak:function(){var t=this;if(!t._.inPre&&t._.output.length>0)t._.output.push(t.lineBreakChars);t._.indent=1;},indentation:function(){var t=this;if(!t._.inPre)t._.output.push(t._.indentation);t._.indent=0;},setRules:function(t,u){var v=this._.rules[t];if(v)l.extend(v,u,true);else this._.rules[t]=u;}}});q.add('menubutton',{requires:['button','menu'],beforeInit:function(t){t.ui.addHandler(5,r.menuButton.handler);}});
h.UI_MENUBUTTON=5;(function(){var t=function(u){var v=this._;if(v.state===0)return;v.previousState=v.state;var w=v.menu;if(!w){w=v.menu=new h.menu(u,{panel:{className:u.skinClass+' cke_contextmenu',attributes:{'aria-label':u.lang.common.options}}});w.onHide=l.bind(function(){this.setState(this.modes&&this.modes[u.mode]?v.previousState:0);},this);if(this.onMenu)w.addListener(this.onMenu);}if(v.on){w.hide();return;}this.setState(1);w.show(h.document.getById(this._.id),4);};r.menuButton=l.createClass({base:r.button,$:function(u){var v=u.panel;delete u.panel;this.base(u);this.hasArrow=true;this.click=t;},statics:{handler:{create:function(u){return new r.menuButton(u);}}}});})();q.add('dialogui');(function(){var t=function(B){var E=this;E._||(E._={});E._['default']=E._.initValue=B['default']||'';E._.required=B.required||false;var C=[E._];for(var D=1;D<arguments.length;D++)C.push(arguments[D]);C.push(true);l.extend.apply(l,C);return E._;},u={build:function(B,C,D){return new r.dialog.textInput(B,C,D);}},v={build:function(B,C,D){return new r.dialog[C.type](B,C,D);}},w={build:function(B,C,D){var E=C.children,F,G=[],H=[];for(var I=0;I<E.length&&(F=E[I]);I++){var J=[];G.push(J);H.push(h.dialog._.uiElementBuilders[F.type].build(B,F,J));}return new r.dialog[C.type](B,H,G,D,C);}},x={isChanged:function(){return this.getValue()!=this.getInitValue();},reset:function(B){this.setValue(this.getInitValue(),B);},setInitValue:function(){this._.initValue=this.getValue();},resetInitValue:function(){this._.initValue=this._['default'];},getInitValue:function(){return this._.initValue;}},y=l.extend({},r.dialog.uiElement.prototype.eventProcessors,{onChange:function(B,C){if(!this._.domOnChangeRegistered){B.on('load',function(){this.getInputElement().on('change',function(){if(!B.parts.dialog.isVisible())return;this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',C);}},true),z=/^on([A-Z]\w+)/,A=function(B){for(var C in B){if(z.test(C)||C=='title'||C=='type')delete B[C];}return B;};l.extend(r.dialog,{labeledElement:function(B,C,D,E){if(arguments.length<4)return;var F=t.call(this,C);F.labelId=l.getNextId()+'_label';var G=this._.children=[],H=function(){var I=[],J=C.required?' cke_required':'';if(C.labelLayout!='horizontal')I.push('<label class="cke_dialog_ui_labeled_label'+J+'" ',' id="'+F.labelId+'"',' for="'+F.inputId+'"',' style="'+C.labelStyle+'">',C.label,'</label>','<div class="cke_dialog_ui_labeled_content" role="presentation">',E.call(this,B,C),'</div>');
else{var K={type:'hbox',widths:C.widths,padding:0,children:[{type:'html',html:'<label class="cke_dialog_ui_labeled_label'+J+'"'+' id="'+F.labelId+'"'+' for="'+F.inputId+'"'+' style="'+C.labelStyle+'">'+l.htmlEncode(C.label)+'</span>'},{type:'html',html:'<span class="cke_dialog_ui_labeled_content">'+E.call(this,B,C)+'</span>'}]};h.dialog._.uiElementBuilders.hbox.build(B,K,I);}return I.join('');};r.dialog.uiElement.call(this,B,C,D,'div',null,{role:'presentation'},H);},textInput:function(B,C,D){if(arguments.length<3)return;t.call(this,C);var E=this._.inputId=l.getNextId()+'_textInput',F={'class':'cke_dialog_ui_input_'+C.type,id:E,type:'text'},G;if(C.validate)this.validate=C.validate;if(C.maxLength)F.maxlength=C.maxLength;if(C.size)F.size=C.size;if(C.controlStyle)F.style=C.controlStyle;var H=this,I=false;B.on('load',function(){H.getInputElement().on('keydown',function(K){if(K.data.getKeystroke()==13)I=true;});H.getInputElement().on('keyup',function(K){if(K.data.getKeystroke()==13&&I){B.getButton('ok')&&setTimeout(function(){B.getButton('ok').click();},0);I=false;}},null,null,1000);});var J=function(){var K=['<div class="cke_dialog_ui_input_',C.type,'" role="presentation"'];if(C.width)K.push('style="width:'+C.width+'" ');K.push('><input ');F['aria-labelledby']=this._.labelId;this._.required&&(F['aria-required']=this._.required);for(var L in F)K.push(L+'="'+F[L]+'" ');K.push(' /></div>');return K.join('');};r.dialog.labeledElement.call(this,B,C,D,J);},textarea:function(B,C,D){if(arguments.length<3)return;t.call(this,C);var E=this,F=this._.inputId=l.getNextId()+'_textarea',G={};if(C.validate)this.validate=C.validate;G.rows=C.rows||5;G.cols=C.cols||20;var H=function(){G['aria-labelledby']=this._.labelId;this._.required&&(G['aria-required']=this._.required);var I=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea class="cke_dialog_ui_input_textarea" id="',F,'" '];for(var J in G)I.push(J+'="'+l.htmlEncode(G[J])+'" ');I.push('>',l.htmlEncode(E._['default']),'</textarea></div>');return I.join('');};r.dialog.labeledElement.call(this,B,C,D,H);},checkbox:function(B,C,D){if(arguments.length<3)return;var E=t.call(this,C,{'default':!!C['default']});if(C.validate)this.validate=C.validate;var F=function(){var G=l.extend({},C,{id:C.id?C.id+'_checkbox':l.getNextId()+'_checkbox'},true),H=[],I=l.getNextId()+'_label',J={'class':'cke_dialog_ui_checkbox_input',type:'checkbox','aria-labelledby':I};A(G);if(C['default'])J.checked='checked';if(typeof G.controlStyle!='undefined')G.style=G.controlStyle;
E.checkbox=new r.dialog.uiElement(B,G,H,'input',null,J);H.push(' <label id="',I,'" for="',J.id,'">',l.htmlEncode(C.label),'</label>');return H.join('');};r.dialog.uiElement.call(this,B,C,D,'span',null,null,F);},radio:function(B,C,D){if(arguments.length<3)return;t.call(this,C);if(!this._['default'])this._['default']=this._.initValue=C.items[0][1];if(C.validate)this.validate=C.valdiate;var E=[],F=this,G=function(){var H=[],I=[],J={'class':'cke_dialog_ui_radio_item','aria-labelledby':this._.labelId},K=C.id?C.id+'_radio':l.getNextId()+'_radio';for(var L=0;L<C.items.length;L++){var M=C.items[L],N=M[2]!==undefined?M[2]:M[0],O=M[1]!==undefined?M[1]:M[0],P=l.getNextId()+'_radio_input',Q=P+'_label',R=l.extend({},C,{id:P,title:null,type:null},true),S=l.extend({},R,{title:N},true),T={type:'radio','class':'cke_dialog_ui_radio_input',name:K,value:O,'aria-labelledby':Q},U=[];if(F._['default']==O)T.checked='checked';A(R);A(S);if(typeof R.controlStyle!='undefined')R.style=R.controlStyle;E.push(new r.dialog.uiElement(B,R,U,'input',null,T));U.push(' ');new r.dialog.uiElement(B,S,U,'label',null,{id:Q,'for':T.id},M[0]);H.push(U.join(''));}new r.dialog.hbox(B,[],H,I);return I.join('');};r.dialog.labeledElement.call(this,B,C,D,G);this._.children=E;},button:function(B,C,D){if(!arguments.length)return;if(typeof C=='function')C=C(B.getParentEditor());t.call(this,C,{disabled:C.disabled||false});h.event.implementOn(this);var E=this;B.on('load',function(H){var I=this.getElement();(function(){I.on('click',function(J){E.fire('click',{dialog:E.getDialog()});J.data.preventDefault();});I.on('keydown',function(J){if(J.data.getKeystroke() in {32:1}){E.click();J.data.preventDefault();}});})();I.unselectable();},this);var F=l.extend({},C);delete F.style;var G=l.getNextId()+'_label';r.dialog.uiElement.call(this,B,F,D,'a',null,{style:C.style,href:'javascript:void(0)',title:C.label,hidefocus:'true','class':C['class'],role:'button','aria-labelledby':G},'<span id="'+G+'" class="cke_dialog_ui_button">'+l.htmlEncode(C.label)+'</span>');},select:function(B,C,D){if(arguments.length<3)return;var E=t.call(this,C);if(C.validate)this.validate=C.validate;E.inputId=l.getNextId()+'_select';var F=function(){var G=l.extend({},C,{id:C.id?C.id+'_select':l.getNextId()+'_select'},true),H=[],I=[],J={id:E.inputId,'class':'cke_dialog_ui_input_select','aria-labelledby':this._.labelId};if(C.size!=undefined)J.size=C.size;if(C.multiple!=undefined)J.multiple=C.multiple;A(G);for(var K=0,L;K<C.items.length&&(L=C.items[K]);K++)I.push('<option value="',l.htmlEncode(L[1]!==undefined?L[1]:L[0]),'" /> ',l.htmlEncode(L[0]));
if(typeof G.controlStyle!='undefined')G.style=G.controlStyle;E.select=new r.dialog.uiElement(B,G,H,'select',null,J,I.join(''));return H.join('');};r.dialog.labeledElement.call(this,B,C,D,F);},file:function(B,C,D){if(arguments.length<3)return;if(C['default']===undefined)C['default']='';var E=l.extend(t.call(this,C),{definition:C,buttons:[]});if(C.validate)this.validate=C.validate;var F=function(){E.frameId=l.getNextId()+'_fileInput';var G=i.isCustomDomain(),H=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" id="',E.frameId,'" title="',C.label,'" src="javascript:void('];H.push(G?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');H.push(')"></iframe>');return H.join('');};B.on('load',function(){var G=h.document.getById(E.frameId),H=G.getParent();H.addClass('cke_dialog_ui_input_file');});r.dialog.labeledElement.call(this,B,C,D,F);},fileButton:function(B,C,D){if(arguments.length<3)return;var E=t.call(this,C),F=this;if(C.validate)this.validate=C.validate;var G=l.extend({},C),H=G.onClick;G.className=(G.className?G.className+' ':'')+'cke_dialog_ui_button';G.onClick=function(I){var J=C['for'];if(!H||H.call(this,I)!==false){B.getContentElement(J[0],J[1]).submit();this.disable();}};B.on('load',function(){B.getContentElement(C['for'][0],C['for'][1])._.buttons.push(F);});r.dialog.button.call(this,B,G,D);},html:(function(){var B=/^\s*<[\w:]+\s+([^>]*)?>/,C=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,D=/\/$/;return function(E,F,G){if(arguments.length<3)return;var H=[],I,J=F.html,K,L;if(J.charAt(0)!='<')J='<span>'+J+'</span>';var M=F.focus;if(M){var N=this.focus;this.focus=function(){N.call(this);typeof M=='function'&&M.call(this);this.fire('focus');};if(F.isFocusable){var O=this.isFocusable;this.isFocusable=O;}this.keyboardFocusable=true;}r.dialog.uiElement.call(this,E,F,H,'span',null,null,'');I=H.join('');K=I.match(B);L=J.match(C)||['','',''];if(D.test(L[1])){L[1]=L[1].slice(0,-1);L[2]='/'+L[2];}G.push([L[1],' ',K[1]||'',L[2]].join(''));};})(),fieldset:function(B,C,D,E,F){var G=F.label,H=function(){var I=[];G&&I.push('<legend>'+G+'</legend>');for(var J=0;J<D.length;J++)I.push(D[J]);return I.join('');};this._={children:C};r.dialog.uiElement.call(this,B,F,E,'fieldset',null,null,H);}},true);r.dialog.html.prototype=new r.dialog.uiElement();r.dialog.labeledElement.prototype=l.extend(new r.dialog.uiElement(),{setLabel:function(B){var C=h.document.getById(this._.labelId);if(C.getChildCount()<1)new k.text(B,h.document).appendTo(C);
else C.getChild(0).$.nodeValue=B;return this;},getLabel:function(){var B=h.document.getById(this._.labelId);if(!B||B.getChildCount()<1)return '';else return B.getChild(0).getText();},eventProcessors:y},true);r.dialog.button.prototype=l.extend(new r.dialog.uiElement(),{click:function(){var B=this;if(!B._.disabled)return B.fire('click',{dialog:B._.dialog});B.getElement().$.blur();return false;},enable:function(){this._.disabled=false;var B=this.getElement();B&&B.removeClass('cke_disabled');},disable:function(){this._.disabled=true;this.getElement().addClass('cke_disabled');},isVisible:function(){return this.getElement().getFirst().isVisible();},isEnabled:function(){return!this._.disabled;},eventProcessors:l.extend({},r.dialog.uiElement.prototype.eventProcessors,{onClick:function(B,C){this.on('click',C);}},true),accessKeyUp:function(){this.click();},accessKeyDown:function(){this.focus();},keyboardFocusable:true},true);r.dialog.textInput.prototype=l.extend(new r.dialog.labeledElement(),{getInputElement:function(){return h.document.getById(this._.inputId);},focus:function(){var B=this.selectParentTab();setTimeout(function(){var C=B.getInputElement();C&&C.$.focus();},0);},select:function(){var B=this.selectParentTab();setTimeout(function(){var C=B.getInputElement();if(C){C.$.focus();C.$.select();}},0);},accessKeyUp:function(){this.select();},setValue:function(B){!B&&(B='');return r.dialog.uiElement.prototype.setValue.apply(this,arguments);},keyboardFocusable:true},x,true);r.dialog.textarea.prototype=new r.dialog.textInput();r.dialog.select.prototype=l.extend(new r.dialog.labeledElement(),{getInputElement:function(){return this._.select.getElement();},add:function(B,C,D){var E=new o('option',this.getDialog().getParentEditor().document),F=this.getInputElement().$;E.$.text=B;E.$.value=C===undefined||C===null?B:C;if(D===undefined||D===null){if(j)F.add(E.$);else F.add(E.$,null);}else F.add(E.$,D);return this;},remove:function(B){var C=this.getInputElement().$;C.remove(B);return this;},clear:function(){var B=this.getInputElement().$;while(B.length>0)B.remove(0);return this;},keyboardFocusable:true},x,true);r.dialog.checkbox.prototype=l.extend(new r.dialog.uiElement(),{getInputElement:function(){return this._.checkbox.getElement();},setValue:function(B,C){this.getInputElement().$.checked=B;!C&&this.fire('change',{value:B});},getValue:function(){return this.getInputElement().$.checked;},accessKeyUp:function(){this.setValue(!this.getValue());},eventProcessors:{onChange:function(B,C){if(!j)return y.onChange.apply(this,arguments);
else{B.on('load',function(){var D=this._.checkbox.getElement();D.on('propertychange',function(E){E=E.data.$;if(E.propertyName=='checked')this.fire('change',{value:D.$.checked});},this);},this);this.on('change',C);}return null;}},keyboardFocusable:true},x,true);r.dialog.radio.prototype=l.extend(new r.dialog.uiElement(),{setValue:function(B,C){var D=this._.children,E;for(var F=0;F<D.length&&(E=D[F]);F++)E.getElement().$.checked=E.getValue()==B;!C&&this.fire('change',{value:B});},getValue:function(){var B=this._.children;for(var C=0;C<B.length;C++){if(B[C].getElement().$.checked)return B[C].getValue();}return null;},accessKeyUp:function(){var B=this._.children,C;for(C=0;C<B.length;C++){if(B[C].getElement().$.checked){B[C].getElement().focus();return;}}B[0].getElement().focus();},eventProcessors:{onChange:function(B,C){if(!j)return y.onChange.apply(this,arguments);else{B.on('load',function(){var D=this._.children,E=this;for(var F=0;F<D.length;F++){var G=D[F].getElement();G.on('propertychange',function(H){H=H.data.$;if(H.propertyName=='checked'&&this.$.checked)E.fire('change',{value:this.getAttribute('value')});});}},this);this.on('change',C);}return null;}},keyboardFocusable:true},x,true);r.dialog.file.prototype=l.extend(new r.dialog.labeledElement(),x,{getInputElement:function(){var B=h.document.getById(this._.frameId).getFrameDocument();return B.$.forms.length>0?new o(B.$.forms[0].elements[0]):this.getElement();},submit:function(){this.getInputElement().getParent().$.submit();return this;},getAction:function(){return this.getInputElement().getParent().$.action;},registerEvents:function(B){var C=/^on([A-Z]\w+)/,D,E=function(G,H,I,J){G.on('formLoaded',function(){G.getInputElement().on(I,J,G);});};for(var F in B){if(!(D=F.match(C)))continue;if(this.eventProcessors[F])this.eventProcessors[F].call(this,this._.dialog,B[F]);else E(this,this._.dialog,D[1].toLowerCase(),B[F]);}return this;},reset:function(){var B=this._,C=h.document.getById(B.frameId),D=C.getFrameDocument(),E=B.definition,F=B.buttons,G=this.formLoadedNumber,H=this.formUnloadNumber,I=B.dialog._.editor.lang.dir,J=B.dialog._.editor.langCode;if(!G){G=this.formLoadedNumber=l.addFunction(function(){this.fire('formLoaded');},this);H=this.formUnloadNumber=l.addFunction(function(){this.getInputElement().clearCustomData();},this);this.getDialog()._.editor.on('destroy',function(){l.removeFunction(G);l.removeFunction(H);});}function K(){D.$.open();if(i.isCustomDomain())D.$.domain=document.domain;var L='';if(E.size)L=E.size-(j?7:0);
D.$.write(['<html dir="'+I+'" lang="'+J+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+I+'" lang="'+J+'" action="',l.htmlEncode(E.action),'">','<input type="file" name="',l.htmlEncode(E.id||'cke_upload'),'" size="',l.htmlEncode(L>0?L:''),'" />','</form>','</body></html>','<script>window.parent.CKEDITOR.tools.callFunction('+G+');','window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction('+H+')}</script>'].join(''));D.$.close();for(var M=0;M<F.length;M++)F[M].enable();};if(i.gecko)setTimeout(K,500);else K();},getValue:function(){return this.getInputElement().$.value||'';},setInitValue:function(){this._.initValue='';},eventProcessors:{onChange:function(B,C){if(!this._.domOnChangeRegistered){this.on('formLoaded',function(){this.getInputElement().on('change',function(){this.fire('change',{value:this.getValue()});},this);},this);this._.domOnChangeRegistered=true;}this.on('change',C);}},keyboardFocusable:true},true);r.dialog.fileButton.prototype=new r.dialog.button();r.dialog.fieldset.prototype=l.clone(r.dialog.hbox.prototype);h.dialog.addUIElement('text',u);h.dialog.addUIElement('password',u);h.dialog.addUIElement('textarea',v);h.dialog.addUIElement('checkbox',v);h.dialog.addUIElement('radio',v);h.dialog.addUIElement('button',v);h.dialog.addUIElement('select',v);h.dialog.addUIElement('file',v);h.dialog.addUIElement('fileButton',v);h.dialog.addUIElement('html',v);h.dialog.addUIElement('fieldset',w);})();q.add('panel',{beforeInit:function(t){t.ui.addHandler(2,r.panel.handler);}});h.UI_PANEL=2;r.panel=function(t,u){var v=this;if(u)l.extend(v,u);l.extend(v,{className:'',css:[]});v.id=l.getNextId();v.document=t;v._={blocks:{}};};r.panel.handler={create:function(t){return new r.panel(t);}};r.panel.prototype={renderHtml:function(t){var u=[];this.render(t,u);return u.join('');},render:function(t,u){var w=this;var v=w.id;u.push('<div class="',t.skinClass,'" lang="',t.langCode,'" role="presentation" style="display:none;z-index:'+(t.config.baseFloatZIndex+1)+'">'+'<div'+' id=',v,' dir=',t.lang.dir,' role="presentation" class="cke_panel cke_',t.lang.dir);if(w.className)u.push(' ',w.className);u.push('">');if(w.forceIFrame||w.css.length){u.push('<iframe id="',v,'_frame" frameborder="0" role="application" src="javascript:void(');u.push(i.isCustomDomain()?"(function(){document.open();document.domain='"+document.domain+"';"+'document.close();'+'})()':'0');
u.push(')"></iframe>');}u.push('</div></div>');return v;},getHolderElement:function(){var t=this._.holder;if(!t){if(this.forceIFrame||this.css.length){var u=this.document.getById(this.id+'_frame'),v=u.getParent(),w=v.getAttribute('dir'),x=v.getParent().getAttribute('class'),y=v.getParent().getAttribute('lang'),z=u.getFrameDocument(),A=l.addFunction(l.bind(function(D){this.isLoaded=true;if(this.onLoad)this.onLoad();},this)),B='<!DOCTYPE html><html dir="'+w+'" class="'+x+'_container" lang="'+y+'">'+'<head>'+'<style>.'+x+'_container{visibility:hidden}</style>'+'</head>'+'<body class="cke_'+w+' cke_panel_frame '+i.cssClass+'" style="margin:0;padding:0"'+' onload="( window.CKEDITOR || window.parent.CKEDITOR ).tools.callFunction('+A+');"></body>'+l.buildStyleHtml(this.css)+'</html>';z.write(B);var C=z.getWindow();C.$.CKEDITOR=h;z.on('key'+(i.opera?'press':'down'),function(D){var G=this;var E=D.data.getKeystroke(),F=G.document.getById(G.id).getAttribute('dir');if(G._.onKeyDown&&G._.onKeyDown(E)===false){D.data.preventDefault();return;}if(E==27||E==(F=='rtl'?39:37))if(G.onEscape&&G.onEscape(E)===false)D.data.preventDefault();},this);t=z.getBody();t.unselectable();i.air&&l.callFunction(A);}else t=this.document.getById(this.id);this._.holder=t;}return t;},addBlock:function(t,u){var v=this;u=v._.blocks[t]=u instanceof r.panel.block?u:new r.panel.block(v.getHolderElement(),u);if(!v._.currentBlock)v.showBlock(t);return u;},getBlock:function(t){return this._.blocks[t];},showBlock:function(t){var u=this._.blocks,v=u[t],w=this._.currentBlock,x=this.forceIFrame?this.document.getById(this.id+'_frame'):this._.holder;x.getParent().getParent().disableContextMenu();if(w){x.removeAttributes(w.attributes);w.hide();}this._.currentBlock=v;x.setAttributes(v.attributes);h.fire('ariaWidget',x);v._.focusIndex=-1;this._.onKeyDown=v.onKeyDown&&l.bind(v.onKeyDown,v);v.onMark=function(y){x.setAttribute('aria-activedescendant',y.getId()+'_option');};v.onUnmark=function(){x.removeAttribute('aria-activedescendant');};v.show();return v;},destroy:function(){this.element&&this.element.remove();}};r.panel.block=l.createClass({$:function(t,u){var v=this;v.element=t.append(t.getDocument().createElement('div',{attributes:{tabIndex:-1,'class':'cke_panel_block',role:'presentation'},styles:{display:'none'}}));if(u)l.extend(v,u);if(!v.attributes.title)v.attributes.title=v.attributes['aria-label'];v.keys={};v._.focusIndex=-1;v.element.disableContextMenu();},_:{markItem:function(t){var w=this;if(t==-1)return;
var u=w.element.getElementsByTag('a'),v=u.getItem(w._.focusIndex=t);if(i.webkit||i.opera)v.getDocument().getWindow().focus();v.focus();w.onMark&&w.onMark(v);}},proto:{show:function(){this.element.setStyle('display','');},hide:function(){var t=this;if(!t.onHide||t.onHide.call(t)!==true)t.element.setStyle('display','none');},onKeyDown:function(t){var y=this;var u=y.keys[t];switch(u){case 'next':var v=y._.focusIndex,w=y.element.getElementsByTag('a'),x;while(x=w.getItem(++v)){if(x.getAttribute('_cke_focus')&&x.$.offsetWidth){y._.focusIndex=v;x.focus();break;}}return false;case 'prev':v=y._.focusIndex;w=y.element.getElementsByTag('a');while(v>0&&(x=w.getItem(--v))){if(x.getAttribute('_cke_focus')&&x.$.offsetWidth){y._.focusIndex=v;x.focus();break;}}return false;case 'click':v=y._.focusIndex;x=v>=0&&y.element.getElementsByTag('a').getItem(v);if(x)x.$.click?x.$.click():x.$.onclick();return false;}return true;}}});q.add('listblock',{requires:['panel'],onLoad:function(){r.panel.prototype.addListBlock=function(t,u){return this.addBlock(t,new r.listBlock(this.getHolderElement(),u));};r.listBlock=l.createClass({base:r.panel.block,$:function(t,u){var x=this;u=u||{};var v=u.attributes||(u.attributes={});(x.multiSelect=!!u.multiSelect)&&(v['aria-multiselectable']=true);!v.role&&(v.role='listbox');x.base.apply(x,arguments);var w=x.keys;w[40]='next';w[9]='next';w[38]='prev';w[2000+9]='prev';w[32]='click';x._.pendingHtml=[];x._.items={};x._.groups={};},_:{close:function(){if(this._.started){this._.pendingHtml.push('</ul>');delete this._.started;}},getClick:function(){if(!this._.click)this._.click=l.addFunction(function(t){var v=this;var u=true;if(v.multiSelect)u=v.toggle(t);else v.mark(t);if(v.onClick)v.onClick(t,u);},this);return this._.click;}},proto:{add:function(t,u,v){var y=this;var w=y._.pendingHtml,x=l.getNextId();if(!y._.started){w.push('<ul role="presentation" class=cke_panel_list>');y._.started=1;y._.size=y._.size||0;}y._.items[t]=x;w.push('<li id=',x,' class=cke_panel_listItem role=presentation><a id="',x,'_option" _cke_focus=1 hidefocus=true title="',v||t,'" href="javascript:void(\'',t,'\')" onclick="CKEDITOR.tools.callFunction(',y._.getClick(),",'",t,"'); return false;\"",' role="option" aria-posinset="'+ ++y._.size+'">',u||t,'</a></li>');},startGroup:function(t){this._.close();var u=l.getNextId();this._.groups[t]=u;this._.pendingHtml.push('<h1 role="presentation" id=',u,' class=cke_panel_grouptitle>',t,'</h1>');},commit:function(){var w=this;w._.close();w.element.appendHtml(w._.pendingHtml.join(''));
var t=w._.items,u=w.element.getDocument();for(var v in t)u.getById(t[v]+'_option').setAttribute('aria-setsize',w._.size);delete w._.size;w._.pendingHtml=[];},toggle:function(t){var u=this.isMarked(t);if(u)this.unmark(t);else this.mark(t);return!u;},hideGroup:function(t){var u=this.element.getDocument().getById(this._.groups[t]),v=u&&u.getNext();if(u){u.setStyle('display','none');if(v&&v.getName()=='ul')v.setStyle('display','none');}},hideItem:function(t){this.element.getDocument().getById(this._.items[t]).setStyle('display','none');},showAll:function(){var t=this._.items,u=this._.groups,v=this.element.getDocument();for(var w in t)v.getById(t[w]).setStyle('display','');for(var x in u){var y=v.getById(u[x]),z=y.getNext();y.setStyle('display','');if(z&&z.getName()=='ul')z.setStyle('display','');}},mark:function(t){var w=this;if(!w.multiSelect)w.unmarkAll();var u=w._.items[t],v=w.element.getDocument().getById(u);v.addClass('cke_selected');w.element.getDocument().getById(u+'_option').setAttribute('aria-selected',true);w.element.setAttribute('aria-activedescendant',u+'_option');w.onMark&&w.onMark(v);},unmark:function(t){var u=this;u.element.getDocument().getById(u._.items[t]).removeClass('cke_selected');u.onUnmark&&u.onUnmark(u._.items[t]);},unmarkAll:function(){var w=this;var t=w._.items,u=w.element.getDocument();for(var v in t)u.getById(t[v]).removeClass('cke_selected');w.onUnmark&&w.onUnmark();},isMarked:function(t){return this.element.getDocument().getById(this._.items[t]).hasClass('cke_selected');},focus:function(t){this._.focusIndex=-1;if(t){var u=this.element.getDocument().getById(this._.items[t]).getFirst(),v=this.element.getElementsByTag('a'),w,x=-1;while(w=v.getItem(++x)){if(w.equals(u)){this._.focusIndex=x;break;}}setTimeout(function(){u.focus();},0);}}}});}});h.themes.add('default',(function(){function t(u,v){var w,x;x=u.config.sharedSpaces;x=x&&x[v];x=x&&h.document.getById(x);if(x){var y='<span class="cke_shared " dir="'+u.lang.dir+'"'+'>'+'<span class="'+u.skinClass+' '+u.id+' cke_editor_'+u.name+'">'+'<span class="'+i.cssClass+'">'+'<span class="cke_wrapper cke_'+u.lang.dir+'">'+'<span class="cke_editor">'+'<div class="cke_'+v+'">'+'</div></span></span></span></span></span>',z=x.append(o.createFromHtml(y,x.getDocument()));if(x.getCustomData('cke_hasshared'))z.hide();else x.setCustomData('cke_hasshared',1);w=z.getChild([0,0,0,0]);!u.sharedSpaces&&(u.sharedSpaces={});u.sharedSpaces[v]=w;u.on('focus',function(){for(var A=0,B,C=x.getChildren();B=C.getItem(A);
A++){if(B.type==1&&!B.equals(z)&&B.hasClass('cke_shared'))B.hide();}z.show();});u.on('destroy',function(){z.remove();});}return w;};return{build:function(u,v){var w=u.name,x=u.element,y=u.elementMode;if(!x||y==0)return;if(y==1)x.hide();var z=u.fire('themeSpace',{space:'top',html:''}).html,A=u.fire('themeSpace',{space:'contents',html:''}).html,B=u.fireOnce('themeSpace',{space:'bottom',html:''}).html,C=A&&u.config.height,D=u.config.tabIndex||u.element.getAttribute('tabindex')||0;if(!A)C='auto';else if(!isNaN(C))C+='px';var E='',F=u.config.width;if(F){if(!isNaN(F))F+='px';E+='width: '+F+';';}var G=z&&t(u,'top'),H=t(u,'bottom');G&&(G.setHtml(z),z='');H&&(H.setHtml(B),B='');var I=o.createFromHtml(['<span id="cke_',w,'" class="',u.skinClass,' ',u.id,' cke_editor_',w,'" dir="',u.lang.dir,'" title="',i.gecko?' ':'','" lang="',u.langCode,'"'+(i.webkit?' tabindex="'+D+'"':'')+' role="application"'+' aria-labelledby="cke_',w,'_arialbl"'+(E?' style="'+E+'"':'')+'>'+'<span id="cke_',w,'_arialbl" class="cke_voice_label">'+u.lang.editor+'</span>'+'<span class="',i.cssClass,'" role="presentation"><span class="cke_wrapper cke_',u.lang.dir,'" role="presentation"><table class="cke_editor" border="0" cellspacing="0" cellpadding="0" role="presentation"><tbody><tr',z?'':' style="display:none"',' role="presentation"><td id="cke_top_',w,'" class="cke_top" role="presentation">',z,'</td></tr><tr',A?'':' style="display:none"',' role="presentation"><td id="cke_contents_',w,'" class="cke_contents" style="height:',C,'" role="presentation">',A,'</td></tr><tr',B?'':' style="display:none"',' role="presentation"><td id="cke_bottom_',w,'" class="cke_bottom" role="presentation">',B,'</td></tr></tbody></table><style>.',u.skinClass,'{visibility:hidden;}</style></span></span></span>'].join(''));I.getChild([1,0,0,0,0]).unselectable();I.getChild([1,0,0,0,2]).unselectable();if(y==1)I.insertAfter(x);else x.append(I);u.container=I;I.disableContextMenu();u.fireOnce('themeLoaded');u.fireOnce('uiReady');},buildDialog:function(u){var v=l.getNextNumber(),w=o.createFromHtml(['<div class="',u.id,'_dialog cke_editor_',u.name.replace('.','\\.'),'_dialog cke_skin_',u.skinName,'" dir="',u.lang.dir,'" lang="',u.langCode,'" role="dialog" aria-labelledby="%title#"><table class="cke_dialog',' '+i.cssClass,' cke_',u.lang.dir,'" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="%body" role="presentation"><div id="%title#" class="%title" role="presentation"></div><a id="%close_button#" class="%close_button" href="javascript:void(0)" title="'+u.lang.common.close+'" role="button"><span class="cke_label">X</span></a>'+'<div id="%tabs#" class="%tabs" role="tablist"></div>'+'<table class="%contents" role="presentation">'+'<tr>'+'<td id="%contents#" class="%contents" role="presentation"></td>'+'</tr>'+'<tr>'+'<td id="%footer#" class="%footer" role="presentation"></td>'+'</tr>'+'</table>'+'</div>'+'<div id="%tl#" class="%tl"></div>'+'<div id="%tc#" class="%tc"></div>'+'<div id="%tr#" class="%tr"></div>'+'<div id="%ml#" class="%ml"></div>'+'<div id="%mr#" class="%mr"></div>'+'<div id="%bl#" class="%bl"></div>'+'<div id="%bc#" class="%bc"></div>'+'<div id="%br#" class="%br"></div>'+'</td></tr>'+'</table>',j?'':'<style>.cke_dialog{visibility:hidden;}</style>','</div>'].join('').replace(/#/g,'_'+v).replace(/%/g,'cke_dialog_')),x=w.getChild([0,0,0,0,0]),y=x.getChild(0),z=x.getChild(1);
y.unselectable();z.unselectable();return{element:w,parts:{dialog:w.getChild(0),title:y,close:z,tabs:x.getChild(2),contents:x.getChild([3,0,0,0]),footer:x.getChild([3,0,1,0])}};},destroy:function(u){var v=u.container,w=u.element;if(v){v.clearCustomData();v.remove();}if(w){w.clearCustomData();u.elementMode==1&&w.show();delete u.element;}}};})());h.editor.prototype.getThemeSpace=function(t){var u='cke_'+t,v=this._[u]||(this._[u]=h.document.getById(u+'_'+this.name));return v;};h.editor.prototype.resize=function(t,u,v,w){var x=this.container,y=h.document.getById('cke_contents_'+this.name),z=w?x.getChild(1):x;i.webkit&&z.setStyle('display','none');z.setSize('width',t,true);if(i.webkit){z.$.offsetWidth;z.setStyle('display','');}var A=v?0:(z.$.offsetHeight||0)-(y.$.clientHeight||0);y.setStyle('height',Math.max(u-A,0)+'px');this.fire('resize');};h.editor.prototype.getResizable=function(){return this.container;};})();
